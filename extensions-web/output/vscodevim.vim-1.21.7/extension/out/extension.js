/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={4099:e=>{var t=[],r=[],n=function(){};function i(e){return!~t.indexOf(e)&&(t.push(e),!0)}function o(e){n=e}function s(e){for(var r=[],n=0;n<t.length;n++)if(t[n].async)r.push(t[n]);else if(t[n](e))return!0;return!!r.length&&new Promise((function(t){Promise.all(r.map((function(t){return t(e)}))).then((function(e){t(e.some(Boolean))}))}))}function a(e){return!~r.indexOf(e)&&(r.push(e),!0)}function c(){n.apply(n,arguments)}function u(e){for(var t=0;t<r.length;t++)e=r[t].apply(r[t],arguments);return e}function l(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function d(e){return e.enabled=!1,e.modify=a,e.set=o,e.use=i,l((function(){return!1}),e)}function h(e){return e.enabled=!0,e.modify=a,e.set=o,e.use=i,l((function(){var t=Array.prototype.slice.call(arguments,0);return c.call(c,e,u(t,e)),!0}),e)}e.exports=function(e){return e.introduce=l,e.enabled=s,e.process=u,e.modify=a,e.write=c,e.nope=d,e.yep=h,e.set=o,e.use=i,e}},3420:(e,t,r)=>{e.exports=r(3601)},3601:(e,t,r)=>{var n=r(4099)((function e(t,r){return(r=r||{}).namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)}));e.exports=n},7438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachedKeyDecoder=void 0;const n=r(1259);t.CachedKeyDecoder=class{constructor(e=16,t=16){this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}get(e,t,r){const n=this.caches[r-1],i=n.length;e:for(let o=0;o<i;o++){const i=n[o],s=i.bytes;for(let n=0;n<r;n++)if(s[n]!==e[t+n])continue e;return i.value}return null}store(e,t){const r=this.caches[e.length-1],n={bytes:e,value:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){const i=this.get(e,t,r);if(null!=i)return i;const o=n.utf8DecodeJs(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,o),o}}},3518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.DataViewIndexOutOfBoundsError=void 0;const n=r(8938),i=r(443),o=r(3305),s=r(1259),a=r(1340),c=r(7438),u=e=>{const t=typeof e;return"string"===t||"number"===t},l=new DataView(new ArrayBuffer(0)),d=new Uint8Array(l.buffer);t.DataViewIndexOutOfBoundsError=(()=>{try{l.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();const h=new t.DataViewIndexOutOfBoundsError("Insufficient data"),m=new c.CachedKeyDecoder;t.Decoder=class{constructor(e=i.ExtensionCodec.defaultCodec,t,r=4294967295,n=4294967295,o=4294967295,s=4294967295,a=4294967295,c=m){this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=o,this.maxMapLength=s,this.maxExtLength=a,this.cachedKeyDecoder=c,this.totalPos=0,this.pos=0,this.view=l,this.bytes=d,this.headByte=-1,this.stack=[]}setBuffer(e){this.bytes=a.ensureUint8Array(e),this.view=a.createDataView(this.bytes),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining()){const t=this.bytes.subarray(this.pos),r=a.ensureUint8Array(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e=1){return this.view.byteLength-this.pos>=e}createNoExtraBytesError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} byte(s) found at buffer[${e}]`)}decodeSingleSync(){const e=this.decodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return e}async decodeSingleAsync(e){let r,i=!1;for await(const n of e){if(i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(n);try{r=this.decodeSync(),i=!0}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}if(i){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return r}const{headByte:o,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parcing ${n.prettyByte(o)} at ${a} (${s} in the current buffer)`)}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){let n=r,i=-1;for await(const o of e){if(r&&0===i)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(o),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.decodeSync(),0!=--i;);}catch(e){if(!(e instanceof t.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}decodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){const r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue e}t=[]}else{const r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeUtf8String(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeUtf8String(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeUtf8String(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new Error(`Unrecognized type byte: ${n.prettyByte(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const r=this.stack;for(;r.length>0;){const e=r[r.length-1];if(0===e.type){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;r.pop(),t=e.array}else{if(1===e.type){if(!u(t))throw new Error("The type of key must be string or number but "+typeof t);e.key=t,e.type=2;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=1;continue e}r.pop(),t=e.map}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Error(`Unrecognized array type byte: ${n.prettyByte(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new Error(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})}pushArrayState(e){if(e>this.maxArrayLength)throw new Error(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:0,size:e,array:new Array(e),position:0})}decodeUtf8String(e,t){var r;if(e>this.maxStrLength)throw new Error(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw h;const n=this.pos+t;let i;return i=this.stateIsMapKey()&&(null===(r=this.cachedKeyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.cachedKeyDecoder.decode(this.bytes,n,e):s.TEXT_ENCODING_AVAILABLE&&e>s.TEXT_DECODER_THRESHOLD?s.utf8DecodeTD(this.bytes,n,e):s.utf8DecodeJs(this.bytes,n,e),this.pos+=t+e,i}stateIsMapKey(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type}decodeBinary(e,t){if(e>this.maxBinLength)throw new Error(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw h;const r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new Error(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=o.getUint64(this.view,this.pos);return this.pos+=8,e}readI64(){const e=o.getInt64(this.view,this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}},9247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Encoder=t.DEFAULT_INITIAL_BUFFER_SIZE=t.DEFAULT_MAX_DEPTH=void 0;const n=r(1259),i=r(443),o=r(3305),s=r(1340);t.DEFAULT_MAX_DEPTH=100,t.DEFAULT_INITIAL_BUFFER_SIZE=2048,t.Encoder=class{constructor(e=i.ExtensionCodec.defaultCodec,r,n=t.DEFAULT_MAX_DEPTH,o=t.DEFAULT_INITIAL_BUFFER_SIZE,s=!1,a=!1,c=!1){this.extensionCodec=e,this.context=r,this.maxDepth=n,this.initialBufferSize=o,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}encode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)}getUint8Array(){return this.bytes.subarray(0,this.pos)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=e.length;if(n.TEXT_ENCODING_AVAILABLE&&t>n.TEXT_ENCODER_THRESHOLD){const t=n.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),n.utf8EncodeTE(e,this.bytes,this.pos),this.pos+=t}else{const t=n.utf8Count(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),n.utf8EncodeJs(e,this.bytes,this.pos),this.pos+=t}}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const r=s.ensureUint8Array(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large array: ${r}`);this.writeU8(221),this.writeU32(r)}for(const r of e)this.encode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(const n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large map object: ${n}`);this.writeU8(223),this.writeU32(n)}for(const n of r){const r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.encode(r,t+1))}}encodeExtension(e){const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),o.setUint64(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),o.setInt64(this.view,this.pos,e),this.pos+=8}}},2103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtData=void 0,t.ExtData=class{constructor(e,t){this.type=e,this.data=t}}},443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionCodec=void 0;const n=r(2103),i=r(5636);let o=(()=>{class e{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(i.timestampExtension)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const n=1+e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(null!=i){const o=i(e,t);if(null!=o){const e=-1-r;return new n.ExtData(e,o)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(null!=i){const o=i(e,t);if(null!=o){const e=r;return new n.ExtData(e,o)}}}return e instanceof n.ExtData?e:null}decode(e,t,r){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new n.ExtData(t,e)}}return e.defaultCodec=new e,e})();t.ExtensionCodec=o},9679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.defaultDecodeOptions=void 0;const n=r(3518);t.defaultDecodeOptions={},t.decode=function(e,r=t.defaultDecodeOptions){const i=new n.Decoder(r.extensionCodec,r.context,r.maxStrLength,r.maxBinLength,r.maxArrayLength,r.maxMapLength,r.maxExtLength);return i.setBuffer(e),i.decodeSingleSync()}},6044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeStream=t.decodeArrayStream=t.decodeAsync=void 0;const n=r(3518),i=r(9679),o=r(7587);t.decodeAsync=async function(e,t=i.defaultDecodeOptions){const r=o.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeSingleAsync(r)},t.decodeArrayStream=function(e,t=i.defaultDecodeOptions){const r=o.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)},t.decodeStream=function(e,t=i.defaultDecodeOptions){const r=o.ensureAsyncIterabe(e);return new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}},3954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=void 0;const n=r(9247),i={};t.encode=function(e,t=i){const r=new n.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined);return r.encode(e,1),r.getUint8Array()}},3308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3954);Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return n.encode}});var i=r(9679);Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return i.decode}});var o=r(6044);Object.defineProperty(t,"decodeAsync",{enumerable:!0,get:function(){return o.decodeAsync}}),Object.defineProperty(t,"decodeArrayStream",{enumerable:!0,get:function(){return o.decodeArrayStream}}),Object.defineProperty(t,"decodeStream",{enumerable:!0,get:function(){return o.decodeStream}});var s=r(3518);Object.defineProperty(t,"Decoder",{enumerable:!0,get:function(){return s.Decoder}});var a=r(9247);Object.defineProperty(t,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var c=r(443);Object.defineProperty(t,"ExtensionCodec",{enumerable:!0,get:function(){return c.ExtensionCodec}});var u=r(2103);Object.defineProperty(t,"ExtData",{enumerable:!0,get:function(){return u.ExtData}});var l=r(5636);Object.defineProperty(t,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return l.EXT_TIMESTAMP}}),Object.defineProperty(t,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return l.encodeDateToTimeSpec}}),Object.defineProperty(t,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return l.encodeTimeSpecToTimestamp}}),Object.defineProperty(t,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return l.decodeTimestampToTimeSpec}}),Object.defineProperty(t,"encodeTimestampExtension",{enumerable:!0,get:function(){return l.encodeTimestampExtension}}),Object.defineProperty(t,"decodeTimestampExtension",{enumerable:!0,get:function(){return l.decodeTimestampExtension}})},5636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestampExtension=t.decodeTimestampExtension=t.decodeTimestampToTimeSpec=t.encodeTimestampExtension=t.encodeDateToTimeSpec=t.encodeTimeSpecToTimestamp=t.EXT_TIMESTAMP=void 0;const n=r(3305);function i({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const r=e/4294967296,n=4294967295&e,i=new Uint8Array(8),o=new DataView(i.buffer);return o.setUint32(0,t<<2|3&r),o.setUint32(4,n),i}}{const r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),n.setInt64(i,4,e),r}}function o(e){const t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function s(e){return e instanceof Date?i(o(e)):null}function a(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:n.getInt64(t,4),nsec:t.getUint32(0)};default:throw new Error(`Unrecognized data size for timestamp: ${e.length}`)}}function c(e){const t=a(e);return new Date(1e3*t.sec+t.nsec/1e6)}t.EXT_TIMESTAMP=-1,t.encodeTimeSpecToTimestamp=i,t.encodeDateToTimeSpec=o,t.encodeTimestampExtension=s,t.decodeTimestampToTimeSpec=a,t.decodeTimestampExtension=c,t.timestampExtension={type:t.EXT_TIMESTAMP,encode:s,decode:c}},3305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUint64=t.getInt64=t.setInt64=t.setUint64=void 0,t.setUint64=function(e,t,r){const n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)},t.setInt64=function(e,t,r){const n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)},t.getInt64=function(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)},t.getUint64=function(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},8938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyByte=void 0,t.prettyByte=function(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}},7587:(e,t)=>{"use strict";function r(e){return null!=e[Symbol.asyncIterator]}function n(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*i(e){const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;n(r),yield r}}finally{t.releaseLock()}}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureAsyncIterabe=t.asyncIterableFromStream=t.isAsyncIterable=void 0,t.isAsyncIterable=r,t.asyncIterableFromStream=i,t.ensureAsyncIterabe=function(e){return r(e)?e:i(e)}},1340:(e,t)=>{"use strict";function r(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDataView=t.ensureUint8Array=void 0,t.ensureUint8Array=r,t.createDataView=function(e){if(e instanceof ArrayBuffer)return new DataView(e);const t=r(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}},1259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utf8DecodeTD=t.TEXT_DECODER_THRESHOLD=t.utf8DecodeJs=t.utf8EncodeTE=t.TEXT_ENCODER_THRESHOLD=t.utf8EncodeJs=t.utf8Count=t.TEXT_ENCODING_AVAILABLE=void 0,t.TEXT_ENCODING_AVAILABLE="undefined"!=typeof process&&"never"!==process.env.TEXT_ENCODING&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder,t.utf8Count=function(e){const t=e.length;let r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if(0!=(4294967168&i))if(0==(4294965248&i))r+=2;else{if(i>=55296&&i<=56319&&n<t){const t=e.charCodeAt(n);56320==(64512&t)&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}r+=0==(4294901760&i)?3:4}else r++}return r},t.utf8EncodeJs=function(e,t,r){const n=e.length;let i=r,o=0;for(;o<n;){let r=e.charCodeAt(o++);if(0!=(4294967168&r)){if(0==(4294965248&r))t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&o<n){const t=e.charCodeAt(o);56320==(64512&t)&&(++o,r=((1023&r)<<10)+(1023&t)+65536)}0==(4294901760&r)?(t[i++]=r>>12&15|224,t[i++]=r>>6&63|128):(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128)}t[i++]=63&r|128}else t[i++]=r}};const r=t.TEXT_ENCODING_AVAILABLE?new TextEncoder:void 0;t.TEXT_ENCODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_ENCODING?200:0,t.utf8EncodeTE=(null==r?void 0:r.encodeInto)?function(e,t,n){r.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(r.encode(e),n)},t.utf8DecodeJs=function(e,t,r){let n=t;const i=n+r,o=[];let s="";for(;n<i;){const t=e[n++];if(0==(128&t))o.push(t);else if(192==(224&t)){const r=63&e[n++];o.push((31&t)<<6|r)}else if(224==(240&t)){const r=63&e[n++],i=63&e[n++];o.push((31&t)<<12|r<<6|i)}else if(240==(248&t)){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,o.push(r>>>10&1023|55296),r=56320|1023&r),o.push(r)}else o.push(t);o.length>=4096&&(s+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(s+=String.fromCharCode(...o)),s};const n=t.TEXT_ENCODING_AVAILABLE?new TextDecoder:null;t.TEXT_DECODER_THRESHOLD="undefined"!=typeof process&&"force"!==process.env.TEXT_DECODER?200:0,t.utf8DecodeTD=function(e,t,r){const i=e.subarray(t,t+r);return n.decode(i)}},4409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.isAsync)(e)?function(...t){const r=t.pop();return a(e.apply(this,t),r)}:(0,n.default)((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return a(n,r);r(null,n)}))};var n=s(r(3519)),i=s(r(3111)),o=r(8993);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.then((e=>{c(t,null,e)}),(e=>{c(t,e&&e.message?e:new Error(e))}))}function c(e,t,r){try{e(t,r)}catch(e){(0,i.default)((e=>{throw e}),e)}}e.exports=t.default},1846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(5616)),i=l(r(1605)),o=l(r(7388)),s=l(r(6979)),a=l(r(3362)),c=l(r(8993)),u=l(r(2795));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){r=(0,s.default)(r);var n=0,o=0,{length:c}=e,u=!1;function l(e,t){!1===e&&(u=!0),!0!==u&&(e?r(e):++o!==c&&t!==i.default||r(null))}for(0===c&&r(null);n<c;n++)t(e[n],n,(0,a.default)(l))}function h(e,t,r){return(0,o.default)(e,1/0,t,r)}t.default=(0,u.default)((function(e,t,r){return((0,n.default)(e)?d:h)(e,(0,c.default)(t),r)}),3),e.exports=t.default},7388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(6954)),i=s(r(8993)),o=s(r(2795));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,r,o){return(0,n.default)(t)(e,(0,i.default)(r),o)}),4),e.exports=t.default},667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(7388)),i=o(r(2795));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,r){return(0,n.default)(e,1,t,r)}),3),e.exports=t.default},8058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1846)),i=a(r(6529)),o=a(r(8993)),s=a(r(2795));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)((function(e,t,r){return(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)}),3),e.exports=t.default},8617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){let o=!1,s=!1,a=!1,c=0,u=0;function l(){c>=t||a||o||(a=!0,e.next().then((({value:e,done:t})=>{if(!s&&!o){if(a=!1,t)return o=!0,void(c<=0&&n(null));c++,r(e,u,d),u++,l()}})).catch(h))}function d(e,t){if(c-=1,!s)return e?h(e):!1===e?(o=!0,void(s=!0)):t===i.default||o&&c<=0?(o=!0,n(null)):void l()}function h(e){s||(a=!1,o=!0,n(e))}l()};var n,i=(n=r(1605))&&n.__esModule?n:{default:n};e.exports=t.default},2795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}},e.exports=t.default},1605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},6954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(6979)),i=u(r(9733)),o=u(r(3362)),s=r(8993),a=u(r(8617)),c=u(r(1605));function u(e){return e&&e.__esModule?e:{default:e}}t.default=e=>(t,r,u)=>{if(u=(0,n.default)(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,s.isAsyncGenerator)(t))return(0,a.default)(t,e,r,u);if((0,s.isAsyncIterable)(t))return(0,a.default)(t[Symbol.asyncIterator](),e,r,u);var l=(0,i.default)(t),d=!1,h=!1,m=0,f=!1;function p(e,t){if(!h)if(m-=1,e)d=!0,u(e);else if(!1===e)d=!0,h=!0;else{if(t===c.default||d&&m<=0)return d=!0,u(null);f||g()}}function g(){for(f=!0;m<e&&!d;){var t=l();if(null===t)return d=!0,void(m<=0&&u(null));m+=1,r(t.value,t.key,(0,o.default)(p))}f=!1}g()},e.exports=t.default},7818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default},3519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}},e.exports=t.default},5616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},e.exports=t.default},9733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,o,s,a=(0,i.default)(e);return a?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(a):(r=(t=e)?Object.keys(t):[],o=-1,s=r.length,function(){var e=r[++o];return o<s?{value:t[e],key:e}:null})};var n=o(r(5616)),i=o(r(7818));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},6979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},e.exports=t.default},3362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},e.exports=t.default},3409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(5616)),i=s(r(8993)),o=s(r(2795));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(((e,t,r)=>{var o=(0,n.default)(t)?[]:{};e(t,((e,t,r)=>{(0,i.default)(e)(((e,...n)=>{n.length<2&&([n]=n),o[t]=n,r(e)}))}),(e=>r(e,o)))}),3),e.exports=t.default},3111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=o,t.wrap=s;var r,n=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,i=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function o(e){setTimeout(e,0)}function s(e){return(t,...r)=>e((()=>t(...r)))}r=n?setImmediate:i?process.nextTick:o,t.default=s(r)},6529:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t,r,n)=>e(t,n)},e.exports=t.default},8993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n,i=(n=r(4409))&&n.__esModule?n:{default:n};function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return o(e)?(0,i.default)(e):e},t.isAsync=o,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},8415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(i.default,e,t)};var n=o(r(3409)),i=o(r(667));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},5420:e=>{var t=Object.prototype.toString,r="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return o=e,"ArrayBuffer"===t.call(o).slice(8,-1)?function(e,t,n){t>>>=0;var i=e.byteLength-t;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=i;else if((n>>>=0)>i)throw new RangeError("'length' is out of bounds");return r?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}(e,n,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return r?Buffer.from(e,t):new Buffer(e,t)}(e,n):r?Buffer.from(e):new Buffer(e);var o}},8168:(e,t,r)=>{var n=r(9092),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var s=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var c=s[a].channels,u=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:c}),Object.defineProperty(s[a],"labels",{value:u})}s.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,s=Math.min(n,i,o),a=Math.max(n,i,o),c=a-s;return a===s?t=0:n===a?t=(i-o)/c:i===a?t=2+(o-n)/c:o===a&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(s+a)/2,[t,100*(a===s?0:r<=.5?c/(a+s):c/(2-a-s)),100*r]},s.rgb.hsv=function(e){var t,r,n,i,o,s=e[0]/255,a=e[1]/255,c=e[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),d=function(e){return(u-e)/6/l+.5};return 0===l?i=o=0:(o=l/u,t=d(s),r=d(a),n=d(c),s===u?i=n-r:a===u?i=1/3+t-n:c===u&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},s.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[s.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,n))*100,100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},s.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},s.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,s,a=1/0;for(var c in n)if(n.hasOwnProperty(c)){var u=(o=e,s=n[c],Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));u<a&&(a=u,r=c)}return r},s.keyword.rgb=function(e){return n[e]},s.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},s.rgb.lab=function(e){var t=s.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.hsl.rgb=function(e){var t,r,n,i,o,s=e[0]/360,a=e[1]/100,c=e[2]/100;if(0===a)return[o=255*c,o,o];t=2*c-(r=c<.5?c*(1+a):c+a-c*a),i=[0,0,0];for(var u=0;u<3;u++)(n=s+1/3*-(u-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*o;return i},s.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),(n+r)/2*100]},s.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}},s.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,s=e[2]/100,a=Math.max(s,.01);return n=(2-o)*s,r=o*a,[i,100*(r=(r/=(t=(2-o)*a)<=1?t:2-t)||0),100*(n/=2)]},s.hwb.rgb=function(e){var t,r,n,i,o,s,a,c=e[0]/360,u=e[1]/100,l=e[2]/100,d=u+l;switch(d>1&&(u/=d,l/=d),n=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(n=1-n),i=u+n*((r=1-l)-u),t){default:case 6:case 0:o=r,s=i,a=u;break;case 1:o=i,s=r,a=u;break;case 2:o=u,s=r,a=i;break;case 3:o=u,s=i,a=r;break;case 4:o=i,s=u,a=r;break;case 5:o=r,s=u,a=i}return[255*o,255*s,255*a]},s.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},s.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,s=e[2]/100;return r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,t=(t=3.2406*i+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},s.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},s.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),s=Math.pow(t,3),a=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=s>.008856?s:(t-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},s.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},s.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},s.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:s.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},s.hsv.ansi16=function(e){return s.rgb.ansi16(s.hsv.rgb(e),e[2])},s.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},s.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},s.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},s.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},s.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},s.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),s=Math.min(Math.min(r,n),i),a=o-s;return t=a<=0?0:o===r?(n-i)/a%6:o===n?2+(i-r)/a:4+(r-n)/a+4,t/=6,[360*(t%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(e){var t,r=e[1]/100,n=e[2]/100,i=0;return(t=n<.5?2*r*n:2*r*(1-n))<1&&(i=(n-.5*t)/(1-t)),[e[0],100*t,100*i]},s.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],s=t%1*6,a=s%1,c=1-a;switch(Math.floor(s)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},s.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},s.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},s.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},s.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},s.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},s.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},s.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},s.gray.hsl=s.gray.hsv=function(e){return[0,0,e[0]]},s.gray.hwb=function(e){return[0,100,e[0]]},s.gray.cmyk=function(e){return[0,0,0,e[0]]},s.gray.lab=function(e){return[e[0],0,0]},s.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},s.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},2085:(e,t,r)=>{var n=r(8168),i=r(4111),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},9092:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:(e,t,r)=>{var n=r(8168);function i(e,t){return function(r){return t(e(r))}}function o(e,t){for(var r=[t[e].parent,e],o=n[t[e].parent][e],s=t[e].parent;t[s].parent;)r.unshift(t[s].parent),o=i(n[t[s].parent][s],o),s=t[s].parent;return o.conversion=r,o}e.exports=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),s=o.length,a=0;a<s;a++){var c=o[a],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,r.unshift(c))}return t}(e),r={},i=Object.keys(t),s=i.length,a=0;a<s;a++){var c=i[a];null!==t[c].parent&&(r[c]=o(c,t))}return r}},8874:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9818:(e,t,r)=>{var n=r(8874),i=r(6851),o={};for(var s in n)n.hasOwnProperty(s)&&(o[n[s]]=s);var a=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),r="hsl";break;case"hwb":t=a.get.hwb(e),r="hwb";break;default:t=a.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,r,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var s=2*r;o[r]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)o[r]=parseInt(t[r]+t[r],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(t[r+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=n[t[1]])?(o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(r=0;r<3;r++)o[r]=c(o[r],0,255);return o[3]=c(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},6767:(e,t,r)=>{"use strict";var n=r(9818),i=r(2085),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(i).forEach((function(e){a[o.call(i[e].labels).sort().join("")]=e}));var c={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in s&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,l;if(e)if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,l=i[this.model].channels,this.color=d.value.slice(0,l),this.valpha="number"==typeof d.value[l]?d.value[l]:1}else if(e.length){this.model=t||"rgb",l=i[this.model].channels;var h=o.call(e,0,l);this.color=m(h,l),this.valpha="number"==typeof e[l]?e[l]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var p=f.sort().join("");if(!(p in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[p];var g=i[this.model].labels,v=[];for(r=0;r<g.length;r++)v.push(e[g[r]]);this.color=m(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(c[this.model])for(l=i[this.model].channels,r=0;r<l;r++){var y=c[this.model][r];y&&(this.color[r]=y(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function m(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,d(255)),green:l("rgb",1,d(255)),blue:l("rgb",2,d(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,d(100)),lightness:l("hsl",2,d(100)),saturationv:l("hsv",1,d(100)),value:l("hsv",2,d(100)),chroma:l("hcg",1,d(100)),gray:l("hcg",2,d(100)),white:l("hwb",1,d(100)),wblack:l("hwb",2,d(100)),cyan:l("cmyk",0,d(100)),magenta:l("cmyk",1,d(100)),yellow:l("cmyk",2,d(100)),black:l("cmyk",3,d(100)),x:l("xyz",0,d(100)),y:l("xyz",1,d(100)),z:l("xyz",2,d(100)),l:l("lab",0,d(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return u.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===s.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(h(i[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=m(o.call(arguments),t)),new u(r,e)}}})),e.exports=u},292:e=>{e.exports=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]},4683:(e,t,r)=>{var n=r(292),i=n.filter((function(e){return!!e.css})),o=n.filter((function(e){return!!e.vga}));e.exports=function(t){var r=e.exports.get(t);return r&&r.value},e.exports.get=function(e){return e=(e=e||"").trim().toLowerCase(),n.filter((function(t){return t.name.toLowerCase()===e})).pop()},e.exports.all=e.exports.get.all=function(){return n},e.exports.get.css=function(e){return e?(e=(e=e||"").trim().toLowerCase(),i.filter((function(t){return t.name.toLowerCase()===e})).pop()):i},e.exports.get.vga=function(e){return e?(e=(e=e||"").trim().toLowerCase(),o.filter((function(t){return t.name.toLowerCase()===e})).pop()):o}},2517:(e,t,r)=>{var n={};e.exports=n,n.themes={};var i=r(1669),o=n.styles=r(5784),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);n.supportsColor=r(6561).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},n.stylize=function(e,t){if(!n.enabled)return e+"";var r=o[t];return!r&&t in n?n[t](e):r.open+e+r.close};var c=/[|\\{}()[\]^$+*?.]/g;function u(e){var t=function e(){return m.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},o.grey=o.gray,Object.keys(o).forEach((function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(o[e].close),"g"),l[e]={get:function(){return u(this._styles.concat(e))}}})),l),h=s((function(){}),d);function m(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return null!=e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!n.enabled||!t)return t;for(var r=-1!=t.indexOf("\n"),s=this._styles,c=s.length;c--;){var u=o[s[c]];t=u.open+t.replace(u.closeRe,u.open)+u.close,r&&(t=t.replace(a,(function(e){return u.close+e+u.open})))}return t}n.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){n[t]=function(r){if("object"==typeof e[t]){var i=r;for(var o in e[t])i=n[e[t][o]](i);return i}return n[e[t]](r)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var p in n.trap=r(5117),n.zalgo=r(1492),n.maps={},n.maps.america=r(6260)(n),n.maps.zebra=r(3270)(n),n.maps.rainbow=r(5920)(n),n.maps.random=r(2449)(n),n.maps)!function(e){n[e]=function(t){return f(n.maps[e],t)}}(p);s(n,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return u([t])}}})),e}())},5117:e=>{e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},1492:e=>{e.exports=function(e,t){e=e||"   he is here   ";var r={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e,t)}},6260:e=>{e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},5920:e=>{e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},2449:e=>{e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},3270:e=>{e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},5784:e=>{var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var n=r[e],i=t[e]=[];i.open="["+n[0]+"m",i.close="["+n[1]+"m"}))},4340:e=>{"use strict";e.exports=function(e,t){var r=(t=t||process.argv).indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return-1!==i&&(-1===r||i<r)}},6561:(e,t,r)=>{"use strict";var n=r(2087),i=r(4340),o=process.env,s=void 0;function a(e){return 0!==(t=function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3};var t}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},4431:(e,t,r)=>{var n=r(2517);e.exports=n},2514:(e,t,r)=>{"use strict";var n=r(6767),i=r(3951);e.exports=function(e,t){var r=e.split(t||":"),o=i(r[0]);if(!r.length)return o;for(var s=0,a=r.length-1;s<a;s++)o=n(o).mix(n(i(r[s+1]))).saturate(1).hex();return o}},6497:(e,t)=>{function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},8713:(e,t,r)=>{"use strict";var n=r(2514),i=r(2778),o=r(4253),s=r(1669),a=r(3867).isatty(1),c=process.stdout;function u(e,t){return i(e)?((t=t||{}).colors="colors"in t?t.colors:a,t.ansi=t.colors?o(e,n(e)):e,t.stream=t.stream||c,Array.isArray(t.stream)||(t.stream=[t.stream]),function(e){e instanceof Error&&(e=e.stack||e.message||e),e=[t.ansi," ",e].join(""),e=s.format.apply(this,[e].concat(Array.prototype.slice.call(arguments,1)))+"\n",t.stream.forEach((function(t){t.write(e)}))}):function(){}}u.to=function(e){return c=e,u},e.exports=u},2778:(e,t,r)=>{"use strict";var n=r(4647);e.exports=function(e,t){var r,i=n(),o=0;for(t=t||["diagnostics","debug"];o<t.length&&!(r=i[t[o]]);o++);if(!r)return!1;for(t=r.split(/[\s,]+/),o=0;o<t.length;o++)if("-"!==(r=t[o].replace("*",".*?")).charAt(0)){if(new RegExp("^"+r+"$").test(e))return!0}else if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;return!1}},4253:(e,t,r)=>{"use strict";var n=r(4683);function i(e,t){return t?new i(e).style(t):this instanceof i?void(this.text=e):new i(e)}i.prototype.prefix="[",i.prototype.suffix="m",i.prototype.hex=function(e){3===(e="#"===e[0]?e.substring(1):e).length&&((e=e.split(""))[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var t=e.substring(0,2),r=e.substring(2,4),n=e.substring(4,6);return[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},i.prototype.rgb=function(e,t,r){var n=e/255*5,i=t/255*5,o=r/255*5;return this.ansi(n,i,o)},i.prototype.ansi=function(e,t,r){return 16+36*Math.round(e)+6*Math.round(t)+Math.round(r)},i.prototype.reset=function(){return this.prefix+"39;49"+this.suffix},i.prototype.style=function(e){return/^#?(?:[0-9a-fA-F]{3}){1,2}$/.test(e)||(e=n(e)),this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()},e.exports=i},2027:e=>{var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,r,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==r)throw new Error("Null input. (diff_main)");if(e==r)return e?[new t.Diff(0,e)]:[];void 0===n&&(n=!0);var s=n,a=this.diff_commonPrefix(e,r),c=e.substring(0,a);e=e.substring(a),r=r.substring(a),a=this.diff_commonSuffix(e,r);var u=e.substring(e.length-a);e=e.substring(0,e.length-a),r=r.substring(0,r.length-a);var l=this.diff_compute_(e,r,s,o);return c&&l.unshift(new t.Diff(0,c)),u&&l.push(new t.Diff(0,u)),this.diff_cleanupMerge(l),l},t.prototype.diff_compute_=function(e,n,i,o){var s;if(!e)return[new t.Diff(1,n)];if(!n)return[new t.Diff(r,e)];var a=e.length>n.length?e:n,c=e.length>n.length?n:e,u=a.indexOf(c);if(-1!=u)return s=[new t.Diff(1,a.substring(0,u)),new t.Diff(0,c),new t.Diff(1,a.substring(u+c.length))],e.length>n.length&&(s[0][0]=s[2][0]=r),s;if(1==c.length)return[new t.Diff(r,e),new t.Diff(1,n)];var l=this.diff_halfMatch_(e,n);if(l){var d=l[0],h=l[1],m=l[2],f=l[3],p=l[4],g=this.diff_main(d,m,i,o),v=this.diff_main(h,f,i,o);return g.concat([new t.Diff(0,p)],v)}return i&&e.length>100&&n.length>100?this.diff_lineMode_(e,n,o):this.diff_bisect_(e,n,o)},t.prototype.diff_lineMode_=function(e,n,i){var o=this.diff_linesToChars_(e,n);e=o.chars1,n=o.chars2;var s=o.lineArray,a=this.diff_main(e,n,!1,i);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var c=0,u=0,l=0,d="",h="";c<a.length;){switch(a[c][0]){case 1:l++,h+=a[c][1];break;case r:u++,d+=a[c][1];break;case 0:if(u>=1&&l>=1){a.splice(c-u-l,u+l),c=c-u-l;for(var m=this.diff_main(d,h,!1,i),f=m.length-1;f>=0;f--)a.splice(c,0,m[f]);c+=m.length}l=0,u=0,d="",h=""}c++}return a.pop(),a},t.prototype.diff_bisect_=function(e,n,i){for(var o=e.length,s=n.length,a=Math.ceil((o+s)/2),c=a,u=2*a,l=new Array(u),d=new Array(u),h=0;h<u;h++)l[h]=-1,d[h]=-1;l[c+1]=0,d[c+1]=0;for(var m=o-s,f=m%2!=0,p=0,g=0,v=0,y=0,w=0;w<a&&!((new Date).getTime()>i);w++){for(var b=-w+p;b<=w-g;b+=2){for(var C=c+b,S=(k=b==-w||b!=w&&l[C-1]<l[C+1]?l[C+1]:l[C-1]+1)-b;k<o&&S<s&&e.charAt(k)==n.charAt(S);)k++,S++;if(l[C]=k,k>o)g+=2;else if(S>s)p+=2;else if(f&&(E=c+m-b)>=0&&E<u&&-1!=d[E]&&k>=(M=o-d[E]))return this.diff_bisectSplit_(e,n,k,S,i)}for(var x=-w+v;x<=w-y;x+=2){for(var M,E=c+x,_=(M=x==-w||x!=w&&d[E-1]<d[E+1]?d[E+1]:d[E-1]+1)-x;M<o&&_<s&&e.charAt(o-M-1)==n.charAt(s-_-1);)M++,_++;if(d[E]=M,M>o)y+=2;else if(_>s)v+=2;else if(!f){var k;if((C=c+m-x)>=0&&C<u&&-1!=l[C])if(S=c+(k=l[C])-C,k>=(M=o-M))return this.diff_bisectSplit_(e,n,k,S,i)}}}return[new t.Diff(r,e),new t.Diff(1,n)]},t.prototype.diff_bisectSplit_=function(e,t,r,n,i){var o=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),c=t.substring(n),u=this.diff_main(o,s,!1,i),l=this.diff_main(a,c,!1,i);return u.concat(l)},t.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,s=-1,a=r.length;s<e.length-1;){-1==(s=e.indexOf("\n",i))&&(s=e.length-1);var c=e.substring(i,s+1);(n.hasOwnProperty?n.hasOwnProperty(c):void 0!==n[c])?t+=String.fromCharCode(n[c]):(a==o&&(c=e.substring(i),s=e.length),t+=String.fromCharCode(a),n[c]=a,r[a++]=c),i=s+1}return t}r[0]="";var o=4e4,s=i(e);return o=65535,{chars1:s,chars2:i(t),lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),c=t.indexOf(a);if(-1==c)return o;s+=c,0!=c&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function o(e,t,r){for(var n,o,s,a,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(c,u+1));){var d=i.diff_commonPrefix(e.substring(r),t.substring(u)),h=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));l.length<h+d&&(l=t.substring(u-h,u)+t.substring(u,u+d),n=e.substring(0,r-h),o=e.substring(r+d),s=t.substring(0,u-h),a=t.substring(u+d))}return 2*l.length>=e.length?[n,o,s,a,l]:null}var s,a,c,u,l,d=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return d||h?(s=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=s[0],c=s[1],u=s[2],l=s[3]):(u=s[0],l=s[1],a=s[2],c=s[3]),[a,c,u,l,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var n=!1,i=[],o=0,s=null,a=0,c=0,u=0,l=0,d=0;a<e.length;)0==e[a][0]?(i[o++]=a,c=l,u=d,l=0,d=0,s=e[a][1]):(1==e[a][0]?l+=e[a][1].length:d+=e[a][1].length,s&&s.length<=Math.max(c,u)&&s.length<=Math.max(l,d)&&(e.splice(i[o-1],0,new t.Diff(r,s)),e[i[o-1]+1][0]=1,o--,a=--o>0?i[o-1]:-1,c=0,u=0,l=0,d=0,s=null,n=!0)),a++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==r&&1==e[a][0]){var h=e[a-1][1],m=e[a][1],f=this.diff_commonOverlap_(h,m),p=this.diff_commonOverlap_(m,h);f>=p?(f>=h.length/2||f>=m.length/2)&&(e.splice(a,0,new t.Diff(0,m.substring(0,f))),e[a-1][1]=h.substring(0,h.length-f),e[a+1][1]=m.substring(f),a++):(p>=h.length/2||p>=m.length/2)&&(e.splice(a,0,new t.Diff(0,h.substring(0,p))),e[a-1][0]=1,e[a-1][1]=m.substring(0,m.length-p),e[a+1][0]=r,e[a+1][1]=h.substring(p),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function r(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),i=r.charAt(0),o=n.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&n.match(t.whitespaceRegex_),c=s&&i.match(t.whitespaceRegex_),u=a&&n.match(t.linebreakRegex_),l=c&&i.match(t.linebreakRegex_),d=u&&e.match(t.blanklineEndRegex_),h=l&&r.match(t.blanklineStartRegex_);return d||h?5:u||l?4:o&&!a&&c?3:a||c?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(i,o);if(a){var c=o.substring(o.length-a);i=i.substring(0,i.length-a),o=c+o.substring(0,o.length-a),s=c+s}for(var u=i,l=o,d=s,h=r(i,o)+r(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var m=r(i,o)+r(o,s);m>=h&&(h=m,u=i,l=o,d=s)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=l,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var n=!1,i=[],o=0,s=null,a=0,c=!1,u=!1,l=!1,d=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(l||d)?(i[o++]=a,c=l,u=d,s=e[a][1]):(o=0,s=null),l=d=!1):(e[a][0]==r?d=!0:l=!0,s&&(c&&u&&l&&d||s.length<this.Diff_EditCost/2&&c+u+l+d==3)&&(e.splice(i[o-1],0,new t.Diff(r,s)),e[i[o-1]+1][0]=1,o--,s=null,c&&u?(l=d=!0,o=0):(a=--o>0?i[o-1]:-1,l=d=!1),n=!0)),a++;n&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var n,i=0,o=0,s=0,a="",c="";i<e.length;)switch(e[i][0]){case 1:s++,c+=e[i][1],i++;break;case r:o++,a+=e[i][1],i++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(n=this.diff_commonPrefix(c,a))&&(i-o-s>0&&0==e[i-o-s-1][0]?e[i-o-s-1][1]+=c.substring(0,n):(e.splice(0,0,new t.Diff(0,c.substring(0,n))),i++),c=c.substring(n),a=a.substring(n)),0!==(n=this.diff_commonSuffix(c,a))&&(e[i][1]=c.substring(c.length-n)+e[i][1],c=c.substring(0,c.length-n),a=a.substring(0,a.length-n))),i-=o+s,e.splice(i,o+s),a.length&&(e.splice(i,0,new t.Diff(r,a)),i++),c.length&&(e.splice(i,0,new t.Diff(1,c)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,s=0,o=0,a="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var n,i=0,o=0,s=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),e[n][0]!==r&&(o+=e[n][1].length),!(i>t));n++)s=i,a=o;return e.length!=n&&e[n][0]===r?a:a+(t-s)},t.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,a=0;a<e.length;a++){var c=e[a][0],u=e[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(c){case 1:t[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case r:t[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[a]="<span>"+u+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],a=e[o][1];switch(s){case 1:n+=a.length;break;case r:i+=a.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+Math.max(n,i)},t.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,n){for(var i=[],o=0,s=0,a=n.split(/\t/g),c=0;c<a.length;c++){var u=a[c].substring(1);switch(a[c].charAt(0)){case"+":try{i[o++]=new t.Diff(1,decodeURI(u))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var l=parseInt(u,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+u);var d=e.substring(s,s+=l);"="==a[c].charAt(0)?i[o++]=new t.Diff(0,d):i[o++]=new t.Diff(r,d);break;default:if(a[c])throw new Error("Invalid diff operation in diff_fromDelta: "+a[c])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},t.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var c,u,l=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,m=0;m<t.length;m++){for(c=0,u=h;c<u;)o(m,r+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var f=Math.max(1,r-u+1),p=Math.min(r+u,e.length)+t.length,g=Array(p+2);g[p+1]=(1<<m)-1;for(var v=p;v>=f;v--){var y=n[e.charAt(v-1)];if(g[v]=0===m?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&l){var w=o(m,v-1);if(w<=s){if(s=w,!((a=v-1)>r))break;f=Math.max(1,2*r-a)}}}if(o(m+1,r)>s)break;d=g}return a},t.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},t.prototype.patch_addContext_=function(e,r){if(0!=r.length){if(null===e.start2)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!=r.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=r.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var s=r.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,n,i){var o,s;if("string"==typeof e&&"string"==typeof n&&void 0===i)o=e,(s=this.diff_main(o,n,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&void 0===n&&void 0===i)s=e,o=this.diff_text1(s);else if("string"==typeof e&&n&&"object"==typeof n&&void 0===i)o=e,s=n;else{if("string"!=typeof e||"string"!=typeof n||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,s=i}if(0===s.length)return[];for(var a=[],c=new t.patch_obj,u=0,l=0,d=0,h=o,m=o,f=0;f<s.length;f++){var p=s[f][0],g=s[f][1];switch(u||0===p||(c.start1=l,c.start2=d),p){case 1:c.diffs[u++]=s[f],c.length2+=g.length,m=m.substring(0,d)+g+m.substring(d);break;case r:c.length1+=g.length,c.diffs[u++]=s[f],m=m.substring(0,d)+m.substring(d+g.length);break;case 0:g.length<=2*this.Patch_Margin&&u&&s.length!=f+1?(c.diffs[u++]=s[f],c.length1+=g.length,c.length2+=g.length):g.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(c,h),a.push(c),c=new t.patch_obj,u=0,h=m,l=d)}1!==p&&(l+=g.length),p!==r&&(d+=g.length)}return u&&(this.patch_addContext_(c,h),a.push(c)),a},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new t.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,r[n]=o}return r},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var a,c,u=e[s].start2+i,l=this.diff_text1(e[s].diffs),d=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(t,l.substring(0,this.Match_MaxBits),u))&&(-1==(d=this.match_main(t,l.substring(l.length-this.Match_MaxBits),u+l.length-this.Match_MaxBits))||a>=d)&&(a=-1):a=this.match_main(t,l,u),-1==a)o[s]=!1,i-=e[s].length2-e[s].length1;else if(o[s]=!0,i=a-u,l==(c=-1==d?t.substring(a,a+l.length):t.substring(a,d+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+l.length);else{var h=this.diff_main(l,c,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(h)/l.length>this.Patch_DeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(h);for(var m,f=0,p=0;p<e[s].diffs.length;p++){var g=e[s].diffs[p];0!==g[0]&&(m=this.diff_xIndex(h,f)),1===g[0]?t=t.substring(0,a+m)+g[1]+t.substring(a+m):g[0]===r&&(t=t.substring(0,a+m)+t.substring(a+this.diff_xIndex(h,f+g[1].length))),g[0]!==r&&(f+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},t.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,n)),o.start1-=r,o.start2-=r,o.length1+=r,o.length2+=r;else if(r>s[0][1].length){var a=r-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}return 0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0]?(s.push(new t.Diff(0,n)),o.length1+=r,o.length2+=r):r>s[s.length-1][1].length&&(a=r-s[s.length-1][1].length,s[s.length-1][1]+=n.substring(0,a),o.length1+=a,o.length2+=a),n},t.prototype.patch_splitMax=function(e){for(var n=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=n)){var o=e[i];e.splice(i--,1);for(var s=o.start1,a=o.start2,c="";0!==o.diffs.length;){var u=new t.patch_obj,l=!0;for(u.start1=s-c.length,u.start2=a-c.length,""!==c&&(u.length1=u.length2=c.length,u.diffs.push(new t.Diff(0,c)));0!==o.diffs.length&&u.length1<n-this.Patch_Margin;){var d=o.diffs[0][0],h=o.diffs[0][1];1===d?(u.length2+=h.length,a+=h.length,u.diffs.push(o.diffs.shift()),l=!1):d===r&&1==u.diffs.length&&0==u.diffs[0][0]&&h.length>2*n?(u.length1+=h.length,s+=h.length,l=!1,u.diffs.push(new t.Diff(d,h)),o.diffs.shift()):(h=h.substring(0,n-u.length1-this.Patch_Margin),u.length1+=h.length,s+=h.length,0===d?(u.length2+=h.length,a+=h.length):l=!1,u.diffs.push(new t.Diff(d,h)),h==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(h.length))}c=(c=this.diff_text2(u.diffs)).substring(c.length-this.Patch_Margin);var m=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==m&&(u.length1+=m.length,u.length2+=m.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=m:u.diffs.push(new t.Diff(0,m))),l||e.splice(++i,0,u)}}},t.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;for(var i=e.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var a=i[o].match(s);if(!a)throw new Error("Invalid patch string: "+i[o]);var c=new t.patch_obj;for(n.push(c),c.start1=parseInt(a[1],10),""===a[2]?(c.start1--,c.length1=1):"0"==a[2]?c.length1=0:(c.start1--,c.length1=parseInt(a[2],10)),c.start2=parseInt(a[3],10),""===a[4]?(c.start2--,c.length2=1):"0"==a[4]?c.length2=0:(c.start2--,c.length2=parseInt(a[4],10)),o++;o<i.length;){var u=i[o].charAt(0);try{var l=decodeURI(i[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==u)c.diffs.push(new t.Diff(r,l));else if("+"==u)c.diffs.push(new t.Diff(1,l));else if(" "==u)c.diffs.push(new t.Diff(0,l));else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+l)}o++}}return n},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},4647:e=>{"use strict";var t=Object.prototype.hasOwnProperty;function r(e){if(e=e||{},"object"==typeof process&&"object"==typeof process.env&&r.merge(e,process.env),"undefined"!=typeof window){"string"===window.name&&window.name.length&&r.merge(e,r.parse(window.name));try{window.localStorage&&r.merge(e,r.parse(window.localStorage.env||window.localStorage.debug))}catch(e){}"object"==typeof window.location&&"string"==typeof window.location.hash&&window.location.hash.length&&r.merge(e,r.parse("#"===window.location.hash.charAt(0)?window.location.hash.slice(1):window.location.hash))}var t,n;for(t in e)(n=t.toLowerCase())in e||(e[n]=e[t]);return e}r.merge=function(e,r){for(var n in r)t.call(r,n)&&(e[n]=r[n]);return e},r.parse=function(e){var t,r=/([^=?&]+)=([^&]*)/g,n={};if(!e)return n;for(;t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n.env||n},e.exports=r},4445:e=>{e.exports=n,n.default=n,n.stable=s,n.stableStringify=s;var t=[],r=[];function n(e,n,o){var s;for(i(e,"",[],void 0),s=0===r.length?JSON.stringify(e,n,o):JSON.stringify(e,c(n),o);0!==t.length;){var a=t.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function i(e,n,o,s){var a;if("object"==typeof e&&null!==e){for(a=0;a<o.length;a++)if(o[a]===e){var c=Object.getOwnPropertyDescriptor(s,n);return void(void 0!==c.get?c.configurable?(Object.defineProperty(s,n,{value:"[Circular]"}),t.push([s,n,e,c])):r.push([e,n]):(s[n]="[Circular]",t.push([s,n,e])))}if(o.push(e),Array.isArray(e))for(a=0;a<e.length;a++)i(e[a],a,o,e);else{var u=Object.keys(e);for(a=0;a<u.length;a++){var l=u[a];i(e[l],l,o,e)}}o.pop()}}function o(e,t){return e<t?-1:e>t?1:0}function s(e,n,i){var o,s=a(e,"",[],void 0)||e;for(o=0===r.length?JSON.stringify(s,n,i):JSON.stringify(s,c(n),i);0!==t.length;){var u=t.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return o}function a(e,n,i,s){var c;if("object"==typeof e&&null!==e){for(c=0;c<i.length;c++)if(i[c]===e){var u=Object.getOwnPropertyDescriptor(s,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,n,{value:"[Circular]"}),t.push([s,n,e,u])):r.push([e,n]):(s[n]="[Circular]",t.push([s,n,e])))}if("function"==typeof e.toJSON)return;if(i.push(e),Array.isArray(e))for(c=0;c<e.length;c++)a(e[c],c,i,e);else{var l={},d=Object.keys(e).sort(o);for(c=0;c<d.length;c++){var h=d[c];a(e[h],h,i,e),l[h]=e[h]}if(void 0===s)return l;t.push([s,n,e]),s[n]=l}i.pop()}}function c(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(r.length>0)for(var i=0;i<r.length;i++){var o=r[i];if(o[1]===t&&o[0]===n){n="[Circular]",r.splice(i,1);break}}return e.call(this,t,n)}}},9432:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P,assign:()=>l,format:()=>A,parse:()=>R,defaultI18n:()=>f,setGlobalDateI18n:()=>g,setGlobalDateMasks:()=>k});var n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="[1-9]\\d?",o="\\d\\d",s="[^\\s]+",a=/\[([^]*?)\]/gm;function c(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var u=function(e){return function(t,r){var n=r[e].map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase());return n>-1?n:null}};function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];for(var s in o)e[s]=o[s]}return e}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=c(h,3),f={dayNamesShort:c(d,3),dayNames:d,monthNamesShort:m,monthNames:h,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},p=l({},f),g=function(e){return p=l(p,e)},v=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},y=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},w={D:function(e){return String(e.getDate())},DD:function(e){return y(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return y(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return y(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return y(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return y(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return y(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return y(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return y(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return y(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return y(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return y(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+y(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+y(Math.floor(Math.abs(t)/60),2)+":"+y(Math.abs(t)%60,2)}},b=function(e){return+e-1},C=[null,i],S=[null,s],x=["isPm",s,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],M=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?r:-r}return 0}],E={D:["day",i],DD:["day",o],Do:["day","[1-9]\\d?[^\\s]+",function(e){return parseInt(e,10)}],M:["month",i,b],MM:["month",o,b],YY:["year",o,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",i,void 0,"isPm"],hh:["hour",o,void 0,"isPm"],H:["hour",i],HH:["hour",o],m:["minute",i],mm:["minute",o],s:["second",i],ss:["second",o],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",o,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:C,dd:C,ddd:S,dddd:S,MMM:["month",s,u("monthNamesShort")],MMMM:["month",s,u("monthNames")],a:x,A:x,ZZ:M,Z:M},_={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},k=function(e){return l(_,e)},A=function(e,t,r){if(void 0===t&&(t=_.default),void 0===r&&(r={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");var i=[];t=(t=_[t]||t).replace(a,(function(e,t){return i.push(t),"@@@"}));var o=l(l({},p),r);return(t=t.replace(n,(function(t){return w[t](e,o)}))).replace(/@@@/g,(function(){return i.shift()}))};function R(e,t,r){if(void 0===r&&(r={}),"string"!=typeof t)throw new Error("Invalid format in fecha parse");if(t=_[t]||t,e.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],s=[],c=t.replace(a,(function(e,t){return s.push(v(t)),"@@@"})),u={},d={};c=v(c).replace(n,(function(e){var t=E[e],r=t[0],n=t[1],i=t[3];if(u[r])throw new Error("Invalid format. "+r+" specified twice in format");return u[r]=!0,i&&(d[i]=!0),o.push(t),"("+n+")"})),Object.keys(d).forEach((function(e){if(!u[e])throw new Error("Invalid format. "+e+" is required in specified format")})),c=c.replace(/@@@/g,(function(){return s.shift()}));var h=e.match(new RegExp(c,"i"));if(!h)return null;for(var m=l(l({},p),r),f=1;f<h.length;f++){var g=o[f-1],y=g[0],w=g[2],b=w?w(h[f],m):+h[f];if(null==b)return null;i[y]=b}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var C=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),S=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],x=(f=0,S.length);f<x;f++)if(u[S[f][0]]&&i[S[f][0]]!==C[S[f][1]]())return null;return null==i.timezoneOffset?C:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}const P={format:A,parse:R,defaultI18n:f,setGlobalDateI18n:g,setGlobalDateMasks:k}},2296:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){if("string"==typeof e.displayName&&e.constructor.name)return e.displayName;if("string"==typeof e.name&&e.name)return e.name;if("object"==typeof e&&e.constructor&&"string"==typeof e.constructor.name)return e.constructor.name;var r=e.toString(),n=t.call(e).slice(8,-1);return(r="Function"===n?r.substring(r.indexOf("(")+1,r.indexOf(")")):n)||"anonymous"}},4378:(e,t,r)=>{try{var n=r(1669);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(5717)}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},4970:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},4636:(e,t,r)=>{var n=r(2545),i=r(5694),o=r(1469),s=r(4144),a=r(5776),c=r(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),d=!r&&!l&&s(e),h=!r&&!l&&!d&&c(e),m=r||l||d||h,f=m?n(e.length,String):[],p=f.length;for(var g in e)!t&&!u.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,p))||f.push(g);return f}},4239:(e,t,r)=>{var n=r(2705),i=r(9607),o=r(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},9454:(e,t,r)=>{var n=r(4239),i=r(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},8749:(e,t,r)=>{var n=r(4239),i=r(1780),o=r(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},280:(e,t,r)=>{var n=r(5726),i=r(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},1957:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},9607:(e,t,r)=>{var n=r(2705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},5694:(e,t,r)=>{var n=r(9454),i=r(7005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),i=r(1780);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),i=r(5062),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c},3560:(e,t,r)=>{var n=r(4239),i=r(3218);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,r)=>{var n=r(8749),i=r(7518),o=r(1167),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},3674:(e,t,r)=>{var n=r(4636),i=r(280),o=r(8612);e.exports=function(e){return o(e)?n(e):i(e)}},6486:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,d=9007199254740991,h=NaN,m=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],p="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",C="[object GeneratorFunction]",S="[object Map]",x="[object Number]",M="[object Object]",E="[object Promise]",_="[object RegExp]",k="[object Set]",A="[object String]",R="[object Symbol]",P="[object WeakMap]",T="[object ArrayBuffer]",B="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",$="[object Int8Array]",F="[object Int16Array]",D="[object Int32Array]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",V="[object Uint32Array]",W=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,z=RegExp(K.source),G=RegExp(H.source),J=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="["+Me+"]",_e="["+Ce+"]",ke="\\d+",Ae="["+Se+"]",Re="[^\\ud800-\\udfff"+Me+ke+"\\u2700-\\u27bf"+Se+xe+"]",Pe="\\ud83c[\\udffb-\\udfff]",Te="[^\\ud800-\\udfff]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Le="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+xe+"]",$e="(?:"+Ae+"|"+Re+")",Fe="(?:"+Oe+"|"+Re+")",De="(?:['](?:d|ll|m|re|s|t|ve))?",Ie="(?:['](?:D|LL|M|RE|S|T|VE))?",je="(?:"+_e+"|"+Pe+")?",Ne="[\\ufe0e\\ufe0f]?",Ve=Ne+je+"(?:\\u200d(?:"+[Te,Be,Le].join("|")+")"+Ne+je+")*",We="(?:"+["[\\u2700-\\u27bf]",Be,Le].join("|")+")"+Ve,Ue="(?:"+[Te+_e+"?",_e,Be,Le,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("[']","g"),Ke=RegExp(_e,"g"),He=RegExp(Pe+"(?="+Pe+")|"+Ue+Ve,"g"),ze=RegExp([Oe+"?"+Ae+"+"+De+"(?="+[Ee,Oe,"$"].join("|")+")",Fe+"+"+Ie+"(?="+[Ee,Oe+$e,"$"].join("|")+")",Oe+"?"+$e+"+"+De,Oe+"+"+Ie,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,We].join("|"),"g"),Ge=RegExp("[\\u200d\\ud800-\\udfff"+Ce+"\\ufe0e\\ufe0f]"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Ze={};Ze[L]=Ze[O]=Ze[$]=Ze[F]=Ze[D]=Ze[I]=Ze[j]=Ze[N]=Ze[V]=!0,Ze[p]=Ze[g]=Ze[T]=Ze[v]=Ze[B]=Ze[y]=Ze[w]=Ze[b]=Ze[S]=Ze[x]=Ze[M]=Ze[_]=Ze[k]=Ze[A]=Ze[P]=!1;var Xe={};Xe[p]=Xe[g]=Xe[T]=Xe[B]=Xe[v]=Xe[y]=Xe[L]=Xe[O]=Xe[$]=Xe[F]=Xe[D]=Xe[S]=Xe[x]=Xe[M]=Xe[_]=Xe[k]=Xe[A]=Xe[R]=Xe[I]=Xe[j]=Xe[N]=Xe[V]=!0,Xe[w]=Xe[b]=Xe[P]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,rt=parseInt,nt="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,ot=nt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,ut=ct&&nt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),dt=lt&&lt.isArrayBuffer,ht=lt&&lt.isDate,mt=lt&&lt.isMap,ft=lt&&lt.isRegExp,pt=lt&&lt.isSet,gt=lt&&lt.isTypedArray;function vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function yt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function wt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function bt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function St(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function xt(e,t){return!(null==e||!e.length)&&Lt(e,t,0)>-1}function Mt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Et(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function _t(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function kt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function At(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Pt=Dt("length");function Tt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Bt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Lt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Bt(e,$t,r)}function Ot(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function $t(e){return e!=e}function Ft(e,t){var r=null==e?0:e.length;return r?Nt(e,t)/r:h}function Dt(e){return function(t){return null==t?i:t[e]}}function It(e){return function(t){return null==e?i:e[t]}}function jt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Nt(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Vt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Wt(e){return e?e.slice(0,sr(e)+1).replace(ne,""):e}function Ut(e){return function(t){return e(t)}}function qt(e,t){return Et(t,(function(t){return e[t]}))}function Kt(e,t){return e.has(t)}function Ht(e,t){for(var r=-1,n=e.length;++r<n&&Lt(t,e[r],0)>-1;);return r}function zt(e,t){for(var r=e.length;r--&&Lt(t,e[r],0)>-1;);return r}function Gt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Jt=It({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Yt=It({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Zt(e){return Ge.test(e)}function Xt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function er(e,t){return function(r){return e(t(r))}}function tr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ir(e){return Zt(e)?function(e){for(var t=He.lastIndex=0;He.test(e);)++t;return t}(e):Pt(e)}function or(e){return Zt(e)?function(e){return e.match(He)||[]}(e):function(e){return e.split("")}(e)}function sr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var ar=It({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cr=function e(t){var r,n=(t=null==t?ot:cr.defaults(ot.Object(),t,cr.pick(ot,Ye))).Array,ie=t.Date,Ce=t.Error,Se=t.Function,xe=t.Math,Me=t.Object,Ee=t.RegExp,_e=t.String,ke=t.TypeError,Ae=n.prototype,Re=Se.prototype,Pe=Me.prototype,Te=t["__core-js_shared__"],Be=Re.toString,Le=Pe.hasOwnProperty,Oe=0,$e=(r=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Fe=Pe.toString,De=Be.call(Me),Ie=ot._,je=Ee("^"+Be.call(Le).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=ct?t.Buffer:i,Ve=t.Symbol,We=t.Uint8Array,Ue=Ne?Ne.allocUnsafe:i,He=er(Me.getPrototypeOf,Me),Ge=Me.create,et=Pe.propertyIsEnumerable,nt=Ae.splice,it=Ve?Ve.isConcatSpreadable:i,st=Ve?Ve.iterator:i,at=Ve?Ve.toStringTag:i,ut=function(){try{var e=uo(Me,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Pt=ie&&ie.now!==ot.Date.now&&ie.now,It=t.setTimeout!==ot.setTimeout&&t.setTimeout,ur=xe.ceil,lr=xe.floor,dr=Me.getOwnPropertySymbols,hr=Ne?Ne.isBuffer:i,mr=t.isFinite,fr=Ae.join,pr=er(Me.keys,Me),gr=xe.max,vr=xe.min,yr=ie.now,wr=t.parseInt,br=xe.random,Cr=Ae.reverse,Sr=uo(t,"DataView"),xr=uo(t,"Map"),Mr=uo(t,"Promise"),Er=uo(t,"Set"),_r=uo(t,"WeakMap"),kr=uo(Me,"create"),Ar=_r&&new _r,Rr={},Pr=jo(Sr),Tr=jo(xr),Br=jo(Mr),Lr=jo(Er),Or=jo(_r),$r=Ve?Ve.prototype:i,Fr=$r?$r.valueOf:i,Dr=$r?$r.toString:i;function Ir(e){if(ra(e)&&!Ks(e)&&!(e instanceof Wr)){if(e instanceof Vr)return e;if(Le.call(e,"__wrapped__"))return No(e)}return new Vr(e)}var jr=function(){function e(){}return function(t){if(!ta(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Nr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Kr;++t<r;)this.add(e[t])}function zr(e){var t=this.__data__=new qr(e);this.size=t.size}function Gr(e,t){var r=Ks(e),n=!r&&qs(e),i=!r&&!n&&Js(e),o=!r&&!n&&!i&&la(e),s=r||n||i||o,a=s?Vt(e.length,_e):[],c=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,c))||a.push(u);return a}function Jr(e){var t=e.length;return t?e[Hn(0,t-1)]:i}function Yr(e,t){return Oo(ki(e),sn(t,0,e.length))}function Qr(e){return Oo(ki(e))}function Zr(e,t,r){(r!==i&&!Vs(e[t],r)||r===i&&!(t in e))&&nn(e,t,r)}function Xr(e,t,r){var n=e[t];Le.call(e,t)&&Vs(n,r)&&(r!==i||t in e)||nn(e,t,r)}function en(e,t){for(var r=e.length;r--;)if(Vs(e[r][0],t))return r;return-1}function tn(e,t,r,n){return dn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function rn(e,t){return e&&Ai(t,Ba(t),e)}function nn(e,t,r){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function on(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:ka(e,t[r]);return s}function sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function an(e,t,r,n,o,s){var a,c=1&t,u=2&t,l=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ta(e))return e;var d=Ks(e);if(d){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return ki(e,a)}else{var h=mo(e),m=h==b||h==C;if(Js(e))return Ci(e,c);if(h==M||h==p||m&&!o){if(a=u||m?{}:po(e),!c)return u?function(e,t){return Ai(e,ho(e),t)}(e,function(e,t){return e&&Ai(t,La(t),e)}(a,e)):function(e,t){return Ai(e,lo(e),t)}(e,rn(a,e))}else{if(!Xe[h])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case T:return Si(e);case v:case y:return new i(+e);case B:return function(e,t){var r=t?Si(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case O:case $:case F:case D:case I:case j:case N:case V:return xi(e,r);case S:return new i;case x:case A:return new i(e);case _:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new i;case R:return n=e,Fr?Me(Fr.call(n)):{}}}(e,h,c)}}s||(s=new zr);var f=s.get(e);if(f)return f;s.set(e,a),aa(e)?e.forEach((function(n){a.add(an(n,t,r,n,e,s))})):na(e)&&e.forEach((function(n,i){a.set(i,an(n,t,r,i,e,s))}));var g=d?i:(l?u?ro:to:u?La:Ba)(e);return wt(g||e,(function(n,i){g&&(n=e[i=n]),Xr(a,i,an(n,t,r,i,e,s))})),a}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Me(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function un(e,t,r){if("function"!=typeof e)throw new ke(o);return Po((function(){e.apply(i,r)}),t)}function ln(e,t,r,n){var i=-1,o=xt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=Et(t,Ut(r))),n?(o=Mt,s=!1):t.length>=200&&(o=Kt,s=!1,t=new Hr(t));e:for(;++i<a;){var l=e[i],d=null==r?l:r(l);if(l=n||0!==l?l:0,s&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;c.push(l)}else o(t,d,n)||c.push(l)}return c}Ir.templateSettings={escape:J,evaluate:Y,interpolate:Q,variable:"",imports:{_:Ir}},Ir.prototype=Nr.prototype,Ir.prototype.constructor=Ir,Vr.prototype=jr(Nr.prototype),Vr.prototype.constructor=Vr,Wr.prototype=jr(Nr.prototype),Wr.prototype.constructor=Wr,Ur.prototype.clear=function(){this.__data__=kr?kr(null):{},this.size=0},Ur.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ur.prototype.get=function(e){var t=this.__data__;if(kr){var r=t[e];return r===s?i:r}return Le.call(t,e)?t[e]:i},Ur.prototype.has=function(e){var t=this.__data__;return kr?t[e]!==i:Le.call(t,e)},Ur.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kr&&t===i?s:t,this},qr.prototype.clear=function(){this.__data__=[],this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():nt.call(t,r,1),--this.size,0))},qr.prototype.get=function(e){var t=this.__data__,r=en(t,e);return r<0?i:t[r][1]},qr.prototype.has=function(e){return en(this.__data__,e)>-1},qr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Kr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ur,map:new(xr||qr),string:new Ur}},Kr.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Kr.prototype.get=function(e){return ao(this,e).get(e)},Kr.prototype.has=function(e){return ao(this,e).has(e)},Kr.prototype.set=function(e,t){var r=ao(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hr.prototype.add=Hr.prototype.push=function(e){return this.__data__.set(e,s),this},Hr.prototype.has=function(e){return this.__data__.has(e)},zr.prototype.clear=function(){this.__data__=new qr,this.size=0},zr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},zr.prototype.get=function(e){return this.__data__.get(e)},zr.prototype.has=function(e){return this.__data__.has(e)},zr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!xr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Kr(n)}return r.set(e,t),this.size=r.size,this};var dn=Ti(wn),hn=Ti(bn,!0);function mn(e,t){var r=!0;return dn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function fn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(c===i?a==a&&!ua(a):r(a,c)))var c=a,u=s}return u}function pn(e,t){var r=[];return dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function gn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=go),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?gn(a,t-1,r,n,i):_t(i,a):n||(i[i.length]=a)}return i}var vn=Bi(),yn=Bi(!0);function wn(e,t){return e&&vn(e,t,Ba)}function bn(e,t){return e&&yn(e,t,Ba)}function Cn(e,t){return St(t,(function(t){return Zs(e[t])}))}function Sn(e,t){for(var r=0,n=(t=vi(t,e)).length;null!=e&&r<n;)e=e[Io(t[r++])];return r&&r==n?e:i}function xn(e,t,r){var n=t(e);return Ks(e)?n:_t(n,r(e))}function Mn(e){return null==e?e===i?"[object Undefined]":"[object Null]":at&&at in Me(e)?function(e){var t=Le.call(e,at),r=e[at];try{e[at]=i;var n=!0}catch(e){}var o=Fe.call(e);return n&&(t?e[at]=r:delete e[at]),o}(e):function(e){return Fe.call(e)}(e)}function En(e,t){return e>t}function _n(e,t){return null!=e&&Le.call(e,t)}function kn(e,t){return null!=e&&t in Me(e)}function An(e,t,r){for(var o=r?Mt:xt,s=e[0].length,a=e.length,c=a,u=n(a),l=1/0,d=[];c--;){var h=e[c];c&&t&&(h=Et(h,Ut(t))),l=vr(h.length,l),u[c]=!r&&(t||s>=120&&h.length>=120)?new Hr(c&&h):i}h=e[0];var m=-1,f=u[0];e:for(;++m<s&&d.length<l;){var p=h[m],g=t?t(p):p;if(p=r||0!==p?p:0,!(f?Kt(f,g):o(d,g,r))){for(c=a;--c;){var v=u[c];if(!(v?Kt(v,g):o(e[c],g,r)))continue e}f&&f.push(g),d.push(p)}}return d}function Rn(e,t,r){var n=null==(e=_o(e,t=vi(t,e)))?e:e[Io(Qo(t))];return null==n?i:vt(n,e,r)}function Pn(e){return ra(e)&&Mn(e)==p}function Tn(e,t,r,n,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=Ks(e),c=Ks(t),u=a?g:mo(e),l=c?g:mo(t),d=(u=u==p?M:u)==M,h=(l=l==p?M:l)==M,m=u==l;if(m&&Js(e)){if(!Js(t))return!1;a=!0,d=!1}if(m&&!d)return s||(s=new zr),a||la(e)?Xi(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case B:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case v:case y:case x:return Vs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case _:case A:return e==t+"";case S:var a=Xt;case k:var c=1&n;if(a||(a=rr),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var l=Xi(a(e),a(t),n,i,o,s);return s.delete(e),l;case R:if(Fr)return Fr.call(e)==Fr.call(t)}return!1}(e,t,u,r,n,o,s);if(!(1&r)){var f=d&&Le.call(e,"__wrapped__"),b=h&&Le.call(t,"__wrapped__");if(f||b){var C=f?e.value():e,E=b?t.value():t;return s||(s=new zr),o(C,E,r,n,s)}}return!!m&&(s||(s=new zr),function(e,t,r,n,o,s){var a=1&r,c=to(e),u=c.length;if(u!=to(t).length&&!a)return!1;for(var l=u;l--;){var d=c[l];if(!(a?d in t:Le.call(t,d)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var f=!0;s.set(e,t),s.set(t,e);for(var p=a;++l<u;){var g=e[d=c[l]],v=t[d];if(n)var y=a?n(v,g,d,t,e,s):n(g,v,d,e,t,s);if(!(y===i?g===v||o(g,v,r,n,s):y)){f=!1;break}p||(p="constructor"==d)}if(f&&!p){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,r,n,o,s))}(e,t,r,n,Tn,o))}function Bn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Me(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],l=e[u],d=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var h=new zr;if(n)var m=n(l,d,u,e,t,h);if(!(m===i?Tn(d,l,3,n,h):m))return!1}}return!0}function Ln(e){return!(!ta(e)||(t=e,$e&&$e in t))&&(Zs(e)?je:pe).test(jo(e));var t}function On(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Ks(e)?jn(e[0],e[1]):In(e):mc(e)}function $n(e){if(!So(e))return pr(e);var t=[];for(var r in Me(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Fn(e,t){return e<t}function Dn(e,t){var r=-1,i=zs(e)?n(e.length):[];return dn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function In(e){var t=co(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(r){return r===e||Bn(r,e,t)}}function jn(e,t){return wo(e)&&xo(t)?Mo(Io(e),t):function(r){var n=ka(r,e);return n===i&&n===t?Aa(r,e):Tn(t,n,3)}}function Nn(e,t,r,n,o){e!==t&&vn(t,(function(s,a){if(o||(o=new zr),ta(s))!function(e,t,r,n,o,s,a){var c=Ao(e,r),u=Ao(t,r),l=a.get(u);if(l)Zr(e,r,l);else{var d=s?s(c,u,r+"",e,t,a):i,h=d===i;if(h){var m=Ks(u),f=!m&&Js(u),p=!m&&!f&&la(u);d=u,m||f||p?Ks(c)?d=c:Gs(c)?d=ki(c):f?(h=!1,d=Ci(u,!0)):p?(h=!1,d=xi(u,!0)):d=[]:oa(u)||qs(u)?(d=c,qs(c)?d=ya(c):ta(c)&&!Zs(c)||(d=po(u))):h=!1}h&&(a.set(u,d),o(d,u,n,s,a),a.delete(u)),Zr(e,r,d)}}(e,t,a,r,Nn,n,o);else{var c=n?n(Ao(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Zr(e,a,c)}}),La)}function Vn(e,t){var r=e.length;if(r)return vo(t+=t<0?r:0,r)?e[t]:i}function Wn(e,t,r){t=t.length?Et(t,(function(e){return Ks(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;return t=Et(t,Ut(so())),function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Mi(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(Dn(e,(function(e,r,i){return{criteria:Et(t,(function(t){return t(e)})),index:++n,value:e}})))}function Un(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Sn(e,s);r(a,s)&&Qn(o,vi(s,e),a)}return o}function qn(e,t,r,n){var i=n?Ot:Lt,o=-1,s=t.length,a=e;for(e===t&&(t=ki(t)),r&&(a=Et(e,Ut(r)));++o<s;)for(var c=0,u=t[o],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&nt.call(a,c,1),nt.call(e,c,1);return e}function Kn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;vo(i)?nt.call(e,i,1):ui(e,i)}}return e}function Hn(e,t){return e+lr(br()*(t-e+1))}function zn(e,t){var r="";if(!e||t<1||t>d)return r;do{t%2&&(r+=e),(t=lr(t/2))&&(e+=e)}while(t);return r}function Gn(e,t){return To(Eo(e,t,ic),e+"")}function Jn(e){return Jr(Va(e))}function Yn(e,t){var r=Va(e);return Oo(r,sn(t,0,r.length))}function Qn(e,t,r,n){if(!ta(e))return e;for(var o=-1,s=(t=vi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Io(t[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var d=c[u];(l=n?n(d,u,c):i)===i&&(l=ta(d)?d:vo(t[o+1])?[]:{})}Xr(c,u,l),c=c[u]}return e}var Zn=Ar?function(e,t){return Ar.set(e,t),e}:ic,Xn=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ei(e){return Oo(Va(e))}function ti(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ri(e,t){var r;return dn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ni(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!ua(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ii(e,t,ic,r)}function ii(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,c=null===t,u=ua(t),l=t===i;o<s;){var d=lr((o+s)/2),h=r(e[d]),m=h!==i,f=null===h,p=h==h,g=ua(h);if(a)var v=n||p;else v=l?p&&(n||m):c?p&&m&&(n||!f):u?p&&m&&!f&&(n||!g):!f&&!g&&(n?h<=t:h<t);v?o=d+1:s=d}return vr(s,4294967294)}function oi(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Vs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function si(e){return"number"==typeof e?e:ua(e)?h:+e}function ai(e){if("string"==typeof e)return e;if(Ks(e))return Et(e,ai)+"";if(ua(e))return Dr?Dr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,r){var n=-1,i=xt,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=Mt;else if(o>=200){var u=t?null:zi(e);if(u)return rr(u);s=!1,i=Kt,c=new Hr}else c=t?[]:a;e:for(;++n<o;){var l=e[n],d=t?t(l):l;if(l=r||0!==l?l:0,s&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(l)}else i(c,d,r)||(c!==a&&c.push(d),a.push(l))}return a}function ui(e,t){return null==(e=_o(e,t=vi(t,e)))||delete e[Io(Qo(t))]}function li(e,t,r,n){return Qn(e,t,r(Sn(e,t)),n)}function di(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ti(e,n?0:o,n?o+1:i):ti(e,n?o+1:0,n?i:o)}function hi(e,t){var r=e;return r instanceof Wr&&(r=r.value()),kt(t,(function(e,t){return t.func.apply(t.thisArg,_t([e],t.args))}),r)}function mi(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=ln(s[o]||a,e[c],t,r));return ci(gn(s,1),t,r)}function fi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var c=n<s?t[n]:i;r(a,e[n],c)}return a}function pi(e){return Gs(e)?e:[]}function gi(e){return"function"==typeof e?e:ic}function vi(e,t){return Ks(e)?e:wo(e,t)?[e]:Do(wa(e))}var yi=Gn;function wi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ti(e,t,r)}var bi=lt||function(e){return ot.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var r=e.length,n=Ue?Ue(r):new e.constructor(r);return e.copy(n),n}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function xi(e,t){var r=t?Si(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=ua(e),a=t!==i,c=null===t,u=t==t,l=ua(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||n&&a&&u||!r&&u||!o)return 1;if(!n&&!s&&!l&&e<t||l&&r&&o&&!n&&!s||c&&r&&o||!a&&o||!u)return-1}return 0}function Ei(e,t,r,i){for(var o=-1,s=e.length,a=r.length,c=-1,u=t.length,l=gr(s-a,0),d=n(u+l),h=!i;++c<u;)d[c]=t[c];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;l--;)d[c++]=e[o++];return d}function _i(e,t,r,i){for(var o=-1,s=e.length,a=-1,c=r.length,u=-1,l=t.length,d=gr(s-c,0),h=n(d+l),m=!i;++o<d;)h[o]=e[o];for(var f=o;++u<l;)h[f+u]=t[u];for(;++a<c;)(m||o<s)&&(h[f+r[a]]=e[o++]);return h}function ki(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ai(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),o?nn(r,c,u):Xr(r,c,u)}return r}function Ri(e,t){return function(r,n){var i=Ks(r)?yt:tn,o=t?t():{};return i(r,e,so(n,2),o)}}function Pi(e){return Gn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&yo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Me(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Ti(e,t){return function(r,n){if(null==r)return r;if(!zs(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Me(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Bi(e){return function(t,r,n){for(var i=-1,o=Me(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function Li(e){return function(t){var r=Zt(t=wa(t))?or(t):i,n=r?r[0]:t.charAt(0),o=r?wi(r,1).join(""):t.slice(1);return n[e]()+o}}function Oi(e){return function(t){return kt(Za(qa(t).replace(qe,"")),e,"")}}function $i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=jr(e.prototype),n=e.apply(r,t);return ta(n)?n:r}}function Fi(e){return function(t,r,n){var o=Me(t);if(!zs(t)){var s=so(r,3);t=Ba(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function Di(e){return eo((function(t){var r=t.length,n=r,s=Vr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new ke(o);if(s&&!c&&"wrapper"==io(a))var c=new Vr([],!0)}for(n=c?n:r;++n<r;){var u=io(a=t[n]),l="wrapper"==u?no(a):i;c=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[io(l[0])].apply(c,l[3]):1==a.length&&bo(a)?c[u]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Ks(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Ii(e,t,r,o,s,a,c,l,d,h){var m=t&u,f=1&t,p=2&t,g=24&t,v=512&t,y=p?i:$i(e);return function i(){for(var u=arguments.length,w=n(u),b=u;b--;)w[b]=arguments[b];if(g)var C=oo(i),S=Gt(w,C);if(o&&(w=Ei(w,o,s,g)),a&&(w=_i(w,a,c,g)),u-=S,g&&u<h){var x=tr(w,C);return Ki(e,t,Ii,i.placeholder,r,w,x,l,d,h-u)}var M=f?r:this,E=p?M[e]:e;return u=w.length,l?w=ko(w,l):v&&u>1&&w.reverse(),m&&d<u&&(w.length=d),this&&this!==ot&&this instanceof i&&(E=y||$i(E)),E.apply(M,w)}}function ji(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ni(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ai(r),n=ai(n)):(r=si(r),n=si(n)),o=e(r,n)}return o}}function Vi(e){return eo((function(t){return t=Et(t,Ut(so())),Gn((function(r){var n=this;return e(t,(function(e){return vt(e,n,r)}))}))}))}function Wi(e,t){var r=(t=t===i?" ":ai(t)).length;if(r<2)return r?zn(t,e):t;var n=zn(t,ur(e/ir(t)));return Zt(t)?wi(or(n),0,e).join(""):n.slice(0,e)}function Ui(e){return function(t,r,o){return o&&"number"!=typeof o&&yo(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=gr(ur((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function qi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=va(t),r=va(r)),e(t,r)}}function Ki(e,t,r,n,o,s,a,u,l,d){var h=8&t;t|=h?c:64,4&(t&=~(h?64:c))||(t&=-4);var m=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,d],f=r.apply(i,m);return bo(e)&&Ro(f,m),f.placeholder=n,Bo(f,e,t)}function Hi(e){var t=xe[e];return function(e,r){if(e=va(e),(r=null==r?0:vr(pa(r),292))&&mr(e)){var n=(wa(e)+"e").split("e");return+((n=(wa(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var zi=Er&&1/rr(new Er([,-0]))[1]==l?function(e){return new Er(e)}:uc;function Gi(e){return function(t){var r=mo(t);return r==S?Xt(t):r==k?nr(t):function(e,t){return Et(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,s,l,d,h,m){var f=2&t;if(!f&&"function"!=typeof e)throw new ke(o);var p=s?s.length:0;if(p||(t&=-97,s=l=i),h=h===i?h:gr(pa(h),0),m=m===i?m:pa(m),p-=l?l.length:0,64&t){var g=s,v=l;s=l=i}var y=f?i:no(e),w=[e,t,r,s,l,g,v,d,h,m];if(y&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ei(l,c,t[4]):c,e[4]=l?tr(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?_i(l,c,t[6]):c,e[6]=l?tr(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,y),e=w[0],t=w[1],r=w[2],s=w[3],l=w[4],!(m=w[9]=w[9]===i?f?0:e.length:gr(w[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,r){var o=$i(e);return function s(){for(var a=arguments.length,c=n(a),u=a,l=oo(s);u--;)c[u]=arguments[u];var d=a<3&&c[0]!==l&&c[a-1]!==l?[]:tr(c,l);return(a-=d.length)<r?Ki(e,t,Ii,s.placeholder,i,c,d,i,i,r-a):vt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,m):t!=c&&33!=t||l.length?Ii.apply(i,w):function(e,t,r,i){var o=1&t,s=$i(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,d=n(l+c),h=this&&this!==ot&&this instanceof t?s:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++a];return vt(h,o?r:this,d)}}(e,t,r,s);else var b=function(e,t,r){var n=1&t,i=$i(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Bo((y?Zn:Ro)(b,w),e,t)}function Yi(e,t,r,n){return e===i||Vs(e,Pe[r])&&!Le.call(n,r)?t:e}function Qi(e,t,r,n,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Nn(e,t,i,Qi,s),s.delete(t)),e}function Zi(e){return oa(e)?i:e}function Xi(e,t,r,n,o,s){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var h=-1,m=!0,f=2&r?new Hr:i;for(s.set(e,t),s.set(t,e);++h<c;){var p=e[h],g=t[h];if(n)var v=a?n(g,p,h,t,e,s):n(p,g,h,e,t,s);if(v!==i){if(v)continue;m=!1;break}if(f){if(!Rt(t,(function(e,t){if(!Kt(f,t)&&(p===e||o(p,e,r,n,s)))return f.push(t)}))){m=!1;break}}else if(p!==g&&!o(p,g,r,n,s)){m=!1;break}}return s.delete(e),s.delete(t),m}function eo(e){return To(Eo(e,i,Ho),e+"")}function to(e){return xn(e,Ba,lo)}function ro(e){return xn(e,La,ho)}var no=Ar?function(e){return Ar.get(e)}:uc;function io(e){for(var t=e.name+"",r=Rr[t],n=Le.call(Rr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Le.call(Ir,"placeholder")?Ir:e).placeholder}function so(){var e=Ir.iteratee||oc;return e=e===oc?On:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function co(e){for(var t=Ba(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xo(i)]}return t}function uo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Ln(r)?r:i}var lo=dr?function(e){return null==e?[]:(e=Me(e),St(dr(e),(function(t){return et.call(e,t)})))}:gc,ho=dr?function(e){for(var t=[];e;)_t(t,lo(e)),e=He(e);return t}:gc,mo=Mn;function fo(e,t,r){for(var n=-1,i=(t=vi(t,e)).length,o=!1;++n<i;){var s=Io(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&vo(s,i)&&(Ks(e)||qs(e))}function po(e){return"function"!=typeof e.constructor||So(e)?{}:jr(He(e))}function go(e){return Ks(e)||qs(e)||!!(it&&e&&e[it])}function vo(e,t){var r=typeof e;return!!(t=null==t?d:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,r){if(!ta(r))return!1;var n=typeof t;return!!("number"==n?zs(r)&&vo(t,r.length):"string"==n&&t in r)&&Vs(r[t],e)}function wo(e,t){if(Ks(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ua(e))||X.test(e)||!Z.test(e)||null!=t&&e in Me(t)}function bo(e){var t=io(e),r=Ir[t];if("function"!=typeof r||!(t in Wr.prototype))return!1;if(e===r)return!0;var n=no(r);return!!n&&e===n[0]}(Sr&&mo(new Sr(new ArrayBuffer(1)))!=B||xr&&mo(new xr)!=S||Mr&&mo(Mr.resolve())!=E||Er&&mo(new Er)!=k||_r&&mo(new _r)!=P)&&(mo=function(e){var t=Mn(e),r=t==M?e.constructor:i,n=r?jo(r):"";if(n)switch(n){case Pr:return B;case Tr:return S;case Br:return E;case Lr:return k;case Or:return P}return t});var Co=Te?Zs:vc;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function xo(e){return e==e&&!ta(e)}function Mo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Me(r))}}function Eo(e,t,r){return t=gr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(a),vt(e,this,c)}}function _o(e,t){return t.length<2?e:Sn(e,ti(t,0,-1))}function ko(e,t){for(var r=e.length,n=vr(t.length,r),o=ki(e);n--;){var s=t[n];e[n]=vo(s,r)?o[s]:i}return e}function Ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=Lo(Zn),Po=It||function(e,t){return ot.setTimeout(e,t)},To=Lo(Xn);function Bo(e,t,r){var n=t+"";return To(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return wt(f,(function(r){var n="_."+r[0];t&r[1]&&!xt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function Lo(e){var t=0,r=0;return function(){var n=yr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Oo(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=Hn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var $o,Fo,Do=($o=$s((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(le,"$1"):r||e)})),t}),(function(e){return 500===Fo.size&&Fo.clear(),e})),Fo=$o.cache,$o);function Io(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function No(e){if(e instanceof Wr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=Gn((function(e,t){return Gs(e)?ln(e,gn(t,1,Gs,!0)):[]})),Wo=Gn((function(e,t){var r=Qo(t);return Gs(r)&&(r=i),Gs(e)?ln(e,gn(t,1,Gs,!0),so(r,2)):[]})),Uo=Gn((function(e,t){var r=Qo(t);return Gs(r)&&(r=i),Gs(e)?ln(e,gn(t,1,Gs,!0),i,r):[]}));function qo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=gr(n+i,0)),Bt(e,so(t,3),i)}function Ko(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=pa(r),o=r<0?gr(n+o,0):vr(o,n-1)),Bt(e,so(t,3),o,!0)}function Ho(e){return null!=e&&e.length?gn(e,1):[]}function zo(e){return e&&e.length?e[0]:i}var Go=Gn((function(e){var t=Et(e,pi);return t.length&&t[0]===e[0]?An(t):[]})),Jo=Gn((function(e){var t=Qo(e),r=Et(e,pi);return t===Qo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?An(r,so(t,2)):[]})),Yo=Gn((function(e){var t=Qo(e),r=Et(e,pi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?An(r,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Zo=Gn(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?qn(e,t):e}var es=eo((function(e,t){var r=null==e?0:e.length,n=on(e,t);return Kn(e,Et(t,(function(e){return vo(e,r)?+e:e})).sort(Mi)),n}));function ts(e){return null==e?e:Cr.call(e)}var rs=Gn((function(e){return ci(gn(e,1,Gs,!0))})),ns=Gn((function(e){var t=Qo(e);return Gs(t)&&(t=i),ci(gn(e,1,Gs,!0),so(t,2))})),is=Gn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ci(gn(e,1,Gs,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Gs(e))return t=gr(e.length,t),!0})),Vt(t,(function(t){return Et(e,Dt(t))}))}function ss(e,t){if(!e||!e.length)return[];var r=os(e);return null==t?r:Et(r,(function(e){return vt(t,i,e)}))}var as=Gn((function(e,t){return Gs(e)?ln(e,t):[]})),cs=Gn((function(e){return mi(St(e,Gs))})),us=Gn((function(e){var t=Qo(e);return Gs(t)&&(t=i),mi(St(e,Gs),so(t,2))})),ls=Gn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,mi(St(e,Gs),i,t)})),ds=Gn(os),hs=Gn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,ss(e,r)}));function ms(e){var t=Ir(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=eo((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Wr&&vo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),gs=Ri((function(e,t,r){Le.call(e,r)?++e[r]:nn(e,r,1)})),vs=Fi(qo),ys=Fi(Ko);function ws(e,t){return(Ks(e)?wt:dn)(e,so(t,3))}function bs(e,t){return(Ks(e)?bt:hn)(e,so(t,3))}var Cs=Ri((function(e,t,r){Le.call(e,r)?e[r].push(t):nn(e,r,[t])})),Ss=Gn((function(e,t,r){var i=-1,o="function"==typeof t,s=zs(e)?n(e.length):[];return dn(e,(function(e){s[++i]=o?vt(t,e,r):Rn(e,t,r)})),s})),xs=Ri((function(e,t,r){nn(e,r,t)}));function Ms(e,t){return(Ks(e)?Et:Dn)(e,so(t,3))}var Es=Ri((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),_s=Gn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&yo(e,t[0],t[1])?t=[]:r>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,gn(t,1),[])})),ks=Pt||function(){return ot.Date.now()};function As(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ji(e,u,i,i,i,i,t)}function Rs(e,t){var r;if("function"!=typeof t)throw new ke(o);return e=pa(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ps=Gn((function(e,t,r){var n=1;if(r.length){var i=tr(r,oo(Ps));n|=c}return Ji(e,n,t,r,i)})),Ts=Gn((function(e,t,r){var n=3;if(r.length){var i=tr(r,oo(Ts));n|=c}return Ji(t,n,e,r,i)}));function Bs(e,t,r){var n,s,a,c,u,l,d=0,h=!1,m=!1,f=!0;if("function"!=typeof e)throw new ke(o);function p(t){var r=n,o=s;return n=s=i,d=t,c=e.apply(o,r)}function g(e){return d=e,u=Po(y,t),h?p(e):c}function v(e){var r=e-l;return l===i||r>=t||r<0||m&&e-d>=a}function y(){var e=ks();if(v(e))return w(e);u=Po(y,function(e){var r=t-(e-l);return m?vr(r,a-(e-d)):r}(e))}function w(e){return u=i,f&&n?p(e):(n=s=i,c)}function b(){var e=ks(),r=v(e);if(n=arguments,s=this,l=e,r){if(u===i)return g(l);if(m)return bi(u),u=Po(y,t),p(l)}return u===i&&(u=Po(y,t)),c}return t=va(t)||0,ta(r)&&(h=!!r.leading,a=(m="maxWait"in r)?gr(va(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),b.cancel=function(){u!==i&&bi(u),d=0,n=l=s=u=i},b.flush=function(){return u===i?c:w(ks())},b}var Ls=Gn((function(e,t){return un(e,1,t)})),Os=Gn((function(e,t,r){return un(e,va(t)||0,r)}));function $s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new($s.Cache||Kr),r}function Fs(e){if("function"!=typeof e)throw new ke(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}$s.Cache=Kr;var Ds=yi((function(e,t){var r=(t=1==t.length&&Ks(t[0])?Et(t[0],Ut(so())):Et(gn(t,1),Ut(so()))).length;return Gn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return vt(e,this,n)}))})),Is=Gn((function(e,t){var r=tr(t,oo(Is));return Ji(e,c,i,t,r)})),js=Gn((function(e,t){var r=tr(t,oo(js));return Ji(e,64,i,t,r)})),Ns=eo((function(e,t){return Ji(e,256,i,i,i,t)}));function Vs(e,t){return e===t||e!=e&&t!=t}var Ws=qi(En),Us=qi((function(e,t){return e>=t})),qs=Pn(function(){return arguments}())?Pn:function(e){return ra(e)&&Le.call(e,"callee")&&!et.call(e,"callee")},Ks=n.isArray,Hs=dt?Ut(dt):function(e){return ra(e)&&Mn(e)==T};function zs(e){return null!=e&&ea(e.length)&&!Zs(e)}function Gs(e){return ra(e)&&zs(e)}var Js=hr||vc,Ys=ht?Ut(ht):function(e){return ra(e)&&Mn(e)==y};function Qs(e){if(!ra(e))return!1;var t=Mn(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Zs(e){if(!ta(e))return!1;var t=Mn(e);return t==b||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==pa(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var na=mt?Ut(mt):function(e){return ra(e)&&mo(e)==S};function ia(e){return"number"==typeof e||ra(e)&&Mn(e)==x}function oa(e){if(!ra(e)||Mn(e)!=M)return!1;var t=He(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Be.call(r)==De}var sa=ft?Ut(ft):function(e){return ra(e)&&Mn(e)==_},aa=pt?Ut(pt):function(e){return ra(e)&&mo(e)==k};function ca(e){return"string"==typeof e||!Ks(e)&&ra(e)&&Mn(e)==A}function ua(e){return"symbol"==typeof e||ra(e)&&Mn(e)==R}var la=gt?Ut(gt):function(e){return ra(e)&&ea(e.length)&&!!Ze[Mn(e)]},da=qi(Fn),ha=qi((function(e,t){return e<=t}));function ma(e){if(!e)return[];if(zs(e))return ca(e)?or(e):ki(e);if(st&&e[st])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[st]());var t=mo(e);return(t==S?Xt:t==k?rr:Va)(e)}function fa(e){return e?(e=va(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=fa(e),r=t%1;return t==t?r?t-r:t:0}function ga(e){return e?sn(pa(e),0,m):0}function va(e){if("number"==typeof e)return e;if(ua(e))return h;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Wt(e);var r=fe.test(e);return r||ge.test(e)?rt(e.slice(2),r?2:8):me.test(e)?h:+e}function ya(e){return Ai(e,La(e))}function wa(e){return null==e?"":ai(e)}var ba=Pi((function(e,t){if(So(t)||zs(t))Ai(t,Ba(t),e);else for(var r in t)Le.call(t,r)&&Xr(e,r,t[r])})),Ca=Pi((function(e,t){Ai(t,La(t),e)})),Sa=Pi((function(e,t,r,n){Ai(t,La(t),e,n)})),xa=Pi((function(e,t,r,n){Ai(t,Ba(t),e,n)})),Ma=eo(on),Ea=Gn((function(e,t){e=Me(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&yo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=La(s),c=-1,u=a.length;++c<u;){var l=a[c],d=e[l];(d===i||Vs(d,Pe[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),_a=Gn((function(e){return e.push(i,Qi),vt($a,i,e)}));function ka(e,t,r){var n=null==e?i:Sn(e,t);return n===i?r:n}function Aa(e,t){return null!=e&&fo(e,t,kn)}var Ra=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),tc(ic)),Pa=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),so),Ta=Gn(Rn);function Ba(e){return zs(e)?Gr(e):$n(e)}function La(e){return zs(e)?Gr(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var r in Me(e))t.push(r);return t}(e);var t=So(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}(e)}var Oa=Pi((function(e,t,r){Nn(e,t,r)})),$a=Pi((function(e,t,r,n){Nn(e,t,r,n)})),Fa=eo((function(e,t){var r={};if(null==e)return r;var n=!1;t=Et(t,(function(t){return t=vi(t,e),n||(n=t.length>1),t})),Ai(e,ro(e),r),n&&(r=an(r,7,Zi));for(var i=t.length;i--;)ui(r,t[i]);return r})),Da=eo((function(e,t){return null==e?{}:function(e,t){return Un(e,t,(function(t,r){return Aa(e,r)}))}(e,t)}));function Ia(e,t){if(null==e)return{};var r=Et(ro(e),(function(e){return[e]}));return t=so(t),Un(e,r,(function(e,r){return t(e,r[0])}))}var ja=Gi(Ba),Na=Gi(La);function Va(e){return null==e?[]:qt(e,Ba(e))}var Wa=Oi((function(e,t,r){return t=t.toLowerCase(),e+(r?Ua(t):t)}));function Ua(e){return Qa(wa(e).toLowerCase())}function qa(e){return(e=wa(e))&&e.replace(ye,Jt).replace(Ke,"")}var Ka=Oi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ha=Oi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),za=Li("toLowerCase"),Ga=Oi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ja=Oi((function(e,t,r){return e+(r?" ":"")+Qa(t)})),Ya=Oi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qa=Li("toUpperCase");function Za(e,t,r){return e=wa(e),(t=r?i:t)===i?function(e){return Je.test(e)}(e)?function(e){return e.match(ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Xa=Gn((function(e,t){try{return vt(e,i,t)}catch(e){return Qs(e)?e:new Ce(e)}})),ec=eo((function(e,t){return wt(t,(function(t){t=Io(t),nn(e,t,Ps(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Di(),nc=Di(!0);function ic(e){return e}function oc(e){return On("function"==typeof e?e:an(e,1))}var sc=Gn((function(e,t){return function(r){return Rn(r,e,t)}})),ac=Gn((function(e,t){return function(r){return Rn(e,r,t)}}));function cc(e,t,r){var n=Ba(t),i=Cn(t,n);null!=r||ta(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Cn(t,Ba(t)));var o=!(ta(r)&&"chain"in r&&!r.chain),s=Zs(e);return wt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=ki(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,_t([this.value()],arguments))})})),e}function uc(){}var lc=Vi(Et),dc=Vi(Ct),hc=Vi(Rt);function mc(e){return wo(e)?Dt(Io(e)):function(e){return function(t){return Sn(t,e)}}(e)}var fc=Ui(),pc=Ui(!0);function gc(){return[]}function vc(){return!1}var yc,wc=Ni((function(e,t){return e+t}),0),bc=Hi("ceil"),Cc=Ni((function(e,t){return e/t}),1),Sc=Hi("floor"),xc=Ni((function(e,t){return e*t}),1),Mc=Hi("round"),Ec=Ni((function(e,t){return e-t}),0);return Ir.after=function(e,t){if("function"!=typeof t)throw new ke(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Ir.ary=As,Ir.assign=ba,Ir.assignIn=Ca,Ir.assignInWith=Sa,Ir.assignWith=xa,Ir.at=Ma,Ir.before=Rs,Ir.bind=Ps,Ir.bindAll=ec,Ir.bindKey=Ts,Ir.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ks(e)?e:[e]},Ir.chain=ms,Ir.chunk=function(e,t,r){t=(r?yo(e,t,r):t===i)?1:gr(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=n(ur(o/t));s<o;)c[a++]=ti(e,s,s+=t);return c},Ir.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Ir.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return _t(Ks(r)?ki(r):[r],gn(t,1))},Ir.cond=function(e){var t=null==e?0:e.length,r=so();return e=t?Et(e,(function(e){if("function"!=typeof e[1])throw new ke(o);return[r(e[0]),e[1]]})):[],Gn((function(r){for(var n=-1;++n<t;){var i=e[n];if(vt(i[0],this,r))return vt(i[1],this,r)}}))},Ir.conforms=function(e){return function(e){var t=Ba(e);return function(r){return cn(r,e,t)}}(an(e,1))},Ir.constant=tc,Ir.countBy=gs,Ir.create=function(e,t){var r=jr(e);return null==t?r:rn(r,t)},Ir.curry=function e(t,r,n){var o=Ji(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Ir.curryRight=function e(t,r,n){var o=Ji(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Ir.debounce=Bs,Ir.defaults=Ea,Ir.defaultsDeep=_a,Ir.defer=Ls,Ir.delay=Os,Ir.difference=Vo,Ir.differenceBy=Wo,Ir.differenceWith=Uo,Ir.drop=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=r||t===i?1:pa(t))<0?0:t,n):[]},Ir.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,0,(t=n-(t=r||t===i?1:pa(t)))<0?0:t):[]},Ir.dropRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0,!0):[]},Ir.dropWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0):[]},Ir.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&yo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=pa(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:pa(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Ir.filter=function(e,t){return(Ks(e)?St:pn)(e,so(t,3))},Ir.flatMap=function(e,t){return gn(Ms(e,t),1)},Ir.flatMapDeep=function(e,t){return gn(Ms(e,t),l)},Ir.flatMapDepth=function(e,t,r){return r=r===i?1:pa(r),gn(Ms(e,t),r)},Ir.flatten=Ho,Ir.flattenDeep=function(e){return null!=e&&e.length?gn(e,l):[]},Ir.flattenDepth=function(e,t){return null!=e&&e.length?gn(e,t=t===i?1:pa(t)):[]},Ir.flip=function(e){return Ji(e,512)},Ir.flow=rc,Ir.flowRight=nc,Ir.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Ir.functions=function(e){return null==e?[]:Cn(e,Ba(e))},Ir.functionsIn=function(e){return null==e?[]:Cn(e,La(e))},Ir.groupBy=Cs,Ir.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Ir.intersection=Go,Ir.intersectionBy=Jo,Ir.intersectionWith=Yo,Ir.invert=Ra,Ir.invertBy=Pa,Ir.invokeMap=Ss,Ir.iteratee=oc,Ir.keyBy=xs,Ir.keys=Ba,Ir.keysIn=La,Ir.map=Ms,Ir.mapKeys=function(e,t){var r={};return t=so(t,3),wn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},Ir.mapValues=function(e,t){var r={};return t=so(t,3),wn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},Ir.matches=function(e){return In(an(e,1))},Ir.matchesProperty=function(e,t){return jn(e,an(t,1))},Ir.memoize=$s,Ir.merge=Oa,Ir.mergeWith=$a,Ir.method=sc,Ir.methodOf=ac,Ir.mixin=cc,Ir.negate=Fs,Ir.nthArg=function(e){return e=pa(e),Gn((function(t){return Vn(t,e)}))},Ir.omit=Fa,Ir.omitBy=function(e,t){return Ia(e,Fs(so(t)))},Ir.once=function(e){return Rs(2,e)},Ir.orderBy=function(e,t,r,n){return null==e?[]:(Ks(t)||(t=null==t?[]:[t]),Ks(r=n?i:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Ir.over=lc,Ir.overArgs=Ds,Ir.overEvery=dc,Ir.overSome=hc,Ir.partial=Is,Ir.partialRight=js,Ir.partition=Es,Ir.pick=Da,Ir.pickBy=Ia,Ir.property=mc,Ir.propertyOf=function(e){return function(t){return null==e?i:Sn(e,t)}},Ir.pull=Zo,Ir.pullAll=Xo,Ir.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,so(r,2)):e},Ir.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,i,r):e},Ir.pullAt=es,Ir.range=fc,Ir.rangeRight=pc,Ir.rearg=Ns,Ir.reject=function(e,t){return(Ks(e)?St:pn)(e,Fs(so(t,3)))},Ir.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=so(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Kn(e,i),r},Ir.rest=function(e,t){if("function"!=typeof e)throw new ke(o);return Gn(e,t=t===i?t:pa(t))},Ir.reverse=ts,Ir.sampleSize=function(e,t,r){return t=(r?yo(e,t,r):t===i)?1:pa(t),(Ks(e)?Yr:Yn)(e,t)},Ir.set=function(e,t,r){return null==e?e:Qn(e,t,r)},Ir.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Qn(e,t,r,n)},Ir.shuffle=function(e){return(Ks(e)?Qr:ei)(e)},Ir.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&yo(e,t,r)?(t=0,r=n):(t=null==t?0:pa(t),r=r===i?n:pa(r)),ti(e,t,r)):[]},Ir.sortBy=_s,Ir.sortedUniq=function(e){return e&&e.length?oi(e):[]},Ir.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},Ir.split=function(e,t,r){return r&&"number"!=typeof r&&yo(e,t,r)&&(t=r=i),(r=r===i?m:r>>>0)?(e=wa(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&Zt(e)?wi(or(e),0,r):e.split(t,r):[]},Ir.spread=function(e,t){if("function"!=typeof e)throw new ke(o);return t=null==t?0:gr(pa(t),0),Gn((function(r){var n=r[t],i=wi(r,0,t);return n&&_t(i,n),vt(e,this,i)}))},Ir.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Ir.take=function(e,t,r){return e&&e.length?ti(e,0,(t=r||t===i?1:pa(t))<0?0:t):[]},Ir.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=n-(t=r||t===i?1:pa(t)))<0?0:t,n):[]},Ir.takeRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!1,!0):[]},Ir.takeWhile=function(e,t){return e&&e.length?di(e,so(t,3)):[]},Ir.tap=function(e,t){return t(e),e},Ir.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ke(o);return ta(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bs(e,t,{leading:n,maxWait:t,trailing:i})},Ir.thru=fs,Ir.toArray=ma,Ir.toPairs=ja,Ir.toPairsIn=Na,Ir.toPath=function(e){return Ks(e)?Et(e,Io):ua(e)?[e]:ki(Do(wa(e)))},Ir.toPlainObject=ya,Ir.transform=function(e,t,r){var n=Ks(e),i=n||Js(e)||la(e);if(t=so(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ta(e)&&Zs(o)?jr(He(e)):{}}return(i?wt:wn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Ir.unary=function(e){return As(e,1)},Ir.union=rs,Ir.unionBy=ns,Ir.unionWith=is,Ir.uniq=function(e){return e&&e.length?ci(e):[]},Ir.uniqBy=function(e,t){return e&&e.length?ci(e,so(t,2)):[]},Ir.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Ir.unset=function(e,t){return null==e||ui(e,t)},Ir.unzip=os,Ir.unzipWith=ss,Ir.update=function(e,t,r){return null==e?e:li(e,t,gi(r))},Ir.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:li(e,t,gi(r),n)},Ir.values=Va,Ir.valuesIn=function(e){return null==e?[]:qt(e,La(e))},Ir.without=as,Ir.words=Za,Ir.wrap=function(e,t){return Is(gi(t),e)},Ir.xor=cs,Ir.xorBy=us,Ir.xorWith=ls,Ir.zip=ds,Ir.zipObject=function(e,t){return fi(e||[],t||[],Xr)},Ir.zipObjectDeep=function(e,t){return fi(e||[],t||[],Qn)},Ir.zipWith=hs,Ir.entries=ja,Ir.entriesIn=Na,Ir.extend=Ca,Ir.extendWith=Sa,cc(Ir,Ir),Ir.add=wc,Ir.attempt=Xa,Ir.camelCase=Wa,Ir.capitalize=Ua,Ir.ceil=bc,Ir.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=va(r))==r?r:0),t!==i&&(t=(t=va(t))==t?t:0),sn(va(e),t,r)},Ir.clone=function(e){return an(e,4)},Ir.cloneDeep=function(e){return an(e,5)},Ir.cloneDeepWith=function(e,t){return an(e,5,t="function"==typeof t?t:i)},Ir.cloneWith=function(e,t){return an(e,4,t="function"==typeof t?t:i)},Ir.conformsTo=function(e,t){return null==t||cn(e,t,Ba(t))},Ir.deburr=qa,Ir.defaultTo=function(e,t){return null==e||e!=e?t:e},Ir.divide=Cc,Ir.endsWith=function(e,t,r){e=wa(e),t=ai(t);var n=e.length,o=r=r===i?n:sn(pa(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Ir.eq=Vs,Ir.escape=function(e){return(e=wa(e))&&G.test(e)?e.replace(H,Yt):e},Ir.escapeRegExp=function(e){return(e=wa(e))&&re.test(e)?e.replace(te,"\\$&"):e},Ir.every=function(e,t,r){var n=Ks(e)?Ct:mn;return r&&yo(e,t,r)&&(t=i),n(e,so(t,3))},Ir.find=vs,Ir.findIndex=qo,Ir.findKey=function(e,t){return Tt(e,so(t,3),wn)},Ir.findLast=ys,Ir.findLastIndex=Ko,Ir.findLastKey=function(e,t){return Tt(e,so(t,3),bn)},Ir.floor=Sc,Ir.forEach=ws,Ir.forEachRight=bs,Ir.forIn=function(e,t){return null==e?e:vn(e,so(t,3),La)},Ir.forInRight=function(e,t){return null==e?e:yn(e,so(t,3),La)},Ir.forOwn=function(e,t){return e&&wn(e,so(t,3))},Ir.forOwnRight=function(e,t){return e&&bn(e,so(t,3))},Ir.get=ka,Ir.gt=Ws,Ir.gte=Us,Ir.has=function(e,t){return null!=e&&fo(e,t,_n)},Ir.hasIn=Aa,Ir.head=zo,Ir.identity=ic,Ir.includes=function(e,t,r,n){e=zs(e)?e:Va(e),r=r&&!n?pa(r):0;var i=e.length;return r<0&&(r=gr(i+r,0)),ca(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Lt(e,t,r)>-1},Ir.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=gr(n+i,0)),Lt(e,t,i)},Ir.inRange=function(e,t,r){return t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r){return e>=vr(t,r)&&e<gr(t,r)}(e=va(e),t,r)},Ir.invoke=Ta,Ir.isArguments=qs,Ir.isArray=Ks,Ir.isArrayBuffer=Hs,Ir.isArrayLike=zs,Ir.isArrayLikeObject=Gs,Ir.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Mn(e)==v},Ir.isBuffer=Js,Ir.isDate=Ys,Ir.isElement=function(e){return ra(e)&&1===e.nodeType&&!oa(e)},Ir.isEmpty=function(e){if(null==e)return!0;if(zs(e)&&(Ks(e)||"string"==typeof e||"function"==typeof e.splice||Js(e)||la(e)||qs(e)))return!e.length;var t=mo(e);if(t==S||t==k)return!e.size;if(So(e))return!$n(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},Ir.isEqual=function(e,t){return Tn(e,t)},Ir.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Tn(e,t,i,r):!!n},Ir.isError=Qs,Ir.isFinite=function(e){return"number"==typeof e&&mr(e)},Ir.isFunction=Zs,Ir.isInteger=Xs,Ir.isLength=ea,Ir.isMap=na,Ir.isMatch=function(e,t){return e===t||Bn(e,t,co(t))},Ir.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Bn(e,t,co(t),r)},Ir.isNaN=function(e){return ia(e)&&e!=+e},Ir.isNative=function(e){if(Co(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Ir.isNil=function(e){return null==e},Ir.isNull=function(e){return null===e},Ir.isNumber=ia,Ir.isObject=ta,Ir.isObjectLike=ra,Ir.isPlainObject=oa,Ir.isRegExp=sa,Ir.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=d},Ir.isSet=aa,Ir.isString=ca,Ir.isSymbol=ua,Ir.isTypedArray=la,Ir.isUndefined=function(e){return e===i},Ir.isWeakMap=function(e){return ra(e)&&mo(e)==P},Ir.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Mn(e)},Ir.join=function(e,t){return null==e?"":fr.call(e,t)},Ir.kebabCase=Ka,Ir.last=Qo,Ir.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=pa(r))<0?gr(n+o,0):vr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Bt(e,$t,o,!0)},Ir.lowerCase=Ha,Ir.lowerFirst=za,Ir.lt=da,Ir.lte=ha,Ir.max=function(e){return e&&e.length?fn(e,ic,En):i},Ir.maxBy=function(e,t){return e&&e.length?fn(e,so(t,2),En):i},Ir.mean=function(e){return Ft(e,ic)},Ir.meanBy=function(e,t){return Ft(e,so(t,2))},Ir.min=function(e){return e&&e.length?fn(e,ic,Fn):i},Ir.minBy=function(e,t){return e&&e.length?fn(e,so(t,2),Fn):i},Ir.stubArray=gc,Ir.stubFalse=vc,Ir.stubObject=function(){return{}},Ir.stubString=function(){return""},Ir.stubTrue=function(){return!0},Ir.multiply=xc,Ir.nth=function(e,t){return e&&e.length?Vn(e,pa(t)):i},Ir.noConflict=function(){return ot._===this&&(ot._=Ie),this},Ir.noop=uc,Ir.now=ks,Ir.pad=function(e,t,r){e=wa(e);var n=(t=pa(t))?ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(lr(i),r)+e+Wi(ur(i),r)},Ir.padEnd=function(e,t,r){e=wa(e);var n=(t=pa(t))?ir(e):0;return t&&n<t?e+Wi(t-n,r):e},Ir.padStart=function(e,t,r){e=wa(e);var n=(t=pa(t))?ir(e):0;return t&&n<t?Wi(t-n,r)+e:e},Ir.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(wa(e).replace(ne,""),t||0)},Ir.random=function(e,t,r){if(r&&"boolean"!=typeof r&&yo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=br();return vr(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Hn(e,t)},Ir.reduce=function(e,t,r){var n=Ks(e)?kt:jt,i=arguments.length<3;return n(e,so(t,4),r,i,dn)},Ir.reduceRight=function(e,t,r){var n=Ks(e)?At:jt,i=arguments.length<3;return n(e,so(t,4),r,i,hn)},Ir.repeat=function(e,t,r){return t=(r?yo(e,t,r):t===i)?1:pa(t),zn(wa(e),t)},Ir.replace=function(){var e=arguments,t=wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ir.result=function(e,t,r){var n=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[Io(t[n])];s===i&&(n=o,s=r),e=Zs(s)?s.call(e):s}return e},Ir.round=Mc,Ir.runInContext=e,Ir.sample=function(e){return(Ks(e)?Jr:Jn)(e)},Ir.size=function(e){if(null==e)return 0;if(zs(e))return ca(e)?ir(e):e.length;var t=mo(e);return t==S||t==k?e.size:$n(e).length},Ir.snakeCase=Ga,Ir.some=function(e,t,r){var n=Ks(e)?Rt:ri;return r&&yo(e,t,r)&&(t=i),n(e,so(t,3))},Ir.sortedIndex=function(e,t){return ni(e,t)},Ir.sortedIndexBy=function(e,t,r){return ii(e,t,so(r,2))},Ir.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ni(e,t);if(n<r&&Vs(e[n],t))return n}return-1},Ir.sortedLastIndex=function(e,t){return ni(e,t,!0)},Ir.sortedLastIndexBy=function(e,t,r){return ii(e,t,so(r,2),!0)},Ir.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Vs(e[r],t))return r}return-1},Ir.startCase=Ja,Ir.startsWith=function(e,t,r){return e=wa(e),r=null==r?0:sn(pa(r),0,e.length),t=ai(t),e.slice(r,r+t.length)==t},Ir.subtract=Ec,Ir.sum=function(e){return e&&e.length?Nt(e,ic):0},Ir.sumBy=function(e,t){return e&&e.length?Nt(e,so(t,2)):0},Ir.template=function(e,t,r){var n=Ir.templateSettings;r&&yo(e,t,r)&&(t=i),e=wa(e),t=Sa({},t,n,Yi);var o,s,a=Sa({},t.imports,n.imports,Yi),c=Ba(a),u=qt(a,c),l=0,d=t.interpolate||we,h="__p += '",m=Ee((t.escape||we).source+"|"+d.source+"|"+(d===Q?de:we).source+"|"+(t.evaluate||we).source+"|$","g"),f="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(m,(function(t,r,n,i,a,c){return n||(n=i),h+=e.slice(l,c).replace(be,Qt),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var p=Le.call(t,"variable")&&t.variable;if(p){if(ue.test(p))throw new Ce("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(U,"$1").replace(q,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Xa((function(){return Se(c,f+"return "+h).apply(i,u)}));if(g.source=h,Qs(g))throw g;return g},Ir.times=function(e,t){if((e=pa(e))<1||e>d)return[];var r=m,n=vr(e,m);t=so(t),e-=m;for(var i=Vt(n,t);++r<e;)t(r);return i},Ir.toFinite=fa,Ir.toInteger=pa,Ir.toLength=ga,Ir.toLower=function(e){return wa(e).toLowerCase()},Ir.toNumber=va,Ir.toSafeInteger=function(e){return e?sn(pa(e),-9007199254740991,d):0===e?e:0},Ir.toString=wa,Ir.toUpper=function(e){return wa(e).toUpperCase()},Ir.trim=function(e,t,r){if((e=wa(e))&&(r||t===i))return Wt(e);if(!e||!(t=ai(t)))return e;var n=or(e),o=or(t);return wi(n,Ht(n,o),zt(n,o)+1).join("")},Ir.trimEnd=function(e,t,r){if((e=wa(e))&&(r||t===i))return e.slice(0,sr(e)+1);if(!e||!(t=ai(t)))return e;var n=or(e);return wi(n,0,zt(n,or(t))+1).join("")},Ir.trimStart=function(e,t,r){if((e=wa(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=ai(t)))return e;var n=or(e);return wi(n,Ht(n,or(t))).join("")},Ir.truncate=function(e,t){var r=30,n="...";if(ta(t)){var o="separator"in t?t.separator:o;r="length"in t?pa(t.length):r,n="omission"in t?ai(t.omission):n}var s=(e=wa(e)).length;if(Zt(e)){var a=or(e);s=a.length}if(r>=s)return e;var c=r-ir(n);if(c<1)return n;var u=a?wi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(a&&(c+=u.length-c),sa(o)){if(e.slice(c).search(o)){var l,d=u;for(o.global||(o=Ee(o.source,wa(he.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(e.indexOf(ai(o),c)!=c){var m=u.lastIndexOf(o);m>-1&&(u=u.slice(0,m))}return u+n},Ir.unescape=function(e){return(e=wa(e))&&z.test(e)?e.replace(K,ar):e},Ir.uniqueId=function(e){var t=++Oe;return wa(e)+t},Ir.upperCase=Ya,Ir.upperFirst=Qa,Ir.each=ws,Ir.eachRight=bs,Ir.first=zo,cc(Ir,(yc={},wn(Ir,(function(e,t){Le.call(Ir.prototype,t)||(yc[t]=e)})),yc),{chain:!1}),Ir.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ir[e].placeholder=Ir})),wt(["drop","take"],(function(e,t){Wr.prototype[e]=function(r){r=r===i?1:gr(pa(r),0);var n=this.__filtered__&&!t?new Wr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,m),type:e+(n.__dir__<0?"Right":"")}),n},Wr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Wr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),wt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Wr.prototype[e]=function(){return this[r](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Wr.prototype[e]=function(){return this.__filtered__?new Wr(this):this[r](1)}})),Wr.prototype.compact=function(){return this.filter(ic)},Wr.prototype.find=function(e){return this.filter(e).head()},Wr.prototype.findLast=function(e){return this.reverse().find(e)},Wr.prototype.invokeMap=Gn((function(e,t){return"function"==typeof e?new Wr(this):this.map((function(r){return Rn(r,e,t)}))})),Wr.prototype.reject=function(e){return this.filter(Fs(so(e)))},Wr.prototype.slice=function(e,t){e=pa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=pa(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wr.prototype.toArray=function(){return this.take(m)},wn(Wr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Ir[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(Ir.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof Wr,u=a[0],l=c||Ks(t),d=function(e){var t=o.apply(Ir,_t([e],a));return n&&h?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,m=!!this.__actions__.length,f=s&&!h,p=c&&!m;if(!s&&l){t=p?t:new Wr(this);var g=e.apply(t,a);return g.__actions__.push({func:fs,args:[d],thisArg:i}),new Vr(g,h)}return f&&p?e.apply(this,a):(g=this.thru(d),f?n?g.value()[0]:g.value():g)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ir.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Ks(i)?i:[],e)}return this[r]((function(r){return t.apply(Ks(r)?r:[],e)}))}})),wn(Wr.prototype,(function(e,t){var r=Ir[t];if(r){var n=r.name+"";Le.call(Rr,n)||(Rr[n]=[]),Rr[n].push({name:t,func:r})}})),Rr[Ii(i,2).name]=[{name:"wrapper",func:i}],Wr.prototype.clone=function(){var e=new Wr(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Wr.prototype.reverse=function(){if(this.__filtered__){var e=new Wr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ks(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vr(t,e+s);break;case"takeRight":e=gr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,d=l.length,h=0,m=vr(c,this.__takeCount__);if(!r||!n&&i==c&&m==c)return hi(e,this.__actions__);var f=[];e:for(;c--&&h<m;){for(var p=-1,g=e[u+=t];++p<d;){var v=l[p],y=v.iteratee,w=v.type,b=y(g);if(2==w)g=b;else if(!b){if(1==w)continue e;break e}}f[h++]=g}return f},Ir.prototype.at=ps,Ir.prototype.chain=function(){return ms(this)},Ir.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Ir.prototype.next=function(){this.__values__===i&&(this.__values__=ma(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Ir.prototype.plant=function(e){for(var t,r=this;r instanceof Nr;){var n=No(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Ir.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wr){var t=e;return this.__actions__.length&&(t=new Wr(this)),(t=t.reverse()).__actions__.push({func:fs,args:[ts],thisArg:i}),new Vr(t,this.__chain__)}return this.thru(ts)},Ir.prototype.toJSON=Ir.prototype.valueOf=Ir.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Ir.prototype.first=Ir.prototype.head,st&&(Ir.prototype[st]=function(){return this}),Ir}();ot._=cr,(n=function(){return cr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},308:e=>{e.exports=function(){}},5062:e=>{e.exports=function(){return!1}},6281:(e,t,r)=>{"use strict";const n=r(9235);e.exports=n((e=>(e.message=`\t${e.message}`,e)))},8650:(e,t,r)=>{"use strict";const n=t.format=r(9235);t.levels=r(7823),Object.defineProperty(n,"align",{value:r(6281)}),Object.defineProperty(n,"cli",{value:r(153)}),Object.defineProperty(n,"combine",{value:r(2390)}),Object.defineProperty(n,"colorize",{value:r(8580)}),Object.defineProperty(n,"json",{value:r(3922)}),Object.defineProperty(n,"label",{value:r(3084)}),Object.defineProperty(n,"logstash",{value:r(3388)}),Object.defineProperty(n,"metadata",{value:r(2523)}),Object.defineProperty(n,"padLevels",{value:r(6566)}),Object.defineProperty(n,"prettyPrint",{value:r(5894)}),Object.defineProperty(n,"printf",{value:r(8242)}),Object.defineProperty(n,"simple",{value:r(459)}),Object.defineProperty(n,"splat",{value:r(8102)}),Object.defineProperty(n,"timestamp",{value:r(6645)}),Object.defineProperty(n,"uncolorize",{value:r(9095)})},153:(e,t,r)=>{"use strict";const{Colorizer:n}=r(8580),{Padder:i}=r(6566),{configs:o,MESSAGE:s}=r(5396);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},8580:(e,t,r)=>{"use strict";const n=r(4431),{LEVEL:i,MESSAGE:o}=r(5396);n.enabled=!0;const s=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce(((t,r)=>(t[r]=s.test(e[r])?e[r].split(s):e[r],t)),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(a.allColors[e]))return n[a.allColors[e]](r);for(let t=0,i=a.allColors[e].length;t<i;t++)r=n[a.allColors[e][t]](r);return r}transform(e,t){return t.all&&"string"==typeof e[o]&&(e[o]=this.colorize(e[i],e.level,e[o])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},2390:(e,t,r)=>{"use strict";const n=r(9235);function i(e){if(e.every(o))return t=>{let r=t;for(let t=0;t<e.length;t++)if(r=e[t].transform(r,e[t].options),!r)return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r},e.exports.cascade=i},6894:(e,t,r)=>{"use strict";var n=r(8287);e.exports=n((function(e){return e.message="\t".concat(e.message),e}))},6850:(e,t,r)=>{"use strict";var n=t.format=r(8287);t.levels=r(7371),Object.defineProperty(n,"align",{value:r(6894)}),Object.defineProperty(n,"cli",{value:r(9008)}),Object.defineProperty(n,"combine",{value:r(1145)}),Object.defineProperty(n,"colorize",{value:r(2046)}),Object.defineProperty(n,"json",{value:r(3048)}),Object.defineProperty(n,"label",{value:r(4403)}),Object.defineProperty(n,"logstash",{value:r(9660)}),Object.defineProperty(n,"metadata",{value:r(2883)}),Object.defineProperty(n,"padLevels",{value:r(2886)}),Object.defineProperty(n,"prettyPrint",{value:r(8703)}),Object.defineProperty(n,"printf",{value:r(2361)}),Object.defineProperty(n,"simple",{value:r(2167)}),Object.defineProperty(n,"splat",{value:r(7729)}),Object.defineProperty(n,"timestamp",{value:r(7271)}),Object.defineProperty(n,"uncolorize",{value:r(9729)})},9008:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(2046).Colorizer,s=r(2886).Padder,a=r(5396),c=a.configs,u=a.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.levels||(t.levels=c.npm.levels),this.colorizer=new o(t),this.padder=new s(t),this.options=t}var t,r;return t=e,(r=[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[u]="".concat(e.level,":").concat(e.message),e}}])&&i(t.prototype,r),e}();e.exports=function(e){return new l(e)},e.exports.Format=l},2046:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(4431),s=r(5396),a=s.LEVEL,c=s.MESSAGE;o.enabled=!0;var u=/\s+/,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),t.colors&&this.addColors(t.colors),this.options=t}var t,r,s;return t=e,s=[{key:"addColors",value:function(t){var r=Object.keys(t).reduce((function(e,r){return e[r]=u.test(t[r])?t[r].split(u):t[r],e}),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}}],(r=[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,r,n){if(void 0===n&&(n=r),!Array.isArray(e.allColors[t]))return o[e.allColors[t]](n);for(var i=0,s=e.allColors[t].length;i<s;i++)n=o[e.allColors[t][i]](n);return n}},{key:"transform",value:function(e,t){return t.all&&"string"==typeof e[c]&&(e[c]=this.colorize(e[a],e.level,e[c])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[a],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[a],e.level,e.message)),e}}])&&i(t.prototype,r),s&&i(t,s),e}();e.exports=function(e){return new l(e)},e.exports.Colorizer=e.exports.Format=l},1145:(e,t,r)=>{"use strict";var n=r(8287);function i(e){if(e.every(o))return function(t){for(var r=t,n=0;n<e.length;n++)if(!(r=e[n].transform(r,e[n].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},2657:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(8287),o=r(5396),s=o.LEVEL,a=o.MESSAGE;e.exports=i((function(e,t){var r=t.stack;if(e instanceof Error){var i,o=Object.assign({},e,(n(i={level:e.level},s,e[s]||e.level),n(i,"message",e.message),n(i,a,e[a]||e.message),i));return r&&(o.stack=e.stack),o}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);var c=e.message;return e.message=c.message,e[a]=c.message,r&&(e.stack=c.stack),e}))},8287:e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?n(e):r}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function o(e,t,r){return(o=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,i,o=(t=u,i=s(),function(){var e,n=c(t);if(i){var o=c(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return r(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=o.call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ".concat(e.toString().split("\n")[0],"\n")),Error.captureStackTrace(n(t),u),t}return u}(i(Error));e.exports=function(e){if(e.length>2)throw new u(e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function r(e){return new t(e)}return t.prototype.transform=e,r.Format=t,r}},6941:(e,t,r)=>{"use strict";var n=t.format=r(8287);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:function(){return r(5378)("./".concat(t,".js"))},configurable:!0})}t.levels=r(7371),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},3048:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(4445);function s(e,t){return t instanceof Buffer?t.toString("base64"):"bigint"==typeof t?t.toString():t}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i]=(t.stable?o.stableStringify:o)(e,t.replacer||s,t.space),e}))},4403:(e,t,r)=>{"use strict";var n=r(8287);e.exports=n((function(e,t){return t.message?(e.message="[".concat(t.label,"] ").concat(e.message),e):(e.label=t.label,e)}))},7371:(e,t,r)=>{"use strict";var n=r(2046).Colorizer;e.exports=function(e){return n.addColors(e.colors||e),e}},9660:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(4445);e.exports=n((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},2883:(e,t,r)=>{"use strict";var n=r(8287);function i(e,t,r){var n,i,o,s=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),a=Object.keys(e).reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{});return Object.assign(e,s,(o=a,(i=r)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),e}function o(e,t,r){return e[r]=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),e}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="metadata";t.key&&(r=t.key);var n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?i(e,n,r):t.fillWith?o(e,t.fillWith,r):e}))},3584:(e,t,r)=>{"use strict";var n=void 0,i=r(8287),o=r(7824);e.exports=i((function(e){var t=+new Date;return n.diff=t-(n.prevTime||t),n.prevTime=t,e.ms="+".concat(o(n.diff)),e}))},2886:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(5396),a=s.configs,c=s.LEVEL,u=s.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:a.npm.levels};i(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}var t,r,s;return t=e,s=[{key:"getLongestLevel",value:function(e){var t,r=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,function(e){if(Array.isArray(e))return n(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},{key:"paddingForLevel",value:function(e,t,r){var n=r+1-e.length,i=Math.floor(n/t.length);return"".concat(t).concat(t.repeat(i)).slice(0,n)}},{key:"paddingForLevels",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,r,n),t}),{})}}],(r=[{key:"transform",value:function(e,t){return e.message="".concat(this.paddings[e[c]]).concat(e.message),e[u]&&(e[u]="".concat(this.paddings[e[c]]).concat(e[u])),e}}])&&o(t.prototype,r),s&&o(t,s),e}();e.exports=function(e){return new l(e)},e.exports.Padder=e.exports.Format=l},8703:(e,t,r)=>{"use strict";var n=r(1669).inspect,i=r(8287),o=r(5396),s=o.LEVEL,a=o.MESSAGE,c=o.SPLAT;e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);return delete r[s],delete r[a],delete r[c],e[a]=n(r,!1,t.depth||null,t.colorize),e}))},2361:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(5396).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}var t,r;return t=e,(r=[{key:"transform",value:function(e){return e[i]=this.template(e),e}}])&&n(t.prototype,r),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},2167:(e,t,r)=>{"use strict";var n=r(8287),i=r(5396).MESSAGE,o=r(4445);e.exports=n((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?"".concat(e.level,":").concat(r," ").concat(e.message," ").concat(t):"".concat(e.level,":").concat(r," ").concat(e.message),e}))},7729:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(1669),s=r(5396).SPLAT,a=/%[scdjifoO%]/g,c=/%%/g,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}var t,r;return t=e,(r=[{key:"_splat",value:function(e,t){var r,i=e.message,a=e[s]||e.splat||[],u=i.match(c),l=u&&u.length||0,d=t.length-l-a.length,h=d<0?a.splice(d,-1*d):[],m=h.length;if(m)for(var f=0;f<m;f++)Object.assign(e,h[f]);return e.message=o.format.apply(o,[i].concat(function(e){if(Array.isArray(e))return n(e)}(r=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),e}},{key:"transform",value:function(e){var t=e.message,r=e[s]||e.splat;if(!r||!r.length)return e;var n=t&&t.match&&t.match(a);if(!n&&(r||r.length)){var i=r.length>1?r.splice(0):r,o=i.length;if(o)for(var c=0;c<o;c++)Object.assign(e,i[c]);return e}return n?this._splat(e,n):e}}])&&i(t.prototype,r),e}();e.exports=function(e){return new u(e)}},7271:(e,t,r)=>{"use strict";var n=r(9432),i=r(8287);e.exports=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},9729:(e,t,r)=>{"use strict";var n=r(4431),i=r(8287),o=r(5396).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e}))},5378:(e,t,r)=>{var n={"./align.js":6894,"./browser.js":6850,"./cli.js":9008,"./colorize.js":2046,"./combine.js":1145,"./errors.js":2657,"./format.js":8287,"./index.js":6941,"./json.js":3048,"./label.js":4403,"./levels.js":7371,"./logstash.js":9660,"./metadata.js":2883,"./ms.js":3584,"./pad-levels.js":2886,"./pretty-print.js":8703,"./printf.js":2361,"./simple.js":2167,"./splat.js":7729,"./timestamp.js":7271,"./uncolorize.js":9729};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=5378},1648:(e,t,r)=>{"use strict";const n=r(9235),{LEVEL:i,MESSAGE:o}=r(5396);e.exports=n(((e,{stack:t})=>{if(e instanceof Error){const r=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[o]:e[o]||e.message});return t&&(r.stack=e.stack),r}if(!(e.message instanceof Error))return e;Object.assign(e,e.message);const r=e.message;return e.message=r.message,e[o]=r.message,t&&(e.stack=r.stack),e}))},1831:(e,t,r)=>{const{format:n}=r(562),{combine:i,timestamp:o,label:s}=n,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},6803:(e,t,r)=>{const{format:n}=r(562),{combine:i,timestamp:o,label:s}=n,a=n(((e,t)=>!e.private&&e))();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=n.combine(n((e=>!1))(),n((e=>{throw new Error("Never reached")}))());console.dir(c.transform({level:"info",message:"wow such testing"}))},1645:(e,t,r)=>{const{format:n}=r(562);n((function(e,t,r,n){return e}))},8010:(e,t,r)=>{const{format:n}=r(562),{combine:i,json:o,metadata:s,timestamp:a}=n,c=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const u=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(u);const l=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(l);const d=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},7836:(e,t,r)=>{const{format:n}=r(562),{combine:i,padLevels:o,simple:s}=n,{MESSAGE:a}=r(5396),c=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),u=c.transform({level:"info",message:"This is an info level message."}),l=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(u[a]),console.dir(l[a]),console.dir(d[a])},317:(e,t,r)=>{const{format:n}=r(562),i=n(((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e))),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},9235:e=>{"use strict";class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,t)}}e.exports=e=>{if(e.length>2)throw new t(e);function r(e={}){this.options=e}function n(e){return new r(e)}return r.prototype.transform=e,n.Format=r,n}},562:(e,t,r)=>{"use strict";const n=t.format=r(9235);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:()=>r(6835)(`./${t}.js`),configurable:!0})}t.levels=r(7823),i("align"),i("errors"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},3922:(e,t,r)=>{"use strict";const n=r(9235),{MESSAGE:i}=r(5396),o=r(4445);function s(e,t){return t instanceof Buffer?t.toString("base64"):"bigint"==typeof t?t.toString():t}e.exports=n(((e,t={})=>(e[i]=(t.stable?o.stableStringify:o)(e,t.replacer||s,t.space),e)))},3084:(e,t,r)=>{"use strict";const n=r(9235);e.exports=n(((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e)))},7823:(e,t,r)=>{"use strict";const{Colorizer:n}=r(8580);e.exports=e=>(n.addColors(e.colors||e),e)},3388:(e,t,r)=>{"use strict";const n=r(9235),{MESSAGE:i}=r(5396),o=r(4445);e.exports=n((e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},2523:(e,t,r)=>{"use strict";const n=r(9235);e.exports=n(((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),i=Object.keys(e).reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),e}(e,t.fillWith,r):e}))},7560:function(e,t,r){"use strict";const n=r(9235),i=r(7824);e.exports=n((e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e}))},6566:(e,t,r)=>{"use strict";const{configs:n,LEVEL:i,MESSAGE:o}=r(5396);class s{constructor(e={levels:n.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map((e=>e.length));return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=s.getLongestLevel(e);return Object.keys(e).reduce(((e,n)=>(e[n]=s.paddingForLevel(n,t,r),e)),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},5894:(e,t,r)=>{"use strict";const n=r(1669).inspect,i=r(9235),{LEVEL:o,MESSAGE:s,SPLAT:a}=r(5396);e.exports=i(((e,t={})=>{const r=Object.assign({},e);return delete r[o],delete r[s],delete r[a],e[s]=n(r,!1,t.depth||null,t.colorize),e}))},8242:(e,t,r)=>{"use strict";const{MESSAGE:n}=r(5396);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},459:(e,t,r)=>{"use strict";const n=r(9235),{MESSAGE:i}=r(5396),o=r(4445);e.exports=n((e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e}))},8102:(e,t,r)=>{"use strict";const n=r(1669),{SPLAT:i}=r(5396),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,o=e[i]||e.splat||[],a=r.match(s),c=a&&a.length||0,u=t.length-c-o.length,l=u<0?o.splice(u,-1*u):[],d=l.length;if(d)for(let t=0;t<d;t++)Object.assign(e,l[t]);return e.message=n.format(r,...o),e}transform(e){const t=e.message,r=e[i]||e.splat;if(!r||!r.length)return e;const n=t&&t.match&&t.match(o);if(!n&&(r||r.length)){const t=r.length>1?r.splice(0):r,n=t.length;if(n)for(let r=0;r<n;r++)Object.assign(e,t[r]);return e}return n?this._splat(e,n):e}}e.exports=e=>new a(e)},6645:(e,t,r)=>{"use strict";const n=r(9432),i=r(9235);e.exports=i(((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e)))},9095:(e,t,r)=>{"use strict";const n=r(4431),i=r(9235),{MESSAGE:o}=r(5396);e.exports=i(((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e)))},6835:(e,t,r)=>{var n={"./align.js":6281,"./browser.js":8650,"./cli.js":153,"./colorize.js":8580,"./combine.js":2390,"./dist/align.js":6894,"./dist/browser.js":6850,"./dist/cli.js":9008,"./dist/colorize.js":2046,"./dist/combine.js":1145,"./dist/errors.js":2657,"./dist/format.js":8287,"./dist/index.js":6941,"./dist/json.js":3048,"./dist/label.js":4403,"./dist/levels.js":7371,"./dist/logstash.js":9660,"./dist/metadata.js":2883,"./dist/ms.js":3584,"./dist/pad-levels.js":2886,"./dist/pretty-print.js":8703,"./dist/printf.js":2361,"./dist/simple.js":2167,"./dist/splat.js":7729,"./dist/timestamp.js":7271,"./dist/uncolorize.js":9729,"./errors.js":1648,"./examples/combine.js":1831,"./examples/filter.js":6803,"./examples/invalid.js":1645,"./examples/metadata.js":8010,"./examples/padLevels.js":7836,"./examples/volume.js":317,"./format.js":9235,"./index.js":562,"./json.js":3922,"./label.js":3084,"./levels.js":7823,"./logstash.js":3388,"./metadata.js":2523,"./ms.js":7560,"./pad-levels.js":6566,"./pretty-print.js":5894,"./printf.js":8242,"./simple.js":459,"./splat.js":8102,"./timestamp.js":6645,"./uncolorize.js":9095};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=6835},7824:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=n?o(a,c,n,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1468:function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8614),s=Symbol("DO_REQUEST");class a extends o.EventEmitter{constructor({transport:e,data:t,logger:i,metadata:o,client:s}){super(),this[n]=(e,t=[])=>new Promise(((r,n)=>{this.transport.request(e,t,((t,i)=>{this.logger.debug(`response -> neovim.api.${e}: ${i}`),t?n(new Error(`${e}: ${t[1]}`)):r(i)}))})),this.setTransport(e),this.data=t,this.logger=i||r(311).logger,this.client=s,o&&Object.defineProperty(this,"metadata",{value:o})}setTransport(e){this.transport=e}equals(e){try{return String(this.data)===String(e.data)}catch(e){return!1}}asyncRequest(e,t=[],r){return i(this,void 0,void 0,(function*(){return yield this._isReady,this.logger.debug(`request -> neovim.api.${e}`),this[s](e,t).catch((t=>{const n=new Error(t.message);throw n.stack=r,this.logger.error(`Error making request to ${e}`,n),n}))}))}request(e,t=[]){const r=new Error(`Error making request to ${e}`);return this.asyncRequest(e,t,r.stack)}_getArgsByPrefix(...e){const t=[];return"nvim_"!==this.prefix&&t.push(this),t.concat(e)}getVar(e){return i(this,void 0,void 0,(function*(){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_var`,t).then((e=>e),(e=>{if(e&&e.message&&e.message.includes("not found"))return null;throw e}))}))}setVar(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_var`,r)}deleteVar(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}del_var`,t)}getOption(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_option`,t)}setOption(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_option`,r)}notify(e,t){this.logger.debug(`notify -> neovim.api.${e}`),this.transport.notify(e,t)}}t.BaseApi=a,n=s},1810:function(e,t,r){"use strict";var n,i,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=r(1468),a=r(94);t.DETACH=Symbol("detachBuffer"),t.ATTACH=Symbol("attachBuffer");class c extends s.BaseApi{constructor(){super(...arguments),this.prefix=a.Metadata[a.ExtType.Buffer].prefix,this[n]=(e=!1,t={})=>o(this,void 0,void 0,(function*(){return!!this.client.isAttached(this)||this.request(`${this.prefix}attach`,[this,e,t])})),this[i]=()=>this.request(`${this.prefix}detach`,[this])}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(`${this.prefix}line_count`,[this])}get lines(){return this.getLines()}get changedtick(){return this.request(`${this.prefix}get_changedtick`,[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[this,e])}getLines({start:e,end:t,strictIndexing:r}={start:0,end:-1,strictIndexing:!0}){const n=void 0===r||r;return this.request(`${this.prefix}get_lines`,[this,e,t,n])}setLines(e,{start:t,end:r,strictIndexing:n}={strictIndexing:!0}){const i=void 0===n||n,o="string"==typeof e?[e]:e,s=void 0!==r?r:t+1;return this.request(`${this.prefix}set_lines`,[this,t,s,i,o])}insert(e,t){return this.setLines(e,{start:t,end:t,strictIndexing:!0})}replace(e,t){const r="string"==typeof e?[e]:e;return this.setLines(r,{start:t,end:t+r.length,strictIndexing:!1})}remove(e,t,r){return this.setLines([],{start:e,end:t,strictIndexing:r})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(`${this.prefix}get_name`,[this])}set name(e){this.request(`${this.prefix}set_name`,[this,e])}get valid(){return this.request(`${this.prefix}is_valid`,[this])}mark(e){return this.request(`${this.prefix}get_mark`,[this,e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[this,e])}get loaded(){return this.request(`${this.prefix}is_loaded`,[this])}getOffset(e){return this.request(`${this.prefix}get_offset`,[this,e])}addHighlight({hlGroup:e,line:t,colStart:r,colEnd:n,srcId:i}){const o=void 0!==e?e:"",s=void 0!==n?n:-1,a=void 0!==r?r:-0,c=void 0!==i?i:-1;return this.request(`${this.prefix}add_highlight`,[this,c,o,t,a,s])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");const{srcId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{srcId:-1,lineStart:0,lineEnd:-1}),e);return this.request(`${this.prefix}clear_highlight`,[this,t,r,n])}clearNamespace(e){const{nsId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{nsId:-1,lineStart:0,lineEnd:-1}),e);this.request(`${this.prefix}clear_namespace`,[this,t,r,n])}setVirtualText(e,t,r,n={}){return this.request(`${this.prefix}set_virtual_text`,[this,e,t,r,n])}listen(e,r){return this.isAttached||this[t.ATTACH]().then((t=>{t||this.unlisten(e,r)})),this.client.attachBuffer(this,e,r),()=>{this.unlisten(e,r)}}unlisten(e,r){this.isAttached&&this.client.detachBuffer(this,e,r)&&this[t.DETACH]()}}t.Buffer=c,n=t.ATTACH,i=t.DETACH},2203:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1468),i=r(2348),o=r(1810),s=r(4637),a=r(5720);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=o.Buffer,this.Window=a.Window,this.Tabpage=s.Tabpage}get apiInfo(){return this.request(`${this.prefix}get_api_info`)}get buffers(){return this.request(`${this.prefix}list_bufs`)}get buffer(){return i.createChainableApi.call(this,"Buffer",o.Buffer,(()=>this.request(`${this.prefix}get_current_buf`)))}set buffer(e){this.request(`${this.prefix}set_current_buf`,[e])}get chans(){return this.request(`${this.prefix}list_chans`)}getChanInfo(e){return this.request(`${this.prefix}get_chan_info`,[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[e])}get tabpages(){return this.request(`${this.prefix}list_tabpages`)}get tabpage(){return i.createChainableApi.call(this,"Tabpage",s.Tabpage,(()=>this.request(`${this.prefix}get_current_tabpage`)))}set tabpage(e){this.request(`${this.prefix}set_current_tabpage`,[e])}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){this.setWindow(e)}getWindows(){return this.request(`${this.prefix}list_wins`)}getWindow(){return i.createChainableApi.call(this,"Window",a.Window,(()=>this.request(`${this.prefix}get_current_win`)))}setWindow(e){return this.request(`${this.prefix}set_current_win`,[e])}get runtimePaths(){return this.request(`${this.prefix}list_runtime_paths`)}set dir(e){this.request(`${this.prefix}set_current_dir`,[e])}get line(){return this.getLine()}set line(e){"string"==typeof e&&this.setLine(e)}getLine(){return this.request(`${this.prefix}get_current_line`)}setLine(e){return this.request(`${this.prefix}set_current_line`,[e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[e])}get mode(){return this.request(`${this.prefix}get_mode`)}get colorMap(){return this.request(`${this.prefix}get_color_map`)}getColorByName(e){return this.request(`${this.prefix}get_color_by_name`,[e])}getHighlight(e,t=!0){const r="string"==typeof e?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${r}`,[e,t])}getHighlightByName(e,t=!0){return this.request(`${this.prefix}get_hl_by_name`,[e,t])}getHighlightById(e,t=!0){return this.request(`${this.prefix}get_hl_by_id`,[e,t])}deleteCurrentLine(){return this.request(`${this.prefix}del_current_line`)}eval(e){return this.request(`${this.prefix}eval`,[e])}lua(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}execute_lua`,[e,r])}executeLua(e,t=[]){return this.lua(e,t)}callDictFunction(e,t,r=[]){const n=Array.isArray(r)?r:[r];return this.request(`${this.prefix}call_dict_function`,[e,t,n])}call(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}call_function`,[e,r])}callFunction(e,t=[]){return this.call(e,t)}callAtomic(e){return this.request(`${this.prefix}call_atomic`,[e])}command(e){return this.request(`${this.prefix}command`,[e])}commandOutput(e){return this.request(`${this.prefix}command_output`,[e])}getVvar(e){return this.request(`${this.prefix}get_vvar`,[e])}setVvar(e,t){return this.request(`${this.prefix}set_vvar`,[e,t])}feedKeys(e,t,r){return this.request(`${this.prefix}feedkeys`,[e,t,r])}input(e){return this.request(`${this.prefix}input`,[e])}inputMouse(e,t,r,n,i,o){return this.request(`${this.prefix}input_mouse`,[e,t,r,n,i,o])}parseExpression(e,t,r){return this.request(`${this.prefix}parse_expression`,[e,t,r])}getProc(e){return this.request(`${this.prefix}get_proc`,[e])}getProcChildren(e){return this.request(`${this.prefix}get_proc_children`,[e])}replaceTermcodes(e,t,r,n){return this.request(`${this.prefix}replace_termcodes`,[e,t,r,n])}strWidth(e){return this.request(`${this.prefix}strwidth`,[e])}outWrite(e){return this.request(`${this.prefix}out_write`,[e])}outWriteLine(e){return this.outWrite(`${e}\n`)}errWrite(e){return this.request(`${this.prefix}err_write`,[e])}errWriteLine(e){return this.request(`${this.prefix}err_writeln`,[e])}get uis(){return this.request(`${this.prefix}list_uis`)}uiAttach(e,t,r){return this.request(`${this.prefix}ui_attach`,[e,t,r])}uiDetach(){return this.request(`${this.prefix}ui_detach`,[])}uiTryResize(e,t){return this.request(`${this.prefix}ui_try_resize`,[e,t])}uiTryResizeGrid(e,t,r){return this.request(`${this.prefix}ui_try_resize_grid`,[e,t,r])}uiSetOption(e,t){return this.request(`${this.prefix}ui_set_option`,[e,t])}subscribe(e){return this.request(`${this.prefix}subscribe`,[e])}unsubscribe(e){return this.request(`${this.prefix}unsubscribe`,[e])}setClientInfo(e,t,r,n,i){this.request(`${this.prefix}set_client_info`,[e,t,r,n,i])}createNamespace(e=""){return this.request(`${this.prefix}create_namespace`,[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(`${this.prefix}get_namespaces`)}selectPopupmenuItem(e,t,r,n={}){return this.request(`${this.prefix}select_popupmenu_item`,[e,t,r,n])}createBuf(e,t){return this.request(`${this.prefix}create_buf`,[e,t])}createBuffer(e,t){return this.createBuf(e,t)}openWin(e,t,r){return this.request(`${this.prefix}open_win`,[e,t,r])}openWindow(e,t,r){return this.openWin(e,t,r)}winConfig(e,t={}){return e.config(t)}windowConfig(e,t={}){return this.winConfig(e,t)}winClose(e,t){return e.close(t)}windowClose(e,t){return this.winClose(e,t)}quit(){this.command("qa!")}}t.Neovim=c},4637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1468),i=r(94),o=r(2348),s=r(5720);class a extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Tabpage].prefix}get windows(){return this.request(`${this.prefix}list_wins`,[this])}get window(){return o.createChainableApi.call(this,"Window",s.Window,(()=>this.request(`${this.prefix}get_win`,[this])))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}getOption(){this.logger.error("Tabpage does not have `getOption`")}setOption(){this.logger.error("Tabpage does not have `setOption`")}}t.Tabpage=a},5720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1468),i=r(94),o=r(2348),s=r(4637),a=r(1810);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Window].prefix}get id(){return this.data}get buffer(){return o.createChainableApi.call(this,"Buffer",a.Buffer,(()=>this.request(`${this.prefix}get_buf`,[this])))}get tabpage(){return o.createChainableApi.call(this,"Tabpage",s.Tabpage,(()=>this.request(`${this.prefix}get_tabpage`,[this])))}get cursor(){return this.request(`${this.prefix}get_cursor`,[this])}set cursor(e){this.request(`${this.prefix}set_cursor`,[this,e])}get height(){return this.request(`${this.prefix}get_height`,[this])}set height(e){this.request(`${this.prefix}set_height`,[this,e])}get width(){return this.request(`${this.prefix}get_width`,[this])}set width(e){this.request(`${this.prefix}set_width`,[this,e])}get position(){return this.request(`${this.prefix}get_position`,[this])}get row(){return this.request(`${this.prefix}get_position`,[this]).then((e=>e[0]))}get col(){return this.request(`${this.prefix}get_position`,[this]).then((e=>e[1]))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}close(e=!1){return this.request(`${this.prefix}close`,[this,e])}config(e={}){return this.request(`${this.prefix}set_config`,[this,e])}}t.Window=c},4606:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(138),o=r(2203);class s extends o.Neovim{constructor(e={}){super({logger:e.logger}),this.attachedBuffers=new Map;const t=e.transport||new i.Transport;this.setTransport(t),this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this)}attach({reader:e,writer:t}){this.transport.attach(t,e,this),this.transportAttached=!0,this.setupTransport()}get isApiReady(){return this.transportAttached&&void 0!==this._channelId}get channelId(){return(()=>n(this,void 0,void 0,(function*(){return yield this._isReady,this._channelId})))()}isAttached(e){const t=`${e.data}`;return this.attachedBuffers.has(t)}handleRequest(e,t,r,...n){this.logger.info("handleRequest: ",e),this.isApiReady||"specs"===e?this.emit("request",e,t,r):this.requestQueue.push({type:"request",args:[e,t,r,...n]})}emitNotification(e,t){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_"))return void this.logger.error("Unhandled event: ",e);const r=e.replace(/nvim_buf_(.*)_event/,"$1"),[n]=t,i=`${n.data}`;if(!this.attachedBuffers.has(i))return;(this.attachedBuffers.get(i).get(r)||[]).forEach((e=>e(...t))),"detach"===r&&this.attachedBuffers.delete(i)}else this.emit("notification",e,t)}handleNotification(e,t,...r){this.logger.info("handleNotification: ",e),this.isApiReady?this.emitNotification(e,t):this.requestQueue.push({type:"notification",args:[e,t,...r]})}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",(()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach")})),this._isReady=this.generateApi()}requestApi(){return new Promise(((e,t)=>{this.transport.request("nvim_get_api_info",[],((r,n)=>{r?t(r):e(n)}))}))}generateApi(){return n(this,void 0,void 0,(function*(){let e;try{e=yield this.requestApi()}catch(e){this.logger.error("Could not get vim api results"),this.logger.error(e)}if(e)try{const[t]=e;return this._channelId=t,this.requestQueue.forEach((e=>{"notification"===e.type?this.emitNotification(e.args[0],e.args[1]):this.emit(e.type,...e.args)})),this.requestQueue=[],!0}catch(e){return this.logger.error(`Could not dynamically generate neovim API: ${e}`,{error:e}),this.logger.error(e.stack),null}return null}))}attachBuffer(e,t,r){const n=`${e.data}`;this.attachedBuffers.has(n)||this.attachedBuffers.set(n,new Map);const i=this.attachedBuffers.get(n);i.get(t)||i.set(t,[]);const o=i.get(t);return-1!==o.indexOf(r)||(o.push(r),i.set(t,o),this.attachedBuffers.set(n,i)),r}detachBuffer(e,t,r){const n=`${e.data}`,i=this.attachedBuffers.get(n);if(!i)return!1;const o=(i.get(t)||[]).filter((e=>e!==r));return o.length?i.set(t,o):i.delete(t),!i.size&&(this.attachedBuffers.delete(n),!0)}}t.NeovimClient=s},2348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1468),i=Object.getOwnPropertyNames(n.BaseApi.prototype);t.createChainableApi=function(e,t,r,o){if(this[`${e}Promise`]&&0===this[`${e}Promise`].status&&this[`${e}Proxy`])return this[`${e}Proxy`];this[`${e}Promise`]=r(),[...i,...Object.getOwnPropertyNames(t.prototype)].forEach((t=>{Object.defineProperty(this[`${e}Promise`],t,{enumerable:!0,writable:!0,configurable:!0})}));const s={get:(r,i)=>{const s=Object.prototype.hasOwnProperty.call(t.prototype,i)||Object.prototype.hasOwnProperty.call(n.BaseApi.prototype,i),a=Object.getOwnPropertyDescriptor(t.prototype,i)||Object.getOwnPropertyDescriptor(n.BaseApi.prototype,i),c=a&&(void 0!==a.get||void 0!==a.set);return t&&s?s&&!c&&(i in t.prototype&&"function"==typeof t.prototype[i]||i in n.BaseApi.prototype&&"function"==typeof n.BaseApi.prototype[i])?(...t)=>this[`${e}Promise`].then((e=>e[i].call(e,...t))):o&&o()||this[`${e}Promise`].then((e=>e[i])):i in r?"function"==typeof r[i]?r[i].bind(r):r[i]:null},set:(e,t,r,n)=>(n&&(n instanceof Promise||"then"in n)?n.then((e=>{t in e&&(e[t]=r)})):e[t]=r,!0)};return this[`${e}Proxy`]=new Proxy(this[`${e}Promise`],s),this[`${e}Proxy`]}},94:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1810),i=r(5720),o=r(4637);var s;(s=t.ExtType||(t.ExtType={}))[s.Buffer=0]="Buffer",s[s.Window=1]="Window",s[s.Tabpage=2]="Tabpage",t.Metadata=[{constructor:n.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:i.Window,name:"Window",prefix:"nvim_win_"},{constructor:o.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}]},3286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1291);t.attach=n.attach},1291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1631),i=r(4606);t.attach=function({reader:e,writer:t,proc:o,socket:s,options:a={}}){let c,u;if(s){const e=n.createConnection(s);c=e,u=e}else e&&t?(c=t,u=e):o&&(c=o.stdin,u=o.stdout);if(c&&u){const e=a.logger||r(311).logger,t=new i.NeovimClient({logger:e});return t.attach({writer:c,reader:u}),t}throw new Error("Invalid arguments, could not attach")}},311:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(598)),o=process.env.NVIM_NODE_LOG_LEVEL||"debug",s=i.createLogger({level:o});process.env.NVIM_NODE_LOG_FILE&&s.add(new i.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:o})),process.env.ALLOW_CONSOLE&&s.add(new i.transports.Console({format:i.format.simple()})),t.logger=s},138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8614),i=r(3308),o=r(94);class s{constructor(e,t){this.encoder=e,this.requestId=t}send(e,t){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);const r=i.encode([1,this.requestId,t?e:null,t?null:e]);this.encoder.write(Buffer.from(r.buffer,r.byteOffset,r.byteLength)),this.sent=!0}}class a extends n.EventEmitter{constructor(){super(...arguments),this.pending=new Map,this.nextRequestId=1,this.extensionCodec=this.initializeExtensionCodec()}initializeExtensionCodec(){const e=new i.ExtensionCodec;return o.Metadata.forEach((({constructor:t},r)=>{e.register({type:r,encode:e=>e instanceof t?i.encode(e.data):null,decode:e=>new t({transport:this,client:this.client,data:i.decode(e)})})})),e}encodeToBuffer(e){const t=i.encode(e,{extensionCodec:this.extensionCodec});return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}attach(e,t,r){this.writer=e,this.reader=t,this.client=r,this.reader.on("end",(()=>{this.emit("detach")}));const n=i.decodeStream(this.reader,{extensionCodec:this.extensionCodec}),o=e=>{e.next().then((t=>t.done?Promise.resolve():(this.parseMessage(t.value),o(e))))};o(n)}request(e,t,r){this.nextRequestId=this.nextRequestId+1,this.writer.write(this.encodeToBuffer([0,this.nextRequestId,e,t])),this.pending.set(this.nextRequestId,r)}notify(e,t){this.writer.write(this.encodeToBuffer([2,e,t]))}parseMessage(e){const t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new s(this.writer,e[1]));else if(1===t){const t=e[1],r=this.pending.get(t);this.pending.delete(t),r(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this.writer.write(this.encodeToBuffer([1,0,"Invalid message type",null]))}}t.Transport=a},1733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)((function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}(0,n.default)(i)&&"function"==typeof i.then?i.then((function(e){a(r,null,e)}),(function(e){a(r,e.message?e:new Error(e))})):r(null,i)}))};var n=s(r(3218)),i=s(r(1773)),o=s(r(1040));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(e){(0,o.default)(c,e)}}function c(e){throw e}e.exports=t.default},1622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?h:m)(e,(0,l.default)(t),r)};var n=d(r(8612)),i=d(r(7236)),o=d(r(5327)),s=d(r(8737)),a=d(r(308)),c=d(r(9487)),u=d(r(2548)),l=d(r(1451));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){r=(0,c.default)(r||a.default);var n=0,o=0,s=e.length;function l(e,t){e?r(e):++o!==s&&t!==i.default||r(null)}for(0===s&&r(null);n<s;n++)t(e[n],n,(0,u.default)(l))}var m=(0,s.default)(o.default,1/0);e.exports=t.default},5327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){(0,n.default)(t)(e,(0,i.default)(r),o)};var n=o(r(3766)),i=o(r(1451));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(5327)),i=o(r(8737));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(n.default,1),e.exports=t.default},1052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)};var n=s(r(1622)),i=s(r(7347)),o=s(r(1451));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},7236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},8737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default},3766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,c){if(c=(0,i.default)(c||n.default),e<=0||!t)return c(null);var u=(0,o.default)(t),l=!1,d=0,h=!1;function m(e,t){if(d-=1,e)l=!0,c(e);else{if(t===a.default||l&&d<=0)return l=!0,c(null);h||f()}}function f(){for(h=!0;d<e&&!l;){var t=u();if(null===t)return l=!0,void(d<=0&&c(null));d+=1,r(t.value,t.key,(0,s.default)(m))}h=!1}f()}};var n=c(r(308)),i=c(r(9487)),o=c(r(8225)),s=c(r(2548)),a=c(r(7236));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},7224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r&&e[r]&&e[r]()};var r="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},1773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,i.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,i=(n=r(8283))&&n.__esModule?n:{default:n};e.exports=t.default},8225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,s,a,c=(0,i.default)(e);return c?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(c):(t=e,r=(0,o.default)(t),s=-1,a=r.length,function(){var e=r[++s];return s<a?{value:t[e],key:e}:null})};var n=s(r(8612)),i=s(r(7224)),o=s(r(3674));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},9487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},2548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=r||n.default;var a=(0,i.default)(t)?[]:{};e(t,(function(e,t,r){(0,s.default)(e)((function(e,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[t]=n,r(e)}))}),(function(e){r(e,a)}))};var n=a(r(308)),i=a(r(8612)),o=a(r(8283)),s=a(r(1451));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},1040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=c,t.wrap=u;var n,i,o=(n=r(8283))&&n.__esModule?n:{default:n},s=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return function(t){var r=(0,o.default)(arguments,1);e((function(){t.apply(null,r)}))}}i=s?setImmediate:a?process.nextTick:c,t.default=u(i)},8283:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default},7347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default},1451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,i=(n=r(1733))&&n.__esModule?n:{default:n},o="function"==typeof Symbol;function s(e){return o&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return s(e)?(0,i.default)(e):e},t.isAsync=s},6046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(i.default,e,t)};var n=o(r(730)),i=o(r(2280));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},6382:function(e,t,r){var n;!function(i){"use strict";var o={},s=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,u=/\[([^]*?)\]/gm,l=function(){};function d(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}function h(e){return function(t,r,n){var i=n[e].indexOf(r.charAt(0).toUpperCase()+r.substr(1).toLowerCase());~i&&(t.month=i)}}function m(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],g=d(p,3),v=d(f,3);o.i18n={dayNamesShort:v,dayNames:f,monthNamesShort:g,monthNames:p,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDate()},DD:function(e){return m(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return m(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return m(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return String(e.getFullYear()).substr(2)},YYYY:function(e){return m(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return m(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return m(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return m(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return m(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return m(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return m(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},w={D:[a,function(e,t){e.day=t}],Do:[new RegExp(a.source+c.source),function(e,t){e.day=parseInt(t,10)}],M:[a,function(e,t){e.month=t-1}],YY:[a,function(e,t){var r=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?r-1:r)+t}],h:[a,function(e,t){e.hour=t}],m:[a,function(e,t){e.minute=t}],s:[a,function(e,t){e.second=t}],YYYY:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],d:[a,l],ddd:[c,l],MMM:[c,h("monthNamesShort")],MMMM:[c,h("monthNames")],a:[c,function(e,t,r){var n=t.toLowerCase();n===r.amPm[0]?e.isPm=!1:n===r.amPm[1]&&(e.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(e,t){"Z"===t&&(t="+00:00");var r,n=(t+"").match(/([\+\-]|\d\d)/gi);n&&(r=60*n[1]+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?r:-r)}]};w.dd=w.d,w.dddd=w.ddd,w.DD=w.D,w.mm=w.m,w.hh=w.H=w.HH=w.h,w.MM=w.M,w.ss=w.s,w.A=w.a,o.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,r){var n=r||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=o.masks[t]||t||o.masks.default;var i=[];return(t=(t=t.replace(u,(function(e,t){return i.push(t),"??"}))).replace(s,(function(t){return t in y?y[t](e,n):t.slice(1,t.length-1)}))).replace(/\?\?/g,(function(){return i.shift()}))},o.parse=function(e,t,r){var n=r||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var i=!0,a={};if(t.replace(s,(function(t){if(w[t]){var r=w[t],o=e.search(r[0]);~o?e.replace(r[0],(function(t){return r[1](a,t,n),e=e.substr(o+t.length),t})):i=!1}return w[t]?"":t.slice(1,t.length-1)})),!i)return!1;var c,u=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=+(a.minute||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||u.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):c=new Date(a.year||u.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0),c},e.exports?e.exports=o:void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},7835:e=>{"use strict";var t=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.writable=function(e){return t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},t.readable=function(e){return t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},t.duplex=function(e){return t.writable(e)&&t.readable(e)},t.transform=function(e){return t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},7982:(e,t,r)=>{"use strict";const n=r(392);e.exports=n((e=>(e.message=`\t${e.message}`,e)))},7472:(e,t,r)=>{"use strict";const n=t.format=r(392);t.levels=r(5373),Object.defineProperty(n,"align",{value:r(7982)}),Object.defineProperty(n,"cli",{value:r(6247)}),Object.defineProperty(n,"combine",{value:r(7708)}),Object.defineProperty(n,"colorize",{value:r(2997)}),Object.defineProperty(n,"json",{value:r(9584)}),Object.defineProperty(n,"label",{value:r(1261)}),Object.defineProperty(n,"logstash",{value:r(9382)}),Object.defineProperty(n,"metadata",{value:r(8946)}),Object.defineProperty(n,"padLevels",{value:r(7981)}),Object.defineProperty(n,"prettyPrint",{value:r(4510)}),Object.defineProperty(n,"printf",{value:r(1681)}),Object.defineProperty(n,"simple",{value:r(5215)}),Object.defineProperty(n,"splat",{value:r(8059)}),Object.defineProperty(n,"timestamp",{value:r(9785)}),Object.defineProperty(n,"uncolorize",{value:r(3034)})},6247:(e,t,r)=>{"use strict";const{Colorizer:n}=r(2997),{Padder:i}=r(7981),{configs:o,MESSAGE:s}=r(5396);class a{constructor(e={}){e.levels||(e.levels=o.npm.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},2997:(e,t,r)=>{"use strict";const n=r(4431),{LEVEL:i}=r(5396);n.enabled=!0;const o=/\s+/;class s{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce(((t,r)=>(t[r]=o.test(e[r])?e[r].split(o):e[r],t)),{});return s.allColors=Object.assign({},s.allColors||{},t),s.allColors}addColors(e){return s.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(s.allColors[e]))return n[s.allColors[e]](r);for(let t=0,i=s.allColors[e].length;t<i;t++)r=n[s.allColors[e][t]](r);return r}transform(e,t){return(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new s(e),e.exports.Colorizer=e.exports.Format=s},7708:(e,t,r)=>{"use strict";const n=r(392);function i(e){if(e.every(o))return t=>{let r=t;for(let t=0;t<e.length;t++)if(r=e[t].transform(r,e[t].options),!r)return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r},e.exports.cascade=i},7645:(e,t,r)=>{"use strict";var n=r(6037);e.exports=n((function(e){return e.message="\t"+e.message,e}))},8245:(e,t,r)=>{"use strict";var n=t.format=r(6037);t.levels=r(9294),Object.defineProperty(n,"align",{value:r(7645)}),Object.defineProperty(n,"cli",{value:r(9101)}),Object.defineProperty(n,"combine",{value:r(1809)}),Object.defineProperty(n,"colorize",{value:r(8820)}),Object.defineProperty(n,"json",{value:r(9603)}),Object.defineProperty(n,"label",{value:r(1700)}),Object.defineProperty(n,"logstash",{value:r(3898)}),Object.defineProperty(n,"metadata",{value:r(1185)}),Object.defineProperty(n,"padLevels",{value:r(4951)}),Object.defineProperty(n,"prettyPrint",{value:r(944)}),Object.defineProperty(n,"printf",{value:r(7812)}),Object.defineProperty(n,"simple",{value:r(5127)}),Object.defineProperty(n,"splat",{value:r(2490)}),Object.defineProperty(n,"timestamp",{value:r(4354)}),Object.defineProperty(n,"uncolorize",{value:r(8806)})},9101:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(8820).Colorizer,s=r(4951).Padder,a=r(5396),c=a.configs,u=a.MESSAGE,l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.levels||(t.levels=c.npm.levels),this.colorizer=new o(t),this.padder=new s(t),this.options=t}return n(e,[{key:"transform",value:function(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[u]=e.level+":"+e.message,e}}]),e}();e.exports=function(e){return new l(e)},e.exports.Format=l},8820:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(4431),s=r(5396).LEVEL;o.enabled=!0;var a=/\s+/,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),t.colors&&this.addColors(t.colors),this.options=t}return n(e,[{key:"addColors",value:function(t){return e.addColors(t)}},{key:"colorize",value:function(t,r,n){if(void 0===n&&(n=r),!Array.isArray(e.allColors[t]))return o[e.allColors[t]](n);for(var i=0,s=e.allColors[t].length;i<s;i++)n=o[e.allColors[t][i]](n);return n}},{key:"transform",value:function(e,t){return(t.level||t.all||!t.message)&&(e.level=this.colorize(e[s],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[s],e.level,e.message)),e}}],[{key:"addColors",value:function(t){var r=Object.keys(t).reduce((function(e,r){return e[r]=a.test(t[r])?t[r].split(a):t[r],e}),{});return e.allColors=Object.assign({},e.allColors||{},r),e.allColors}}]),e}();e.exports=function(e){return new c(e)},e.exports.Colorizer=e.exports.Format=c},1809:(e,t,r)=>{"use strict";var n=r(6037);function i(e){if(e.every(o))return function(t){for(var r=t,n=0;n<e.length;n++)if(!(r=e[n].transform(r,e[n].options)))return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n(i(t)),s=o();return s.Format=o.Format,s},e.exports.cascade=i},6037:e=>{"use strict";var t=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Format functions must be synchronous taking a two arguments: (info, opts)\nFound: "+e.toString().split("\n")[0]+"\n"));return Error.captureStackTrace(r,t),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports=function(e){if(e.length>2)throw new t(e);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}function n(e){return new r(e)}return r.prototype.transform=e,n.Format=r,n}},5818:(e,t,r)=>{"use strict";var n=t.format=r(6037);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:function(){return r(8465)("./"+t+".js")},configurable:!0})}t.levels=r(9294),i("align"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},9603:(e,t,r)=>{"use strict";var n=r(6037),i=r(5396).MESSAGE,o=r(4445);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=n((function(e,t){return e[i]=o(e,t.replacer||s,t.space),e}))},1700:(e,t,r)=>{"use strict";var n=r(6037);e.exports=n((function(e,t){return t.message?(e.message="["+t.label+"] "+e.message,e):(e.label=t.label,e)}))},9294:(e,t,r)=>{"use strict";var n=r(8820).Colorizer;e.exports=function(e){return n.addColors(e.colors||e),e}},3898:(e,t,r)=>{"use strict";var n=r(6037),i=r(5396).MESSAGE,o=r(4445);e.exports=n((function(e){var t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},1185:(e,t,r)=>{"use strict";var n=r(6037);function i(e,t,r){var n,i,o,s=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),a=Object.keys(e).reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{});return Object.assign(e,s,(o=a,(i=r)in(n={})?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n)),e}function o(e,t,r){return e[r]=t.reduce((function(t,r){return t[r]=e[r],delete e[r],t}),{}),e}e.exports=n((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="metadata";t.key&&(r=t.key);var n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?i(e,n,r):t.fillWith?o(e,t.fillWith,r):e}))},6219:(e,t,r)=>{"use strict";var n=r(6037),i=r(7824);e.exports=n((function(e){var t=+new Date;return(void 0).diff=t-((void 0).prevTime||t),(void 0).prevTime=t,e.ms="+"+i((void 0).diff),e}))},4951:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(5396),s=o.configs,a=o.LEVEL,c=o.MESSAGE,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{levels:s.npm.levels};i(this,e),this.paddings=e.paddingForLevels(t.levels,t.filler),this.options=t}return n(e,[{key:"transform",value:function(e,t){return e.message=""+this.paddings[e[a]]+e.message,e[c]&&(e[c]=""+this.paddings[e[a]]+e[c]),e}}],[{key:"getLongestLevel",value:function(e){var t=Object.keys(e).map((function(e){return e.length}));return Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t))}},{key:"paddingForLevel",value:function(e,t,r){var n=r+1-e.length,i=Math.floor(n/t.length);return(""+t+t.repeat(i)).slice(0,n)}},{key:"paddingForLevels",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=e.getLongestLevel(t);return Object.keys(t).reduce((function(t,i){return t[i]=e.paddingForLevel(i,r,n),t}),{})}}]),e}();e.exports=function(e){return new u(e)},e.exports.Padder=e.exports.Format=u},944:(e,t,r)=>{"use strict";var n=r(1669).inspect,i=r(6037),o=r(5396).MESSAGE;e.exports=i((function(e,t){return e[o]=n(e,!1,t.depth||null,t.colorize),e}))},7812:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5396).MESSAGE,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=t}return n(e,[{key:"transform",value:function(e){return e[i]=this.template(e),e}}]),e}();e.exports=function(e){return new o(e)},e.exports.Printf=e.exports.Format=o},5127:(e,t,r)=>{"use strict";var n=r(6037),i=r(5396).MESSAGE,o=r(4445);e.exports=n((function(e){var t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?e.level+":"+r+" "+e.message+" "+t:e.level+":"+r+" "+e.message,e}))},2490:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1669),o=r(5396).SPLAT,s=/%[scdjifoO%]/g,a=/%%/g,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}return n(e,[{key:"_splat",value:function(e,t){var r=e.message,n=e[o]||e.splat||[],s=r.match(a),c=s&&s.length||0,u=t.length-c-n.length,l=u<0?n.splice(u,-1*u):[];return 1===l.length?e.meta=l[0]:l.length&&(e.meta=l),e.message=i.format.apply(i,[r].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(n))),e}},{key:"transform",value:function(e){var t=e.message,r=e[o]||e.splat;if(!r||!r.length)return e;var n=t&&t.match&&t.match(s);if(!n&&(r||r.length)){var i=r.length>1?r.splice(0):r;return 1===i.length?e.meta=i[0]:i.length&&(e.meta=i),e}return n?this._splat(e,n):e}}]),e}();e.exports=function(e){return new c(e)}},4354:(e,t,r)=>{"use strict";var n=r(6382),i=r(6037);e.exports=i((function(e,t){return t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e}))},8806:(e,t,r)=>{"use strict";var n=r(4431),i=r(6037),o=r(5396).MESSAGE;e.exports=i((function(e,t){return!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e}))},8465:(e,t,r)=>{var n={"./align.js":7645,"./browser.js":8245,"./cli.js":9101,"./colorize.js":8820,"./combine.js":1809,"./format.js":6037,"./index.js":5818,"./json.js":9603,"./label.js":1700,"./levels.js":9294,"./logstash.js":3898,"./metadata.js":1185,"./ms.js":6219,"./pad-levels.js":4951,"./pretty-print.js":944,"./printf.js":7812,"./simple.js":5127,"./splat.js":2490,"./timestamp.js":4354,"./uncolorize.js":8806};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=8465},7909:(e,t,r)=>{const{format:n}=r(8892),{combine:i,timestamp:o,label:s}=n,a=i(s({label:"right meow!"}),o()).transform({level:"info",message:"What time is the testing at?"});console.dir(a)},4672:(e,t,r)=>{const{format:n}=r(8892),{combine:i,timestamp:o,label:s}=n,a=n(((e,t)=>!e.private&&e))();console.dir(a.transform({level:"error",message:"Public error to share"})),console.dir(a.transform({level:"error",private:!0,message:"This is super secret - hide it."}));const c=n.combine(n((e=>!1))(),n((e=>{throw new Error("Never reached")}))());console.dir(c.transform({level:"info",message:"wow such testing"}))},8194:(e,t,r)=>{const{format:n}=r(8892);n((function(e,t,r,n){return e}))},9651:(e,t,r)=>{const{format:n}=r(8892),{combine:i,json:o,metadata:s,timestamp:a}=n,c=i(a(),s(),o()).transform({level:"info",message:"This should be a message.",application:"Microsoft Office",store:"Big Box Store",purchaseAmount:"9.99"});console.dir(c);const u=i(a(),s({fillExcept:["message","level","timestamp"]}),o()).transform({level:"info",message:"This should have attached metadata",category:"movies",subCategory:"action"});console.dir(u);const l=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel"});console.dir(l);const d=i(a(),s({fillWith:["publisher","author","book"],key:"bookInfo"}),s({fillWith:["purchasePrice","purchaseDate","transactionId"],key:"transactionInfo"}),s({fillExcept:["level","message","label","timestamp"]}),o()).transform({level:"debug",message:"This message should be outside of the bookInfo object",publisher:"Lorem Press",author:"Albert Einstein",book:"4D Chess for Dummies",label:"myCustomLabel",purchasePrice:"9.99",purchaseDate:"2.10.2018",transactionId:"123ABC"});console.dir(d)},2381:(e,t,r)=>{const{format:n}=r(8892),{combine:i,padLevels:o,simple:s}=n,{MESSAGE:a}=r(5396),c=i(o({levels:{error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6}}),s()),u=c.transform({level:"info",message:"This is an info level message."}),l=c.transform({level:"error",message:"This is an error level message."}),d=c.transform({level:"verbose",message:"This is a verbose level message."});console.dir(u[a]),console.dir(l[a]),console.dir(d[a])},2345:(e,t,r)=>{const{format:n}=r(8892),i=n(((e,t)=>(t.yell?e.message=e.message.toUpperCase():t.whisper&&(e.message=e.message.toLowerCase()),e))),o=i({yell:!0});console.dir(o.transform({level:"info",message:"sorry for making you YELL in your head!"},o.options));const s=i({whisper:!0});console.dir(s.transform({level:"info",message:"WHY ARE THEY MAKING US YELL SO MUCH!"},s.options))},392:e=>{"use strict";class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,t)}}e.exports=e=>{if(e.length>2)throw new t(e);function r(e={}){this.options=e}function n(e){return new r(e)}return r.prototype.transform=e,n.Format=r,n}},8892:(e,t,r)=>{"use strict";const n=t.format=r(392);function i(e,t){t=t||e,Object.defineProperty(n,e,{get:()=>r(4296)(`./${t}.js`),configurable:!0})}t.levels=r(5373),i("align"),i("cli"),i("combine"),i("colorize"),i("json"),i("label"),i("logstash"),i("metadata"),i("ms"),i("padLevels","pad-levels"),i("prettyPrint","pretty-print"),i("printf"),i("simple"),i("splat"),i("timestamp"),i("uncolorize")},9584:(e,t,r)=>{"use strict";const n=r(392),{MESSAGE:i}=r(5396),o=r(4445);function s(e,t){return t instanceof Buffer?t.toString("base64"):t}e.exports=n(((e,t)=>(e[i]=o(e,t.replacer||s,t.space),e)))},1261:(e,t,r)=>{"use strict";const n=r(392);e.exports=n(((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e)))},5373:(e,t,r)=>{"use strict";const{Colorizer:n}=r(2997);e.exports=e=>(n.addColors(e.colors||e),e)},9382:(e,t,r)=>{"use strict";const n=r(392),{MESSAGE:i}=r(5396),o=r(4445);e.exports=n((e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},8946:(e,t,r)=>{"use strict";const n=r(392);e.exports=n(((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),i=Object.keys(e).reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),e}(e,t.fillWith,r):e}))},8963:function(e,t,r){"use strict";const n=r(392),i=r(7824);e.exports=n((e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e}))},7981:(e,t,r)=>{"use strict";const{configs:n,LEVEL:i,MESSAGE:o}=r(5396);class s{constructor(e={levels:n.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map((e=>e.length));return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=s.getLongestLevel(e);return Object.keys(e).reduce(((e,n)=>(e[n]=s.paddingForLevel(n,t,r),e)),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},4510:(e,t,r)=>{"use strict";const n=r(1669).inspect,i=r(392),{MESSAGE:o}=r(5396);e.exports=i(((e,t)=>(e[o]=n(e,!1,t.depth||null,t.colorize),e)))},1681:(e,t,r)=>{"use strict";const{MESSAGE:n}=r(5396);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},5215:(e,t,r)=>{"use strict";const n=r(392),{MESSAGE:i}=r(5396),o=r(4445);e.exports=n((e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e}))},8059:(e,t,r)=>{"use strict";const n=r(1669),{SPLAT:i}=r(5396),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,o=e[i]||e.splat||[],a=r.match(s),c=a&&a.length||0,u=t.length-c-o.length,l=u<0?o.splice(u,-1*u):[];return 1===l.length?e.meta=l[0]:l.length&&(e.meta=l),e.message=n.format(r,...o),e}transform(e){const t=e.message,r=e[i]||e.splat;if(!r||!r.length)return e;const n=t&&t.match&&t.match(o);if(!n&&(r||r.length)){const t=r.length>1?r.splice(0):r;return 1===t.length?e.meta=t[0]:t.length&&(e.meta=t),e}return n?this._splat(e,n):e}}e.exports=e=>new a(e)},9785:(e,t,r)=>{"use strict";const n=r(6382),i=r(392);e.exports=i(((e,t)=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e)))},3034:(e,t,r)=>{"use strict";const n=r(4431),i=r(392),{MESSAGE:o}=r(5396);e.exports=i(((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(e.message)),!1!==t.raw&&e[o]&&(e[o]=n.strip(e[o])),e)))},4296:(e,t,r)=>{var n={"./align.js":7982,"./browser.js":7472,"./cli.js":6247,"./colorize.js":2997,"./combine.js":7708,"./dist/align.js":7645,"./dist/browser.js":8245,"./dist/cli.js":9101,"./dist/colorize.js":8820,"./dist/combine.js":1809,"./dist/format.js":6037,"./dist/index.js":5818,"./dist/json.js":9603,"./dist/label.js":1700,"./dist/levels.js":9294,"./dist/logstash.js":3898,"./dist/metadata.js":1185,"./dist/ms.js":6219,"./dist/pad-levels.js":4951,"./dist/pretty-print.js":944,"./dist/printf.js":7812,"./dist/simple.js":5127,"./dist/splat.js":2490,"./dist/timestamp.js":4354,"./dist/uncolorize.js":8806,"./examples/combine.js":7909,"./examples/filter.js":4672,"./examples/invalid.js":8194,"./examples/metadata.js":9651,"./examples/padLevels.js":2381,"./examples/volume.js":2345,"./format.js":392,"./index.js":8892,"./json.js":9584,"./label.js":1261,"./levels.js":5373,"./logstash.js":9382,"./metadata.js":8946,"./ms.js":8963,"./pad-levels.js":7981,"./pretty-print.js":4510,"./printf.js":1681,"./simple.js":5215,"./splat.js":8059,"./timestamp.js":9785,"./uncolorize.js":3034};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=4296},3991:e=>{"use strict";e.exports=function(e){var t,r=0;function n(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return n.displayName=e.displayName||e.name||n.displayName||n.name,n}},598:(e,t,r)=>{"use strict";const n=r(8892),{warn:i}=r(2695),o=t;o.version=r(1103).i8,o.transports=r(3947),o.config=r(8811),o.addColors=n.levels,o.format=n.format,o.createLogger=r(5663),o.ExceptionHandler=r(5271),o.Container=r(4276),o.Transport=r(1037),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","configure"]).forEach((e=>o[e]=(...t)=>s[e](...t))),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach((e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})})),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},2695:(e,t,r)=>{"use strict";const{format:n}=r(1669);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach((n=>{e[n]=t.warn[r](n)}))},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach((n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})}))}}},8811:(e,t,r)=>{"use strict";const n=r(8892),{configs:i}=r(5396);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},4276:(e,t,r)=>{"use strict";const n=r(5663);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",(()=>this._delete(e))),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach(((e,t)=>this._removeLogger(t)))}_removeLogger(e){this.loggers.has(e)&&(this.loggers.get(e).close(),this._delete(e))}_delete(e){this.loggers.delete(e)}}},5663:(e,t,r)=>{"use strict";const{LEVEL:n}=r(5396),i=r(8811),o=r(1197),s=r(8713)("winston:create-logger");class a extends o{constructor(e){super(e),this._setupLevels()}_setupLevels(){Object.keys(this.levels).forEach((e=>{s('Define prototype method for "%s"',e),"log"!==e?(this[e]=(...t)=>{if(1===t.length){const[r]=t,i=r&&r.message&&r||{message:r};return i.level=i[n]=e,this.write(i),this}return this.log(e,...t)},this[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=()=>this.isLevelEnabled(e)):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}))}}e.exports=(e={levels:i.npm.levels})=>new a(e)},5271:(e,t,r)=>{"use strict";const n=r(2087),i=r(1052),o=r(8713)("winston:exception"),s=r(3991),a=r(7911),c=r(8897);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach((e=>{if(Array.isArray(e))return e.forEach((e=>this._addHandler(e)));this._addHandler(e)})),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((e=>this.logger.unpipe(e))))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map((e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()})))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be false with no exception handlers."),console.warn("winston: exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,((e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n.once("logged",i("logged")),n.once("error",i("error"))}),c),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter((e=>(e.transport||e).handleExceptions))}}},8897:(e,t,r)=>{"use strict";const n=r(9909);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},1197:(e,t,r)=>{"use strict";const n=r(5553),i=r(1052),{LEVEL:o,SPLAT:s}=r(5396),a=r(7835),c=r(5271),u=r(4201),l=r(5333),{clone:d,warn:h}=r(2695),m=r(8811);class f extends n.Transform{constructor(e){super({objectMode:!0}),this.configure(e)}configure({silent:e,format:t,levels:n,level:i="info",exitOnError:o=!0,transports:s,colors:a,emitErrs:u,formatters:l,padLevels:d,rewriters:h,stripColors:f,exceptionHandlers:p}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(9584)(),this.levels=n||this.levels||m.npm.levels,this.level=i,this.exceptions=new c(this),this.profilers={},this.exitOnError=o,s&&(s=Array.isArray(s)?s:[s]).forEach((e=>this.add(e))),a||u||l||d||h||f)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));p&&this.exceptions.handle(p)}isLevelEnabled(e){const t=p(this.levels,e);if(null===t)return!1;const r=p(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex((e=>{let n=p(this.levels,e.level);return null===n&&(n=r),n>=t})):r>=t)}log(e,t,...r){if(1===arguments.length)return e[o]=e.level,this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[o]=t.level=e,this.write(t),this):(this.write({[o]:e,level:e,message:t}),this);const[n]=r;return"object"==typeof n&&null!==n?this.write(Object.assign({},n,{[o]:e,[s]:r.slice(0),level:e,message:t})):this.write(Object.assign({},{[o]:e,[s]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[o]||(e[o]=e.level),this.levels[e[o]]||0===this.levels[e[o]]||console.error("[winston] Unknown logger level: %s",e[o]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();i(t,((e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()}),e)}add(e){const t=!a(e)||e.log.length>2?new u({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onError(t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),this}remove(e){let t=e;return(!a(e)||e.log.length>2)&&(t=this.transports.filter((t=>t.transport===e))[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){h.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={});const r={},n=d((e=e||{}).query)||{};i(this.transports.filter((e=>!!e.query)),(function(t,i){!function(t,r){e.query&&(e.query=t.formatQuery(n)),t.query(e,((n,i)=>{if(n)return r(n);r(null,t.formatResults(i,e.format))}))}(t,((e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null}))}),(()=>t(null,r)))}stream(e={}){const t=new n.Stream,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter((e=>!!e.stream)).forEach((n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)})),i.on("error",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)})))})),t}startTimer(){return new l(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onError(e){e.__winstonError||(e.__winstonError=function(t){this.emit("error",t,e)}.bind(this),e.on("error",e.__winstonError))}}function p(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(f.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=f},5333:e=>{"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},9988:(e,t,r)=>{"use strict";const n=r(5747),{StringDecoder:i}=r(4304),{Stream:o}=r(5553);function s(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new o;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",((i,o)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(o,r,0,r.length,l,((n,o)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!o)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let s=a.write(r.slice(0,o));t||c.emit("data",s),s=(u+s).split(/\n+/);const h=s.length-1;let m=0;for(;m<h;m++)(null==e.start||d>e.start)&&(t?t(null,s[m]):c.emit("line",s[m])),d++;return u=s[h],l+=o,i()}));n.close(o,s)}()})),t?c.destroy:c}},6217:(e,t,r)=>{"use strict";const n=r(2087),{LEVEL:i,MESSAGE:o}=r(5396),s=r(1037);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL}log(e,t){return setImmediate((()=>this.emit("logged",e))),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce(((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e}),{})}}},543:(e,t,r)=>{"use strict";const n=r(5747),i=r(5622),o=r(6046),s=r(8761),{MESSAGE:a}=r(5396),{Stream:c,PassThrough:u}=r(5553),l=r(1037),d=r(8713)("winston:file"),h=r(2087),m=r(9988);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach((r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)}))}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream))}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this.open()}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",(()=>{this._drain=!1,this.log(e,t)}));const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&this._endStream((()=>this._rotateFile()))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",(()=>{this._drain=!1,t()}))),d("written",i,this._drain),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=this.normalizeQuery(e);const r=i.join(this.dirname,this.filename);let o="",s=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);return!(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)||void 0})(r)&&function(t){e.rows&&s.length>=e.rows&&"desc"!==e.order?c.readable&&c.destroy():(e.fields&&(t=e.fields.reduce(((e,r)=>(e[r]=t[r],e)),{})),"desc"===e.order&&s.length>=e.rows&&s.shift(),s.push(t))}(r)}catch(e){r||c.emit("error",e)}}c.on("error",(e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)})),c.on("data",(t=>{const r=(t=(o+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;o=t[r]})),c.on("close",(()=>{o&&u(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)}))}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=m(n,((e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}})),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat(((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1}))))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,((n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile((()=>this.stat(e))):(this.filename=t,void e(null,i.size))))}close(e){this._stream&&this._stream.end((()=>{e&&e(),this.emit("flush"),this.emit("closed")}))}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile((()=>this.open()))}_endStream(e){this._stream.unpipe(this._dest),this._dest.end((()=>{this._cleanupStream(this._dest),e()}))}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",(e=>d(e))).on("close",(()=>d("close",r.path,r.bytesWritten))).on("open",(()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())}));if(d("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive?`${n}.gz`:n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)s.push(function(r,o){let s=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,s);n.exists(c,(u=>{if(!u)return o(null);s=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,s),o)}))}.bind(this,r));o(s,(()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)}))}}},1062:(e,t,r)=>{"use strict";const n=r(8605),i=r(7211),{Stream:o}=r(5553),s=r(1037);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,((t,r)=>{r&&200!==r.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)})),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,((e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)}))}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=()=>n.destroy(),n.on("data",(e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]})),n.on("error",(e=>t.emit("error",e))),t}_request(e,t){const r=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=(this.ssl?i:n).request({method:"POST",host:this.host,port:this.port,path:`/${o.replace(/^\//,"")}`,headers:this.headers,auth:r?`${r.username}:${r.password}`:"",agent:this.agent});s.on("error",t),s.on("response",(e=>e.on("end",(()=>t(null,e))).resume())),s.end(Buffer.from(JSON.stringify(e),"utf8"))}}},3947:(e,t,r)=>{"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(6217)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(543)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(1062)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(5811)})},5811:(e,t,r)=>{"use strict";const n=r(7835),{MESSAGE:i}=r(5396),o=r(2087),s=r(1037);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate((()=>this.emit("logged",e))),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},3138:(e,t,r)=>{"use strict";var n=r(2296);e.exports=function(e){var t,r=0;function i(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return i.displayName=n(e),i}},8212:e=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,n)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},9189:(e,t,r)=>{var n=r(4378),i=r(8614).EventEmitter;function o(e){if(!(this instanceof o))return new o(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function s(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function a(e){var t=this;function r(e){t.end(e)}this.on("error",r),this.on("end",(function n(i){t.removeListener("error",r),t.removeListener("end",n),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}e.exports=o,e.exports.default=o,n(o,i),["pop","shift","indexOf","lastIndexOf"].forEach((function(e){o.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),o.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},o.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach((function(e){o.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(o.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),o.prototype.start=function(e){if(e&&a.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,r=this.jobs.shift(),n=!0,i=this.session,o=null,s=!1,u=null,l=r.hasOwnProperty("timeout")?r.timeout:this.timeout;l&&(o=setTimeout((function(){s=!0,t.listeners("timeout").length>0?t.emit("timeout",h,r):h()}),l),this.timers[o]=o),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",r);var d=r(h);d&&d.then&&"function"==typeof d.then&&d.then((function(e){return h(null,e)})).catch((function(e){return h(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function h(e,a){n&&t.session===i&&(n=!1,t.pending--,null!==o&&(delete t.timers[o],clearTimeout(o)),e?t.emit("error",e,r):!1===s&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",a,r)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},o.prototype.stop=function(){this.running=!1},o.prototype.end=function(e){s.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},6753:(e,t,r)=>{"use strict";var n=r(8212),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=Object.create(r(6497));o.inherits=r(4378);var s=r(9481),a=r(4229);o.inherits(d,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=a.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(m,this)}function m(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},2725:(e,t,r)=>{"use strict";e.exports=o;var n=r(4605),i=Object.create(r(6497));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(4378),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n=r(8212);e.exports=y;var i,o=r(5826);y.ReadableState=v,r(8614).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=r(9740),c=r(3545).Buffer,u=global.Uint8Array||function(){},l=Object.create(r(6497));l.inherits=r(4378);var d=r(1669),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var m,f=r(5057),p=r(1195);l.inherits(y,a);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(6753));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(m||(m=r(4626).s),this.decoder=new m(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(6753),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,x(e)}}(e,s)):(i||(o=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):b(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?b(e,s,t,!1):E(e,s)):b(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function b(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),E(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},y.prototype.unshift=function(e){return w(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return m||(m=r(4626).s),this._readableState.decoder=new m(e),this._readableState.encoding=e,this};var C=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(M,e):M(e))}function M(e){h("emit readable"),e.emit("readable"),R(e)}function E(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(_,e,t))}function _(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):x(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?v:c;function c(){h("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,o){h("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,h("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",v),r.removeListener("data",m),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",u);var l=!1,d=!1;function m(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!l&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function f(t){h("onerror",t),v(),e.removeListener("error",f),0===s(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),v()}function g(){h("onfinish"),e.removeListener("close",p),v()}function v(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&x(this):n.nextTick(k,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(A,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=P},4605:(e,t,r)=>{"use strict";e.exports=s;var n=r(6753),i=Object.create(r(6497));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(4378),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},4229:(e,t,r)=>{"use strict";var n=r(8212);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=p;var a=Object.create(r(6497));a.inherits=r(4378);var c,u={deprecate:r(1159)},l=r(9740),d=r(3545).Buffer,h=global.Uint8Array||function(){},m=r(1195);function f(){}function p(e,t){o=o||r(6753),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,r,i,t,o);else{var a=b(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),i?s(y,e,r,a,o):y(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||r(6753),!(c.call(g,this)||this instanceof o))return new g(e);this._writableState=new p(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function v(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,v(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=b(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(g,l),p.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(p.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===g&&e&&e._writableState instanceof p}})):c=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,d.isBuffer(i)||i instanceof h);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=f),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},5057:(e,t,r)=>{"use strict";var n=r(3545).Buffer,i=r(1669);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,r=s,o.data.copy(t,r),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},1195:(e,t,r)=>{"use strict";var n=r(8212);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},9740:(e,t,r)=>{e.exports=r(2413)},3545:(e,t,r)=>{var n=r(4293),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4626:(e,t,r)=>{"use strict";var n=r(3545).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},5553:(e,t,r)=>{var n=r(2413);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(9481)).Stream=n||t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725))},9909:(e,t,r)=>{var n=r(2413),i=r(4229);"disable"===process.env.READABLE_STREAM?e.exports=n&&n.Writable||i:e.exports=i},9509:(e,t,r)=>{var n=r(4293),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},6851:(e,t,r)=>{"use strict";var n=r(9594),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],r=0,s=e.length;r<s;r++){var a=e[r];n(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},9594:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},6252:(e,t,r)=>{e=r.nmd(e);var n,i=r(9125).SourceMapConsumer,o=r(5622);try{(n=r(5747)).existsSync&&n.readFileSync||(n=null)}catch(e){}var s=r(5420);function a(e,t){return e.require(t)}var c=!1,u=!1,l=!1,d="auto",h={},m={},f=/^data:application\/json[^,]+base64,/,p=[],g=[];function v(){return"browser"===d||"node"!==d&&"undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type)}function y(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}var w=y(p);function b(e,t){if(!e)return t;var r=o.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/")+o.resolve(r.slice(i.length),t).replace(/\\/g,"/"):i+o.resolve(r.slice(i.length),t)}p.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,t){return t?"":"/"}))),e in h)return h[e];var t="";try{if(n)n.existsSync(e)&&(t=n.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),4===r.readyState&&200===r.status&&(t=r.responseText)}}catch(e){}return h[e]=t}));var C=y(g);function S(e){var t=m[e.source];if(!t){var r=C(e.source);r?(t=m[e.source]={url:r.url,map:new i(r.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,r){var n=t.map.sourcesContent[r];if(n){var i=b(t.url,e);h[i]=n}})):t=m[e.source]={url:null,map:null}}if(t&&t.map&&"function"==typeof t.map.originalPositionFor){var n=t.map.originalPositionFor(e);if(null!==n.source)return n.source=b(t.url,n.source),n}return e}function x(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=S({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return(t=/^eval at ([^(]+) \((.+)\)$/.exec(e))?"eval at "+t[1]+" ("+x(t[2])+")":e}function M(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var r=this.getLineNumber();if(null!=r){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),s=!0,a=this.isConstructor();if(this.isToplevel()||a)a?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,s=!1);else{var c=this.getTypeName();"[object Object]"===c&&(c="null");var u=this.getMethodName();o?(c&&0!=o.indexOf(c)&&(i+=c+"."),i+=o,u&&o.indexOf("."+u)!=o.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}return s&&(i+=" ("+t+")"),i}function E(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]})),t.toString=M,t}function _(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test(process.version)?0:62;1===n&&i>o&&!v()&&!e.isEval()&&(i-=o);var s=S({source:r,line:n,column:i});t.curPosition=s;var a=(e=E(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?a():t.nextPosition.name||a()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c?(c=x(c),(e=E(e)).getEvalOrigin=function(){return c},e):e}function k(e,t){l&&(h={},m={});for(var r=(e.name||"Error")+": "+(e.message||""),n={nextPosition:null,curPosition:null},i=[],o=t.length-1;o>=0;o--)i.push("\n    at "+_(t[o],n)),n.nextPosition=n.curPosition;return n.curPosition=n.nextPosition=null,r+i.reverse().join("")}function A(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],i=+t[2],o=+t[3],s=h[r];if(!s&&n&&n.existsSync(r))try{s=n.readFileSync(r,"utf8")}catch(e){s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[i-1];if(a)return r+":"+i+"\n"+a+"\n"+new Array(o).join(" ")+"^"}}return null}function R(e){var t=A(e);process.stderr._handle&&process.stderr._handle.setBlocking&&process.stderr._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),process.exit(1)}g.push((function(e){var t,r=function(e){var t;if(v())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=4===r.readyState?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch(e){}t=w(e);for(var i,o,s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;o=s.exec(t);)i=o;return i?i[1]:null}(e);if(!r)return null;if(f.test(r)){var n=r.slice(r.indexOf(",")+1);t=s(n,"base64").toString(),r=e}else r=b(e,r),t=w(r);return t?{url:r,map:t}:null}));var P=p.slice(0),T=g.slice(0);t.wrapCallSite=_,t.getErrorSource=A,t.mapSourcePosition=S,t.retrieveSourceMap=C,t.install=function(t){if((t=t||{}).environment&&(d=t.environment,-1===["node","browser","auto"].indexOf(d)))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(p.length=0),p.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(g.length=0),g.unshift(t.retrieveSourceMap)),t.hookRequire&&!v()){var r=a(e,"module"),n=r.prototype._compile;n.__sourceMapSupport||(r.prototype._compile=function(e,t){return h[t]=e,m[t]=void 0,n.call(this,e,t)},r.prototype._compile.__sourceMapSupport=!0)}if(l||(l="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),c||(c=!0,Error.prepareStackTrace=k),!u){var i=!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions;try{!1===a(e,"worker_threads").isMainThread&&(i=!1)}catch(e){}i&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(u=!0,o=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,r=this.listeners(e).length>0;if(t&&!r)return R(arguments[1])}return o.apply(this,arguments)})}var o},t.resetRetrieveHandlers=function(){p.length=0,g.length=0,p=P.slice(0),g=T.slice(0),C=y(g),w=y(p)}},8213:(e,t,r)=>{var n=r(2728),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var r=new s,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var r=o?e:n.toSetString(e),s=o?this.has(e):i.call(this._set,r),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[r]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=n.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(i.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.I=s},6400:(e,t,r)=>{var n=r(7923);t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t,r){var i,o,s,a,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),u+=(o&=31)<<l,l+=5}while(i);r.value=(a=(s=u)>>1,1==(1&s)?-a:a),r.rest=t}},7923:(e,t)=>{var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},9216:(e,t)=>{function r(e,n,i,o,s,a){var c=Math.floor((n-e)/2)+e,u=s(i,o[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,i,o,s,a):a==t.LEAST_UPPER_BOUND?n<o.length?n:-1:c:c-e>1?r(e,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,o){if(0===n.length)return-1;var s=r(-1,n.length,e,n,i,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===i(n[s],n[s-1],!0);)--s;return s}},1188:(e,t,r)=>{var n=r(2728);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,o,s,a;r=e,i=(t=this._last).generatedLine,o=r.generatedLine,s=t.generatedColumn,a=r.generatedColumn,o>i||o==i&&a>=s||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=i},2826:(e,t)=>{function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,i,o){if(i<o){var s=i-1;r(e,(l=i,d=o,Math.round(l+Math.random()*(d-l))),o);for(var a=e[o],c=i;c<o;c++)t(e[c],a)<=0&&r(e,s+=1,c);r(e,s+1,c);var u=s+1;n(e,t,i,u-1),n(e,t,u+1,o)}var l,d}t.U=function(e,t){n(e,t,0,e.length-1)}},6771:(e,t,r)=>{var n=r(2728),i=r(9216),o=r(8213).I,s=r(6400),a=r(2826).U;function c(e,t){var r=e;return"string"==typeof e&&(r=n.parseSourceMapInput(e)),null!=r.sections?new d(r,t):new u(r,t)}function u(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),s=n.getArg(r,"sources"),a=n.getArg(r,"names",[]),c=n.getArg(r,"sourceRoot",null),u=n.getArg(r,"sourcesContent",null),l=n.getArg(r,"mappings"),d=n.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);c&&(c=n.normalize(c)),s=s.map(String).map(n.normalize).map((function(e){return c&&n.isAbsolute(c)&&n.isAbsolute(e)?n.relative(c,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return n.computeSourceURL(c,e,t)})),this.sourceRoot=c,this.sourcesContent=u,this._mappings=l,this._sourceMapURL=t,this.file=d}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),s=n.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=n.getArg(e,"offset"),i=n.getArg(r,"line"),o=n.getArg(r,"column");if(i<a.line||i===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=r,{generatedOffset:{generatedLine:i+1,generatedColumn:o+1},consumer:new c(n.getArg(e,"map"),t)}}))}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var i,o=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=n.computeSourceURL(s,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var o=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=n.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var r=Object.create(u.prototype),i=r._names=o.fromArray(e._names.toArray(),!0),s=r._sources=o.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(r.sourceRoot,e,t)}));for(var c=e._mappings.toArray().slice(),d=r.__generatedMappings=[],h=r.__originalMappings=[],m=0,f=c.length;m<f;m++){var p=c[m],g=new l;g.generatedLine=p.generatedLine,g.generatedColumn=p.generatedColumn,p.source&&(g.source=s.indexOf(p.source),g.originalLine=p.originalLine,g.originalColumn=p.originalColumn,p.name&&(g.name=i.indexOf(p.name)),h.push(g)),d.push(g)}return a(r.__originalMappings,n.compareByOriginalPositions),r},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var r,i,o,c,u,d=1,h=0,m=0,f=0,p=0,g=0,v=e.length,y=0,w={},b={},C=[],S=[];y<v;)if(";"===e.charAt(y))d++,y++,h=0;else if(","===e.charAt(y))y++;else{for((r=new l).generatedLine=d,c=y;c<v&&!this._charIsMappingSeparator(e,c);c++);if(o=w[i=e.slice(y,c)])y+=i.length;else{for(o=[];y<c;)s.decode(e,y,b),u=b.value,y=b.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");w[i]=o}r.generatedColumn=h+o[0],h=r.generatedColumn,o.length>1&&(r.source=p+o[1],p+=o[1],r.originalLine=m+o[2],m=r.originalLine,r.originalLine+=1,r.originalColumn=f+o[3],f=r.originalColumn,o.length>4&&(r.name=g+o[4],g+=o[4])),S.push(r),"number"==typeof r.originalLine&&C.push(r)}a(S,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(C,n.compareByOriginalPositions),this.__originalMappings=C},u.prototype._findMapping=function(e,t,r,n,o,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var o=n.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),o=n.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=n.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i,o=e;if(null!=this.sourceRoot&&(o=n.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(i=n.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!i.path||"/"==i.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===r.source)return{line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},d.prototype=Object.create(c.prototype),d.prototype.constructor=c,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[r];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},d.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(n.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=i.consumer._sources.at(c.source);u=n.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;c.name&&(l=i.consumer._names.at(c.name),this._names.add(l),l=this._names.indexOf(l));var d={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}a(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),a(this.__originalMappings,n.compareByOriginalPositions)}},4433:(e,t,r)=>{var n=r(6400),i=r(2728),o=r(8213).I,s=r(1188).H;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var o=n;null!==t&&(o=i.relative(t,n)),r._sources.has(o)||r._sources.add(o);var s=e.sourceContentFor(n);null!=s&&r.setSourceContent(n,s)})),r},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,o),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:o})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var s=this._sourceRoot;null!=s&&(n=i.relative(s,n));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=r&&(t.source=i.join(r,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,n))}),this)},a.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},a.prototype._serializeMappings=function(){for(var e,t,r,o,s=0,a=1,c=0,u=0,l=0,d=0,h="",m=this._mappings.toArray(),f=0,p=m.length;f<p;f++){if(e="",(t=m[f]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!i.compareByGeneratedPositionsInflated(t,m[f-1]))continue;e+=","}e+=n.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=n.encode(o-d),d=o,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),h+=e}return h},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=a},7085:(e,t,r)=>{var n=r(4433).h,i=r(2728),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[s]=!0,null!=n&&this.add(n)}a.fromStringWithSourceMap=function(e,t,r){var n=new a,s=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},l=1,d=0,h=null;return t.eachMapping((function(e){if(null!==h){if(!(l<e.generatedLine)){var t=(r=s[c]||"").substr(0,e.generatedColumn-d);return s[c]=r.substr(e.generatedColumn-d),d=e.generatedColumn,m(h,t),void(h=e)}m(h,u()),l++,d=0}for(;l<e.generatedLine;)n.add(u()),l++;if(d<e.generatedColumn){var r=s[c]||"";n.add(r.substr(0,e.generatedColumn)),s[c]=r.substr(e.generatedColumn),d=e.generatedColumn}h=e}),this),c<s.length&&(h&&m(h,u()),n.add(s.splice(c).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,o))})),n;function m(e,t){if(null===e||void 0===e.source)n.add(t);else{var o=r?i.join(r,e.source):e.source;n.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(o===n.source&&s===n.line&&a===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),o=n.source,s=n.line,a=n.column,c=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}}},2728:(e,t)=>{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var r=e,n=i(e);if(n){if(!n.path)return e;r=n.path}for(var s,a=t.isAbsolute(r),c=r.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(r=c.join("/"))&&(r=a?"/":"."),n?(n.path=r,o(n)):r}function a(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),a=i(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),o(r);if(r||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=d(e.source,t.source);return 0!==n||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)||r||0!=(n=e.generatedColumn-t.generatedColumn)||0!=(n=e.generatedLine-t.generatedLine)?n:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=d(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=d(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=i(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var c=n.path.lastIndexOf("/");c>=0&&(n.path=n.path.substring(0,c+1))}t=a(o(n),t)}return s(t)}},9125:(e,t,r)=>{r(4433).h,t.SourceMapConsumer=r(6771).SourceMapConsumer,r(7085)},7911:(e,t)=>{function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var o=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,o=null,s=null,a=null,c="native"===r[5];if(r[1]){var u=(o=r[1]).lastIndexOf(".");if("."==o[u-1]&&u--,u>0){n=o.substr(0,u),i=o.substr(u+1);var l=n.indexOf(".Module");l>0&&(o=o.substr(l+1),n=n.substr(0,l))}s=null}i&&(s=n,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3951:e=>{"use strict";e.exports=function(e){for(var t=0,r=0;t<e.length;r=e.charCodeAt(t++)+((r<<5)-r));var n=Math.floor(Math.abs(1e4*Math.sin(r)%1*16777216)).toString(16);return"#"+Array(6-n.length+1).join("0")+n}},9273:(e,t)=>{"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},5243:(e,t,r)=>{"use strict";Object.defineProperty(t,"cli",{value:r(9273)}),Object.defineProperty(t,"npm",{value:r(2459)}),Object.defineProperty(t,"syslog",{value:r(1945)})},2459:(e,t)=>{"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},1945:(e,t)=>{"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},5396:(e,t,r)=>{"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(5243)})},3937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.getAndUpdateModeHandler=void 0;const n=r(7549),i=r(5622),o=r(6637),s=r(7301),a=r(2253),c=r(9401),u=r(9079),l=r(4379),d=r(4627),h=r(5845),m=r(9220),f=r(3856),p=r(7541),g=r(7536),v=r(9138),y=r(7943),w=r(7125),b=r(3403),C=r(1214);let S,x,M=null;async function E(e=!1){const t=n.window.activeTextEditor;if(void 0===t||t.document.isClosed)return;const r=s.EditorIdentity.fromEditor(t),[i,o]=await u.ModeHandlerMap.getOrCreate(r);return o&&S.subscriptions.push(i),i.vimState.editor=t,!e&&x&&x.isEqual(r)||(i.syncCursors(),await i.updateView({drawSelection:!1,revealRange:!1})),x=r,i.focusChanged&&(i.focusChanged=!1,x)&&(u.ModeHandlerMap.get(x).focusChanged=!0),i}async function _(){const e=await g.configuration.load();h.Logger.configChanged(g.configuration);const t=h.Logger.get("Configuration");if(t.debug(`${e.numErrors} errors found with vim configuration`),e.numErrors>0)for(const r of e.get())switch(r.level){case"error":t.error(r.message);break;case"warning":t.warn(r.message)}}async function k(e,t){await f.VSCodeContext.set("vim.active",!e);const r=await E();r&&(e?(await r.handleKeyEvent(b.SpecialKeys.ExtensionDisable),t.reset(),u.ModeHandlerMap.clear()):await r.handleKeyEvent(b.SpecialKeys.ExtensionEnable))}function A(e,t,r){const i=n.commands.registerCommand(t,(async e=>g.configuration.disableExtension?n.commands.executeCommand("default:"+t,e):n.window.activeTextEditor?n.window.activeTextEditor.document&&"debug:input"===n.window.activeTextEditor.document.uri.toString()?n.commands.executeCommand("default:"+t,e):r(e):void 0));e.subscriptions.push(i)}function R(e,t,r,i=!0){const o=n.commands.registerCommand(t,(async e=>{i&&!n.window.activeTextEditor||r(e)}));e.subscriptions.push(o)}function P(e,t,r,n=!0,i=!1){const o=t((async e=>{n&&g.configuration.disableExtension||i&&a.Globals.isTesting||r(e)}));e.subscriptions.push(o)}async function T(e){return!!e.remapState.isCurrentlyPerformingRecursiveRemapping&&(e.remapState.forceStopRecursiveRemapping=!0,!0)}t.getAndUpdateModeHandler=E,t.activate=async function(e,t=!0){await _();const r=h.Logger.get("Extension Startup");if(r.debug("Start"),S=e,S.subscriptions.push(m.StatusBar),w.Register.loadFromDisk(t),await Promise.all([p.commandLine.load(e),v.globalState.load(e)]),n.window.activeTextEditor){const e=n.window.activeTextEditor.document.fileName.split(/\\|\//);w.Register.setReadonlyRegister("%",e[e.length-1])}P(e,n.workspace.onDidChangeConfiguration,(async()=>{await _()}),!1),P(e,n.workspace.onDidChangeTextDocument,(async e=>{var r;1===(r=e).contentChanges.length&&""===r.contentChanges[0].text&&r.contentChanges[0].range.start.line!==r.contentChanges[0].range.end.line?v.globalState.jumpTracker.handleTextDeleted(e.document,e.contentChanges[0].range):(e=>1===e.contentChanges.length&&("\n"===e.contentChanges[0].text||"\r\n"===e.contentChanges[0].text)&&e.contentChanges[0].range.start.line===e.contentChanges[0].range.end.line)(e)&&v.globalState.jumpTracker.handleTextAdded(e.document,e.contentChanges[0].range,e.contentChanges[0].text),u.ModeHandlerMap.getAll().filter((t=>t.vimState.identity.fileName===e.document.fileName)).forEach((t=>{(t=>{t.vimState.currentMode===l.Mode.Insert&&(void 0===t.vimState.historyTracker.currentContentChanges&&(t.vimState.historyTracker.currentContentChanges=[]),t.vimState.historyTracker.currentContentChanges=t.vimState.historyTracker.currentContentChanges.concat(e.contentChanges))})(t)})),t&&setTimeout((()=>{var t;e.document.isDirty||e.document.isUntitled||!e.contentChanges.length||(t=e.document,u.ModeHandlerMap.getAll().filter((e=>e.vimState.identity.fileName===t.fileName)).forEach((e=>{e.vimState.historyTracker=new C.HistoryTracker(e.vimState)})))}),0)})),P(e,n.workspace.onDidCloseTextDocument,(async e=>{const t=n.workspace.textDocuments;for(const r of u.ModeHandlerMap.getKeys()){const n=u.ModeHandlerMap.get(r);let i=!1;if(null==n||void 0===n.vimState.editor)i=!0;else{const r=n.vimState.document;t.includes(r)||(i=!0,e===r&&(M=n))}i&&u.ModeHandlerMap.delete(r)}}),!1),P(e,n.workspace.onDidSaveTextDocument,(async e=>{g.configuration.vimrc.enable&&""===i.relative(e.fileName,g.configuration.vimrc.path)&&(await g.configuration.load(),n.window.showInformationMessage("Sourced new .vimrc"))})),P(e,n.window.onDidChangeActiveTextEditor,(async()=>{var e;const t=x?u.ModeHandlerMap.get(x):void 0;if(M=t||M,void 0===n.window.activeTextEditor)return void w.Register.setReadonlyRegister("%","");const r=null===(e=await w.Register.get("%"))||void 0===e?void 0:e.text,i=n.workspace.asRelativePath(n.window.activeTextEditor.document.uri,!1);i!==r&&(r&&""!==r&&w.Register.setReadonlyRegister("#",r),w.Register.setReadonlyRegister("%",i)),y.taskQueue.enqueueTask((async()=>{const e=await E(!0);e&&v.globalState.jumpTracker.handleFileJump(M?c.Jump.fromStateNow(M.vimState):null,c.Jump.fromStateNow(e.vimState))}))}),!0,!0),P(e,n.window.onDidChangeTextEditorSelection,(async e=>{if(void 0===n.window.activeTextEditor||e.textEditor.document!==n.window.activeTextEditor.document)return;const t=u.ModeHandlerMap.get(s.EditorIdentity.fromEditor(n.window.activeTextEditor));if(void 0!==t){if(e.kind!==n.TextEditorSelectionChangeKind.Mouse){const n=e.selections.reduce(((e,t)=>e+`[${t.anchor.line}, ${t.anchor.character}; ${t.active.line}, ${t.active.character}]`),""),i=t.vimState.selectionsChanged.ourSelections.indexOf(n);if(i>-1)return t.vimState.selectionsChanged.ourSelections.splice(i,1),void r.debug(`Selections: Ignoring selection: ${n}, Count left: ${t.vimState.selectionsChanged.ourSelections.length}`);if(t.vimState.selectionsChanged.ignoreIntermediateSelections)return void r.debug(`Selections: ignoring intermediate selection change: ${n}`);if(t.vimState.selectionsChanged.ourSelections.length>0)return void r.debug(`Selections: Ignoring slipped selection: ${n}`)}e.textEditor===t.vimState.editor&&(t.focusChanged?t.focusChanged=!1:t.currentMode!==l.Mode.EasyMotionMode&&y.taskQueue.enqueueTask((()=>t.handleSelectionChange(e))))}}),!0,!1),P(e,n.window.onDidChangeTextEditorVisibleRanges,(async e=>{y.taskQueue.enqueueTask((async()=>{const e=await E();e&&m.StatusBar.lastMessageTime&&Number(new Date)-Number(m.StatusBar.lastMessageTime)>100&&m.StatusBar.clear(e.vimState,!0)}))}));const a=new o.CompositionState;A(e,"type",(async e=>{y.taskQueue.enqueueTask((async()=>{const t=await E();t&&(a.isInComposition?(a.composingText+=e.text,t.vimState.currentMode===l.Mode.Insert&&(a.insertedText=!0,n.commands.executeCommand("default:type",{text:e.text}))):await t.handleKeyEvent(e.text))}))})),A(e,"replacePreviousChar",(async e=>{y.taskQueue.enqueueTask((async()=>{const t=await E();t?(a.isInComposition&&(a.composingText=a.composingText.substr(0,a.composingText.length-e.replaceCharCnt)+e.text),a.insertedText&&(await n.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt}),t.vimState.cursorStopPosition=t.vimState.editor.selection.start,t.vimState.cursorStartPosition=t.vimState.editor.selection.start)):await n.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt})}))})),A(e,"compositionStart",(async()=>{y.taskQueue.enqueueTask((async()=>{a.isInComposition=!0}))})),A(e,"compositionEnd",(async()=>{y.taskQueue.enqueueTask((async()=>{const e=await E();if(e){a.insertedText&&(e.vimState.selectionsChanged.ignoreIntermediateSelections=!0,await n.commands.executeCommand("default:replacePreviousChar",{text:"",replaceCharCnt:a.composingText.length}),e.vimState.cursorStopPosition=e.vimState.editor.selection.active,e.vimState.cursorStartPosition=e.vimState.editor.selection.active,e.vimState.selectionsChanged.ignoreIntermediateSelections=!1);const t=a.composingText;await e.handleMultipleKeyEvents(t.split(""))}a.reset()}))})),R(e,"vim.showQuickpickCmdLine",(async()=>{const e=await E();e&&(await p.commandLine.PromptAndRun("",e.vimState),e.updateView())})),R(e,"vim.remap",(async e=>{y.taskQueue.enqueueTask((async()=>{const t=await E();if(void 0!==t){if(!e)throw new Error("'args' is undefined. For this remap to work it needs to have 'args' with an '\"after\": string[]' and/or a '\"commands\": { command: string; args: any[] }[]'");if(e.after)for(const r of e.after)await t.handleKeyEvent(d.Notation.NormalizeKey(r,g.configuration.leader));if(e.commands)for(const r of e.commands)r.command.startsWith(":")?(await p.commandLine.Run(r.command.slice(1,r.command.length),t.vimState),t.updateView()):n.commands.executeCommand(r.command,r.args)}}))})),R(e,"toggleVim",(async()=>{g.configuration.disableExtension=!g.configuration.disableExtension,k(g.configuration.disableExtension,a)})),R(e,"vim.editVimrc",(async()=>{const e=await n.workspace.openTextDocument(g.configuration.vimrc.path);await n.window.showTextDocument(e)}),!1);for(const t of g.configuration.boundKeyCombinations){const r=["<Esc>","<C-c>"].includes(t.key)?async()=>{const e=await E();e&&!await T(e)&&await e.handleKeyEvent(`${t.key}`)}:async()=>{const e=await E();e&&await e.handleKeyEvent(`${t.key}`)};R(e,t.command,(async()=>{y.taskQueue.enqueueTask(r)}))}{const e=await E();if(e){if(!g.configuration.startInInsertMode){const t=e.vimState;t.cursors=t.cursors.map((e=>{const r=t.document.lineAt(e.stop).text.length;if(e.stop.character>=r){const t=Math.max(r-1,0);return e.withNewStop(e.stop.with({character:t}))}return e}))}e.updateView({drawSelection:!0,revealRange:!1})}}await f.VSCodeContext.set("listAutomaticKeyboardNavigation",!1),await k(g.configuration.disableExtension,a),r.debug("Finish.")}},785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterAction=t.getRelevantAction=t.KeypressState=t.BaseCommand=t.BaseAction=void 0;const n=r(8693),i=r(4627),o=r(6167),s=r(7536);class a{constructor(){this.isMotion=!1,this.isOperator=!1,this.isCommand=!1,this.isJump=!1,this.canBeRepeatedWithDot=!1,this.mustBeFirstKey=!1,this.keysPressed=[]}preservesDesiredColumn(){return!1}doesActionApply(e,t){return(!this.mustBeFirstKey||!(e.recordedState.commandWithoutCountPrefix.length>t.length||e.recordedState.operator))&&this.modes.includes(e.currentMode)&&a.CompareKeypressSequence(this.keys,t)}couldActionApply(e,t){if(!this.modes.includes(e.currentMode))return!1;const r=(a.is2DArray(this.keys)?this.keys:[this.keys]).map((e=>e.slice(0,t.length)));return!(!a.CompareKeypressSequence(r,t)||this.mustBeFirstKey&&(e.recordedState.commandWithoutCountPrefix.length>t.length||e.recordedState.operator))}static CompareKeypressSequence(e,t){if(a.is2DArray(e)){for(const r of e)if(a.CompareKeypressSequence(r,t))return!0;return!1}if(e.length!==t.length)return!1;for(let r=0,n=0;r<e.length;r++,n++){const o=e[r],a=t[n];if((o!==a||a===s.configuration.leader)&&"<any>"!==o&&("<leader>"!==o||a!==s.configuration.leader)&&("<number>"!==o||!this.isSingleNumber.test(a))&&("<alpha>"!==o||!this.isSingleAlpha.test(a))&&("<character>"!==o||i.Notation.IsControlKey(a)))return!1}return!0}toString(){return this.keys.join("")}static is2DArray(e){return Array.isArray(e[0])}}var c;t.BaseAction=a,a.isSingleNumber=/^[0-9]$/,a.isSingleAlpha=/^[a-zA-Z]$/,t.BaseCommand=class extends a{constructor(){super(...arguments),this.isCommand=!0,this.isCompleteAction=!0,this.runsOnceForEachCountPrefix=!1}runsOnceForEveryCursor(){return!0}async exec(e,t){throw new Error("Not implemented!")}async execCount(e,t){const r=this.runsOnceForEachCountPrefix&&t.recordedState.count||1;if(!this.runsOnceForEveryCursor()){for(let n=0;n<r;n++)await this.exec(e,t);for(const e of t.recordedState.transformer.transformations)(0,o.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);return}const i=[],s=t.cursors.map((e=>new n.Cursor(e.start,e.stop))).sort(((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1));let a=0;for(const{start:e,stop:c}of s){this.multicursorIndex=a++,t.cursorStopPosition=c,t.cursorStartPosition=e;for(let e=0;e<r;e++)await this.exec(c,t);i.push(new n.Cursor(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformer.transformations)(0,o.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}t.cursors=i}},function(e){e[e.WaitingOnKeys=0]="WaitingOnKeys",e[e.NoPossibleMatch=1]="NoPossibleMatch"}(c=t.KeypressState||(t.KeypressState={}));const u=new Map;t.getRelevantAction=function(e,t){var r;const n=null!==(r=u.get(t.currentMode))&&void 0!==r?r:[];let i=!1;for(const r of n){const n=new r;if(n.doesActionApply(t,e))return n.keysPressed=t.recordedState.actionKeys.slice(0),n;i||(i=n.couldActionApply(t,e))}return i?c.WaitingOnKeys:c.NoPossibleMatch},t.RegisterAction=function(e){const t=new e;for(const r of t.modes){let n=u.get(r);n||(n=[],u.set(r,n)),void 0!==t.keys&&n.push(e)}}},3193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMovement=t.failedMovement=t.SelectionType=t.isIMovement=void 0;const n=r(785),i=r(4379),o=r(3434),s=r(7549);function a(e){return void 0!==e.start&&void 0!==e.stop}var c;function u(e){return{start:e.cursorStartPosition,stop:e.cursorStopPosition,failed:!0}}t.isIMovement=a,function(e){e[e.Concatenating=0]="Concatenating",e[e.Expanding=1]="Expanding"}(c=t.SelectionType||(t.SelectionType={})),t.failedMovement=u;class l extends n.BaseAction{constructor(e,t){super(),this.modes=[i.Mode.Normal,i.Mode.Visual,i.Mode.VisualLine,i.Mode.VisualBlock],this.isMotion=!0,this.isRepeat=!1,this.setsDesiredColumnToEOL=!1,this.minCount=1,this.maxCount=99999,this.selectionType=c.Concatenating,e&&(this.keysPressed=e),t&&(this.isRepeat=t)}async execAction(e,t,r,n){throw new Error("Not implemented!")}async execActionForOperator(e,t,r,n){return this.execAction(e,t,r,n)}async execActionWithCount(e,t,r){let n,i=u(t),l=e;r=(0,o.clamp)(r,this.minCount,this.maxCount);for(let o=0;o<r;o++){const a=0===o,c=o===r-1;if(n=await this.createMovementResult(e,t,a,c),n instanceof s.Position)e=n;else{if(n.failed)return i;a&&(l=n.start),e=this.adjustPosition(e,n,c),i=n}}return this.selectionType===c.Concatenating&&a(n)&&(n.start=l),n}async createMovementResult(e,t,r,n){return t.recordedState.operator&&n?await this.execActionForOperator(e,t,r,n):await this.execAction(e,t,r,n)}adjustPosition(e,t,r){return r||(e=t.stop.getRightThroughLineBreaks()),e}}t.BaseMovement=l},9066:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOverrideCmdD=t.ActionDeleteLastChar=t.ActionDeleteCharWithDeleteKey=t.ActionDeleteChar=t.CommandInsertNewLineBefore=t.CommandInsertNewLineAbove=t.CommandInsertAtLineEnd=t.CommandInsertAfterCursor=t.CommandInsertAtLineBegin=t.CommandInsertAtFirstCharacter=t.CommandInsertAtLastChange=t.CommandYankFullLine=t.CommandUndo=t.CommandShowSearchHistory=t.CommandShowCommandHistory=t.CommandReplaceAtCursorFromNormalMode=t.CommandInsertAtCursor=t.CommandQuitRecordMacro=t.CommandRegister=t.CommandNumber=t.DocumentContentChangeAction=void 0;const o=r(7549),s=r(1149),a=r(8785),c=r(3434),u=r(5789),l=r(9241),d=r(7221),h=r(5207),m=r(394),f=r(4880),p=r(8693),g=r(6346),v=r(7536),y=r(4379),w=r(7125),b=r(8186),C=r(1797),S=r(6167),x=r(785),M=r(7541),E=r(3176),_=r(9401),k=r(9220),A=r(8965),R=r(9138),P=r(3403),T=r(8019),B=r(7549),L=r(7372),O=r(641),$=r(3259);class F extends x.BaseCommand{constructor(e){super(),this.modes=[],this.keys=[],this.contentChanges=[],this.cursorStart=e,this.cursorEnd=e}addChanges(e,t){this.contentChanges=[...this.contentChanges,...e],this.compressChanges(),this.cursorEnd=t}getTransformation(e){return{type:"contentChange",changes:this.contentChanges,diff:e}}async exec(e,t){if(0===this.contentChanges.length)return;let r=this.cursorStart,n=e;for(const i of this.contentChanges){if(i.range.start.line<r.line){const e=i.range.end.line-i.range.start.line+1,t=i.text.split("\n").length;r=r.with(Math.max(0,r.line+t-e));continue}const s=t=>{const n=t.line-r.line,i=0===n?e.character+t.character-r.character:t.character;return new B.Position(Math.max(e.line+n,0),Math.max(i,0))},a=new o.Range(s(i.range.start),s(i.range.end));if(a.start.isAfter(n))continue;const c=i.text.split("\n"),u=c.length-1,l=0===u?new B.Position(a.start.line,a.start.character+i.text.length):new B.Position(a.start.line+u,c.pop().length);n=(0,f.laterOf)(n,l),a.start.isEqual(a.end)?t.recordedState.transformer.insert(a.start,i.text,f.PositionDiff.exactPosition(s(this.cursorEnd))):t.recordedState.transformer.replace(a,i.text,f.PositionDiff.exactPosition(s(this.cursorEnd)))}}compressChanges(){function e(e,t){if(e.rangeOffset+e.text.length===t.rangeOffset)return{text:e.text+t.text,range:e.range,rangeOffset:e.rangeOffset,rangeLength:e.rangeLength};if(e.rangeOffset<=t.rangeOffset&&e.text.length>=t.rangeLength){const r=t.rangeOffset-e.rangeOffset,n=r+t.rangeLength;return{text:e.text.slice(0,r)+t.text+e.text.slice(n),range:e.range,rangeOffset:e.rangeOffset,rangeLength:e.rangeLength}}}const t=[];let r;for(const n of this.contentChanges)if(void 0===r)r=n;else{const i=e(r,n);i?r=i:(t.push(r),r=n)}void 0!==r&&t.push(r),this.contentChanges=t}}t.DocumentContentChangeAction=F;let D=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Insert,y.Mode.Visual,y.Mode.VisualBlock,y.Mode.VisualLine,y.Mode.SearchInProgressMode,y.Mode.CommandlineInProgress,y.Mode.Replace,y.Mode.EasyMotionMode,y.Mode.EasyMotionInputMode,y.Mode.SurroundInputMode],this.keys=[P.SpecialKeys.ExtensionDisable]}async exec(e,t){await t.setCurrentMode(y.Mode.Disabled)}};D=i([x.RegisterAction],D);let I=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Disabled],this.keys=[P.SpecialKeys.ExtensionEnable]}async exec(e,t){await t.setCurrentMode(y.Mode.Normal)}};I=i([x.RegisterAction],I);let j=n=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["<number>"],this.isCompleteAction=!1}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=parseInt(this.keysPressed[0],10),i=t.recordedState.operatorCount;if(i>0){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];t.recordedState.count=e instanceof n?10*t.recordedState.count+r*i:i*r}else t.recordedState.count=10*t.recordedState.count+r}doesActionApply(e,t){const r="0"===t[0];return super.doesActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}couldActionApply(e,t){const r="0"===t[0];return super.couldActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}};j=n=i([x.RegisterAction],j),t.CommandNumber=j;let N=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=['"',"<character>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed[1];w.Register.isValidRegister(r)?t.recordedState.registerName=r:this.isCompleteAction=!0}};N=i([x.RegisterAction],N),t.CommandRegister=N;let V=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["q","<alpha>"],["q","<number>"],["q",'"']]}async exec(e,t){const r=this.keysPressed[1],n=r.toLocaleLowerCase();if(t.macro=new s.RecordedState,t.macro.registerKey=r,t.macro.registerName=n,!w.Register.isValidUppercaseRegister(r)||!w.Register.has(n)){const e=new s.RecordedState;e.registerName=n,t.recordedState.registerName=n,w.Register.put(t,e)}}};V=i([x.RegisterAction],V);let W=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=["q"]}async exec(e,t){var r;const n=t.macro,i=null===(r=await w.Register.get(n.registerName))||void 0===r?void 0:r.text;i instanceof s.RecordedState&&(w.Register.isValidUppercaseRegister(n.registerKey)?i.actionsRun=i.actionsRun.concat(n.actionsRun):i.actionsRun=n.actionsRun),t.macro=void 0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0!==e.macro}couldActionApply(e,t){return super.couldActionApply(e,t)&&void 0!==e.macro}};W=i([x.RegisterAction],W),t.CommandQuitRecordMacro=W;let U=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=["@","@"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0,this.isJump=!0}async exec(e,t){const{lastInvokedMacro:r}=t;r?t.recordedState.transformer.addTransformation({type:"macro",register:r.registerName,replay:"contentChange"}):k.StatusBar.displayError(t,$.VimError.fromCode($.ErrorCode.NoPreviouslyUsedRegister))}};U=i([x.RegisterAction],U);let q=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=["@","<character>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.keysPressed[1].toLocaleLowerCase();w.Register.isValidRegister(r)||k.StatusBar.displayError(t,$.VimError.fromCode($.ErrorCode.InvalidRegisterName,`'${r}'`)),w.Register.has(r)&&t.recordedState.transformer.addTransformation({type:"macro",register:r,replay:"contentChange"})}};q=i([x.RegisterAction],q);let K=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock,y.Mode.Normal,y.Mode.SurroundInputMode,y.Mode.EasyMotionMode,y.Mode.EasyMotionInputMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}preservesDesiredColumn(){return!0}async exec(e,t){t.currentMode===y.Mode.Normal?(t.surround=void 0,t.isMultiCursor?t.cursors=[t.cursors[0]]:await Promise.allSettled([o.commands.executeCommand("closeReferenceSearchEditor"),o.commands.executeCommand("closeMarkersNavigation"),o.commands.executeCommand("closeDirtyDiff")])):(t.currentMode===y.Mode.EasyMotionMode?t.easyMotion.clearDecorations(t.editor):t.currentMode===y.Mode.SurroundInputMode&&(t.surround=void 0),await t.setCurrentMode(y.Mode.Normal))}};K=i([x.RegisterAction],K);class H extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1,n=v.configuration.getConfiguration("editor").get("cursorSurroundingLines",0),i=t.editor.visibleRanges[0];if(void 0===i)return;const o=i.end.line-t.cursorStopPosition.line-r,s=t.cursorStopPosition.line-i.start.line-r;"up"===this.to&&n>o?t.cursorStopPosition=t.cursorStopPosition.getUp(n-o).withColumn(t.desiredColumn):"down"===this.to&&n>s&&(t.cursorStopPosition=t.cursorStopPosition.getDown(n-s).withColumn(t.desiredColumn)),t.postponedCodeViewChanges.push({command:"editorScroll",args:{to:this.to,by:this.by,value:r,revealCursor:!0,select:(0,y.isVisualMode)(t.currentMode)}})}}let z=class extends H{constructor(){super(...arguments),this.keys=["<C-e>"],this.to="down",this.by="line"}preservesDesiredColumn(){return!0}};z=i([x.RegisterAction],z);let G=class extends H{constructor(){super(...arguments),this.keys=["<C-y>"],this.to="up",this.by="line"}preservesDesiredColumn(){return!0}};G=i([x.RegisterAction],G);class J extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const{visibleRanges:r}=t.editor;if(0===r.length)return;const n=v.configuration.getConfiguration("editor").get("smoothScrolling",!1),i=(t.actionCount||1)*this.getNumLines(r);let s=i;if("down"===this.to&&(s=Math.min(i,t.document.lineCount-1-r[r.length-1].end.line)),s>0){const e={to:this.to,by:"line",value:s,revealCursor:n,select:(0,y.isVisualMode)(t.currentMode)};n?await o.commands.executeCommand("editorScroll",e):t.postponedCodeViewChanges.push({command:"editorScroll",args:e})}const a=(0,c.clamp)(e.line+("down"===this.to?i:-i),0,t.document.lineCount-1);t.cursorStopPosition=new B.Position(a,t.desiredColumn).obeyStartOfLine(t.document)}}let Y=class extends J{constructor(){super(...arguments),this.keys=["<C-b>"],this.to="up"}getNumLines(e){return e[0].end.line-e[0].start.line}};Y=i([x.RegisterAction],Y);let Q=class extends J{constructor(){super(...arguments),this.keys=["<C-f>"],this.to="down"}getNumLines(e){return e[0].end.line-e[0].start.line}};Q=i([x.RegisterAction],Q);let Z=class extends J{constructor(){super(...arguments),this.keys=["<C-d>"],this.to="down"}getNumLines(e){return v.configuration.getScrollLines(e)}};Z=i([x.RegisterAction],Z);let X=class extends J{constructor(){super(...arguments),this.keys=["<C-u>"],this.to="up"}getNumLines(e){return v.configuration.getScrollLines(e)}};X=i([x.RegisterAction],X);let ee=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["i"],["<Insert>"]]}async exec(e,t){await t.setCurrentMode(y.Mode.Insert)}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof j)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};ee=i([x.RegisterAction],ee),t.CommandInsertAtCursor=ee;let te=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["R"]}async exec(e,t){const r=t.recordedState.count||1;await t.setCurrentMode(y.Mode.Replace),t.replaceState=new a.ReplaceState(t,e,r)}};te=i([x.RegisterAction],te),t.CommandReplaceAtCursorFromNormalMode=te;let re=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock,y.Mode.Insert,y.Mode.Normal],this.keys=["<copy>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){let r="";if(t.currentMode===y.Mode.Visual)r=t.cursors.map((e=>{const[r,n]=(0,f.sorted)(e.start,e.stop);return t.document.getText(new o.Range(r,n.getRight()))})).join("\n");else if(t.currentMode===y.Mode.VisualLine)r=t.cursors.map((e=>t.document.getText(new o.Range((0,f.earlierOf)(e.start.getLineBegin(),e.stop.getLineBegin()),(0,f.laterOf)(e.start.getLineEnd(),e.stop.getLineEnd()))))).join("\n");else if(t.currentMode===y.Mode.VisualBlock)for(const{line:e}of C.TextEditor.iterateLinesInBlock(t))r+=e+"\n";else t.currentMode!==y.Mode.Insert&&t.currentMode!==y.Mode.Normal||(r=t.editor.selections.map((e=>t.document.getText(new o.Range(e.start,e.end)))).join("\n"));await u.Clipboard.Copy(r),await t.setCurrentMode(y.Mode.Normal)}};re=i([x.RegisterAction],re);let ne=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["<D-a>"]}async exec(e,t){t.cursorStartPosition=new B.Position(0,t.desiredColumn),t.cursorStopPosition=new B.Position(t.document.lineCount-1,t.desiredColumn),await t.setCurrentMode(y.Mode.VisualLine)}};ne=i([x.RegisterAction],ne);let ie=class extends x.BaseCommand{constructor(){super(...arguments),this.keys=["m","<character>"],this.modes=[y.Mode.Normal]}async exec(e,t){const r=this.keysPressed[1];t.historyTracker.addMark(e,r)}};ie=i([x.RegisterAction],ie);let oe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=[":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.currentMode===y.Mode.Normal?t.recordedState.count?t.currentCommandlineText=".,.+"+(t.recordedState.count-1):t.currentCommandlineText="":t.currentCommandlineText="'<,'>",t.statusBarCursorCharacterPos=t.currentCommandlineText.length,M.commandLine.previousMode=t.currentMode,await t.setCurrentMode(y.Mode.CommandlineInProgress),M.commandLine.commandLineHistoryIndex=M.commandLine.historyEntries.length}};oe=i([x.RegisterAction],oe);let se=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["q",":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.addTransformation({type:"showCommandHistory"}),t.currentMode===y.Mode.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",await t.setCurrentMode(y.Mode.Normal)}};se=i([x.RegisterAction],se),t.CommandShowCommandHistory=se;let ae=class extends x.BaseCommand{constructor(e=b.SearchDirection.Forward){super(),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=[["q","/"],["q","?"]],this.direction=b.SearchDirection.Forward,this.direction=e}runsOnceForEveryCursor(){return!1}async exec(e,t){this.keysPressed.includes("?")&&(this.direction=b.SearchDirection.Backward),t.recordedState.transformer.addTransformation({type:"showSearchHistory",direction:this.direction}),await t.setCurrentMode(y.Mode.Normal)}};ae=i([x.RegisterAction],ae),t.CommandShowSearchHistory=ae;let ce=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["."]}async execCount(e,t){if(R.globalState.previousFullAction){const e=t.recordedState.count||1;for(let r=0;r<e;r++)t.recordedState.transformer.addTransformation({type:"replayRecordedState",recordedState:R.globalState.previousFullAction})}}};ce=i([x.RegisterAction],ce);let ue=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["&"],this.canBeRepeatedWithDot=!0}async exec(e,t){await M.commandLine.Run("s",t)}};ue=i([x.RegisterAction],ue);class le extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){const r=t.recordedState.count||1,n=void 0!==this.direction?{levels:r,direction:this.direction}:void 0;await o.commands.executeCommand(this.commandName,n),t.cursors=(0,c.getCursorsAfterSync)(),await t.setCurrentMode(y.Mode.Normal)}}let de=class extends le{constructor(){super(...arguments),this.keys=["z","a"],this.commandName="editor.toggleFold"}};de=i([x.RegisterAction],de);let he=class extends le{constructor(){super(...arguments),this.keys=["z","c"],this.commandName="editor.fold",this.direction="up"}};he=i([x.RegisterAction],he);let me=class extends le{constructor(){super(...arguments),this.keys=["z","M"],this.commandName="editor.foldAll"}};me=i([x.RegisterAction],me);let fe=class extends le{constructor(){super(...arguments),this.keys=["z","o"],this.commandName="editor.unfold",this.direction="down"}};fe=i([x.RegisterAction],fe);let pe=class extends le{constructor(){super(...arguments),this.keys=["z","R"],this.commandName="editor.unfoldAll"}};pe=i([x.RegisterAction],pe);let ge=class extends le{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["z","C"],this.commandName="editor.foldRecursively"}};ge=i([x.RegisterAction],ge);let ve=class extends le{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["z","O"],this.commandName="editor.unfoldRecursively"}};ve=i([x.RegisterAction],ve);let ye=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","z"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.editor.revealRange(new o.Range(t.cursorStopPosition,t.cursorStopPosition),o.TextEditorRevealType.InCenter)}};ye=i([x.RegisterAction],ye);let we=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","."]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.editor.revealRange(new o.Range(t.cursorStopPosition,t.cursorStopPosition),o.TextEditorRevealType.InCenter),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};we=i([x.RegisterAction],we);let be=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","t"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}})}};be=i([x.RegisterAction],be);let Ce=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","\n"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};Ce=i([x.RegisterAction],Ce);let Se=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","b"]}preservesDesiredColumn(){return!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}})}};Se=i([x.RegisterAction],Se);let xe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["z","-"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t.cursorStopPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};xe=i([x.RegisterAction],xe);let Me=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["o"],this.isJump=!0}async exec(e,t){[t.cursorStartPosition,t.cursorStopPosition]=[t.cursorStopPosition,t.cursorStartPosition]}};Me=i([x.RegisterAction],Me);let Ee=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["O"],this.isJump=!0}async exec(e,t){if(t.currentMode!==y.Mode.VisualBlock)return(new Me).exec(e,t);[t.cursorStartPosition,t.cursorStopPosition]=[new o.Position(t.cursorStartPosition.line,t.cursorStopPosition.character),new o.Position(t.cursorStopPosition.line,t.cursorStartPosition.character)]}};Ee=i([x.RegisterAction],Ee);let _e=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["u"],this.runsOnceForEachCountPrefix=!0,this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStep();void 0===r?k.StatusBar.setText(t,"Already at oldest change"):t.cursors=[new p.Cursor(r,r)]}};_e=i([x.RegisterAction],_e),t.CommandUndo=_e;let ke=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["U"],this.mustBeFirstKey=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStepsOnLine();void 0!==r&&(t.cursors=[new p.Cursor(r,r)])}};ke=i([x.RegisterAction],ke);let Ae=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["<C-r>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goForwardHistoryStep();void 0===r?k.StatusBar.setText(t,"Already at newest change"):t.cursors=[new p.Cursor(r,r)]}};Ae=i([x.RegisterAction],Ae);let Re=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!0}async exec(e,t){if(e.isLineEnd())return;const r=(t.recordedState.count||1)-1,n=e,i=e.getDown(r).getLineEnd().getLeftThroughLineBreaks();await new E.DeleteOperator(this.multicursorIndex).run(t,n,i)}};Re=i([x.RegisterAction],Re);let Pe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["Y"]}async exec(e,t){const r=(t.recordedState.count||1)-1,n=e.getLineBegin(),i=e.getDown(r).getLeft();t.currentRegisterMode=w.RegisterMode.LineWise,await new E.YankOperator(this.multicursorIndex).run(t,n,i)}};Pe=i([x.RegisterAction],Pe),t.CommandYankFullLine=Pe;let Te=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["C"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1;await new E.ChangeOperator(this.multicursorIndex).run(t,e,e.getDown(Math.max(0,r-1)).getLineEnd().getLeft())}};Te=i([x.RegisterAction],Te);let Be=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["S"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){await new E.ChangeOperator(this.multicursorIndex).runRepeat(t,e,t.recordedState.count||1)}doesActionApply(e,t){return super.doesActionApply(e,t)&&!v.configuration.sneak}couldActionApply(e,t){return super.couldActionApply(e,t)&&!v.configuration.sneak}};Be=i([x.RegisterAction],Be);let Le=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual],this.keys=["v"]}async exec(e,t){await t.setCurrentMode(y.Mode.Normal)}};Le=i([x.RegisterAction],Le);let Oe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["v"],this.isCompleteAction=!1}async exec(e,t){t.currentMode===y.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getRight(t.recordedState.count-1)),await t.setCurrentMode(y.Mode.Visual)}};Oe=i([x.RegisterAction],Oe);let $e=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g","v"]}async exec(e,t){void 0!==t.lastVisualSelection&&t.lastVisualSelection.end.line<=t.document.lineCount-1&&(await t.setCurrentMode(t.lastVisualSelection.mode),t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end.getLeft())}};$e=i([x.RegisterAction],$e);let Fe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){t.currentMode===y.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getRight(t.recordedState.count-1)),await t.setCurrentMode(y.Mode.VisualBlock)}};Fe=i([x.RegisterAction],Fe);let De=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){await t.setCurrentMode(y.Mode.Normal)}};De=i([x.RegisterAction],De);let Ie=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualBlock],this.keys=["V"]}async exec(e,t){t.currentMode===y.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getDown(t.recordedState.count-1)),await t.setCurrentMode(y.Mode.VisualLine)}};Ie=i([x.RegisterAction],Ie);let je=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualLine],this.keys=["V"]}async exec(e,t){await t.setCurrentMode(y.Mode.Normal)}};je=i([x.RegisterAction],je);let Ne=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual],this.keys=["g","f"],this.isJump=!0}async exec(e,t){let r;if(t.currentMode===y.Mode.Visual)r=t.document.getText(t.editor.selection);else{const n=new o.Range(e.prevWordStart(t.document,{wordType:T.WordType.FileName,inclusive:!0}),e.nextWordStart(t.document,{wordType:T.WordType.FileName}));r=t.document.getText(n).trim()}const n=r.match(/(.*?(?=:[0-9]+)|.*):?([0-9]*)$/);if(n){const e=n[1],r=parseInt(n[2],10);new l.FileCommand({name:e,lineNumber:r,createFileIfNotExists:!1}).execute(t)}}};Ne=i([x.RegisterAction],Ne);let Ve=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["g","d"],["<C-]>"]],this.isJump=!0}async exec(e,t){await o.commands.executeCommand("editor.action.goToDeclaration"),t.editor===o.window.activeTextEditor&&(t.cursorStopPosition=t.editor.selection.start)}};Ve=i([x.RegisterAction],Ve);let We=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["g","x"]}async exec(e,t){o.commands.executeCommand("editor.action.openLink")}};We=i([x.RegisterAction],We);let Ue=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g",";"],this.isJump=!0}async exec(e,t){const r=t.historyTracker.prevChangeInChangeList();r instanceof $.VimError?k.StatusBar.displayError(t,r):t.cursorStopPosition=r}};Ue=i([x.RegisterAction],Ue);let qe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g",","],this.isJump=!0}async exec(e,t){const r=t.historyTracker.nextChangeInChangeList();r instanceof $.VimError?k.StatusBar.displayError(t,r):t.cursorStopPosition=r}};qe=i([x.RegisterAction],qe);let Ke=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=[["`","["],["'","["]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastChangeStartPosition();void 0!==r&&(t.cursorStopPosition=r)}};Ke=i([x.RegisterAction],Ke);let He=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=[["`","]"],["'","]"]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastChangeEndPosition();void 0!==r&&(t.cursorStopPosition=r)}};He=i([x.RegisterAction],He);let ze=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["`","."],["'","."]],this.isJump=!0}async exec(e,t){const r=t.historyTracker.getLastHistoryStartPosition();void 0!==r&&(t.cursorStopPosition=r)}};ze=i([x.RegisterAction],ze);let Ge=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g","i"]}async exec(e,t){var r;t.cursorStopPosition=t.cursorStartPosition=null!==(r=t.historyTracker.getLastChangeEndPosition())&&void 0!==r?r:new B.Position(0,0),await t.setCurrentMode(y.Mode.Insert)}};Ge=i([x.RegisterAction],Ge),t.CommandInsertAtLastChange=Ge;let Je=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["I"]}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=C.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.line)}};Je=i([x.RegisterAction],Je),t.CommandInsertAtFirstCharacter=Je;let Ye=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.mustBeFirstKey=!0,this.keys=["g","I"]}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getLineBegin()}};Ye=i([x.RegisterAction],Ye),t.CommandInsertAtLineBegin=Ye;let Qe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["a"]}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getRight()}doesActionApply(e,t){return!!e.recordedState.actionsRun.every((e=>e instanceof j))&&super.couldActionApply(e,t)}};Qe=i([x.RegisterAction],Qe),t.CommandInsertAfterCursor=Qe;let Ze=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["A"]}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getLineEnd()}};Ze=i([x.RegisterAction],Ze),t.CommandInsertAtLineEnd=Ze;let Xe=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["O"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(y.Mode.Insert);const r=t.recordedState.count||1;for(let e=0;e<r;e++)await o.commands.executeCommand("editor.action.insertLineBefore");t.cursors=(0,c.getCursorsAfterSync)();for(let e=0;e<r;e++){const r=new B.Position(t.cursors[0].start.line+e,t.cursors[0].start.character);t.cursors.push(new p.Cursor(r,r))}t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0}};Xe=i([x.RegisterAction],Xe),t.CommandInsertNewLineAbove=Xe;let et=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["o"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(y.Mode.Insert);const r=t.recordedState.count||1;for(let e=0;e<r;e++)await o.commands.executeCommand("editor.action.insertLineAfter");t.cursors=(0,c.getCursorsAfterSync)();for(let e=1;e<r;e++){const r=new B.Position(t.cursorStartPosition.line-e,t.cursorStartPosition.character);t.cursors.push(new p.Cursor(r,r)),t.recordedState.transformer.addTransformation({type:"insertText",text:C.TextEditor.setIndentationLevel("",r.character),position:r,cursorIndex:e,manuallySetCursorPositions:!0})}t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0}};et=i([x.RegisterAction],et),t.CommandInsertNewLineBefore=et;let tt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["<C-o>"],["<C-t>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await R.globalState.jumpTracker.jumpBack(e,t)}};tt=i([x.RegisterAction],tt);let rt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["<C-i>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await R.globalState.jumpTracker.jumpForward(e,t)}};rt=i([x.RegisterAction],rt);let nt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["`","`"],this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await R.globalState.jumpTracker.jumpBack(e,t)}};nt=i([x.RegisterAction],nt);let it=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["'","'"],this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=R.globalState.jumpTracker.end;if(null==r)return;const n=new _.Jump({document:t.document,position:r.position.getLineBegin()});R.globalState.jumpTracker.recordJump(_.Jump.fromStateNow(t),n),t.cursorStopPosition=n.position}};it=i([x.RegisterAction],it);let ot=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["<C-w>","q"],["<C-w>","<C-q>"],["<C-w>","c"],["<C-w>","<C-c>"]]}async exec(e,t){new h.QuitCommand({}).execute(t)}};ot=i([x.RegisterAction],ot);let st=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["<C-w>","o"],["<C-w>","<C-o>"]]}async exec(e,t){(new d.OnlyCommand).execute(t)}};st=i([x.RegisterAction],st);let at=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","l"],["<C-w>","<right>"],["<C-w>","<C-l>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateRight",args:{}})}};at=i([x.RegisterAction],at);let ct=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","j"],["<C-w>","<down>"],["<C-w>","<C-j>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateDown",args:{}})}};ct=i([x.RegisterAction],ct);let ut=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","k"],["<C-w>","<up>"],["<C-w>","<C-k>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateUp",args:{}})}};ut=i([x.RegisterAction],ut);let lt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","h"],["<C-w>","<left>"],["<C-w>","<C-h>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateLeft",args:{}})}};lt=i([x.RegisterAction],lt);let dt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","<C-w>"],["<C-w>","w"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateEditorGroups",args:{}})}};dt=i([x.RegisterAction],dt);let ht=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","v"],["<C-w>","<C-v>"]]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.splitEditor",args:{}})}};ht=i([x.RegisterAction],ht);let mt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["<C-w>","s"],["<C-w>","<C-s>"]]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.splitEditorOrthogonal",args:{}})}};mt=i([x.RegisterAction],mt);let ft=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=["<C-w>","="]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.evenEditorWidths",args:{}})}};ft=i([x.RegisterAction],ft);let pt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["g","t"],["<C-pagedown>"]],this.runsOnceForEachCountPrefix=!1}async exec(e,t){t.recordedState.count>0?new m.TabCommand({tab:m.Tab.Absolute,count:t.recordedState.count-1}).execute(t):new m.TabCommand({tab:m.Tab.Next,count:1}).execute(t)}};pt=i([x.RegisterAction],pt);let gt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=[["g","T"],["<C-pageup>"]],this.runsOnceForEachCountPrefix=!0}async exec(e,t){new m.TabCommand({tab:m.Tab.Previous,count:1}).execute(t)}};gt=i([x.RegisterAction],gt);let vt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["x"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(0===t.document.lineAt(e).text.length)return;const r=t.recordedState.count||1;await new E.DeleteOperator(this.multicursorIndex).run(t,e,e.getRight(r-1).getLeftIfEOL()),await t.setCurrentMode(y.Mode.Normal)}};vt=i([x.RegisterAction],vt),t.ActionDeleteChar=vt;let yt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["<Del>"],this.runsOnceForEachCountPrefix=!0,this.canBeRepeatedWithDot=!0}async execCount(e,t){0!==t.recordedState.count?(t.recordedState.count=Math.floor(t.recordedState.count/10),t.recordedState.actionsRunPressedKeys=t.recordedState.count>0?t.recordedState.count.toString().split(""):[],this.isCompleteAction=!1):await(new vt).execCount(e,t)}};yt=i([x.RegisterAction],yt),t.ActionDeleteCharWithDeleteKey=yt;let wt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["X"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(0===e.character)return;const r=t.recordedState.count||1;await new E.DeleteOperator(this.multicursorIndex).run(t,e.getLeft(r),e.getLeft())}};wt=i([x.RegisterAction],wt),t.ActionDeleteLastChar=wt;let bt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["J"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}firstNonWhitespaceIndex(e){for(let t=0,r=e.length;t<r;t++){const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}async execJoinLines(e,t,r,n){n=n-1||1;const i=v.configuration.joinspaces;let s,a,c,u,l=0;e.isEqual(t)||e.line===t.line?t.line+1<r.document.lineCount?(s=t.line,a=0,c=t.getDown(n).line,u=C.TextEditor.getLineLength(c)):(s=t.line,a=0,c=t.line,u=C.TextEditor.getLineLength(c)):(s=e.line,a=0,c=t.line,u=C.TextEditor.getLineLength(c));let d=r.document.lineAt(e).text;for(let e=s+1;e<=c;e++){const t=r.document.lineAt(e).text,n=this.firstNonWhitespaceIndex(t);if(n>=0){let e=" ";""===d||d.endsWith("\t")?e="":i&&(d.endsWith(".")||d.endsWith("!")||d.endsWith("?"))?e="  ":i&&(d.endsWith(". ")||d.endsWith("! ")||d.endsWith("? "))?e=" ":d.endsWith(" ")&&(e="");const r=t.substr(n);")"===r.charAt(0)&&(e=""),d+=e+r,l=r.length+e.length}}const h=new B.Position(s,a),m=new B.Position(c,u);h.isEqual(m)||(e.isEqual(t)?r.recordedState.transformer.addTransformation({type:"replaceText",text:d,range:new o.Range(h,m),diff:f.PositionDiff.offset({character:d.length-l-t.character})}):(r.recordedState.transformer.addTransformation({type:"replaceText",text:d,range:new o.Range(h,m),manuallySetCursorPositions:!0}),r.cursorStartPosition=r.cursorStopPosition=new B.Position(e.line,d.length-l),await r.setCurrentMode(y.Mode.Normal)))}async execCount(e,t){const r=t.cursors.map((e=>new p.Cursor(e.start,e.stop))).sort(((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1)),n=[];for(const[e,{start:i,stop:o}]of r.entries()){this.multicursorIndex=e,t.cursorStopPosition=o,t.cursorStartPosition=i,await this.execJoinLines(i,o,t,t.recordedState.count||1),n.push(new p.Cursor(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformer.transformations)(0,S.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}t.cursors=n}};bt=i([x.RegisterAction],bt);let Ct=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=["J"]}async exec(e,t){const[r,n]=(0,f.sorted)(t.editor.selection.start,t.editor.selection.end);t.currentRegisterMode=w.RegisterMode.CharacterWise,await(new bt).execJoinLines(r,n,t,1)}};Ct=i([x.RegisterAction],Ct);let St=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["J"]}async exec(e,t){const[r,n]=(0,f.sorted)(t.cursorStartPosition,t.cursorStopPosition);t.currentRegisterMode=w.RegisterMode.CharacterWise,await(new bt).execJoinLines(r,n,t,1)}};St=i([x.RegisterAction],St);let xt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g","J"],this.canBeRepeatedWithDot=!0}async exec(e,t){if(e.line===t.document.lineCount-1)return;const r=t.recordedState.count>2?t.recordedState.count-1:1;await this.execJoin(r,e,t)}async execJoin(e,t,r){const n=new o.Range(new B.Position(t.line,0),new B.Position(Math.min(t.line+e,r.document.lineCount-1),0).getLineEnd()),i=r.document.getText(n).replace(/\r?\n/g,""),s=i.length-r.document.lineAt(n.end).text.length;r.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:i,diff:f.PositionDiff.exactCharacter({character:s})})}};xt=i([x.RegisterAction],xt);let Mt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.keys=["g","J"]}async exec(e,t){const[r,n]=(0,f.sorted)(t.cursorStartPosition,t.cursorStopPosition),i=r.line===n.line?1:n.line-r.line;await(new xt).execJoin(i,r,t),await t.setCurrentMode(y.Mode.Normal)}};Mt=i([x.RegisterAction],Mt);let Et=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0,this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1,n=this.keysPressed[1];if(["<BS>","<S-BS>"].includes(n.toUpperCase()))return;if(e.character+r>e.getLineEnd().character)return;let i=new B.Position(e.line,e.character+r);i.character>t.document.lineAt(i).text.length||(i.character>t.document.lineAt(i).text.length&&(i=new B.Position(i.line,i.character+1)),"<tab>"===n?(t.recordedState.transformer.delete(new o.Range(e,i)),t.recordedState.transformer.addTransformation({type:"tab",cursorIndex:this.multicursorIndex,diff:f.PositionDiff.offset({character:-1})})):"\n"===n?(t.recordedState.transformer.delete(new o.Range(e,i)),t.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:"\n"})):t.recordedState.transformer.addTransformation({type:"replaceText",text:n.repeat(r),range:new o.Range(e,i),diff:f.PositionDiff.offset({character:r-1})}))}};Et=i([x.RegisterAction],Et);let _t=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=C.TextEditor.getTabCharacter(t.editor));let n=1,[i,s]=(0,f.sorted)(t.cursorStartPosition,t.cursorStopPosition);t.currentMode===y.Mode.VisualLine&&([i,s]=[i.getLineBegin(),s.getLineEnd()]);const a=t.document.lineAt(s).text.length;a<=0&&(n=0),s=new B.Position(s.line,Math.min(s.character,a>0?a-1:0));for(let e=i.line;e<=s.line;e++){const a=t.document.lineAt(e).text;i.line===s.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(s.character-i.character+2).join(r),range:new o.Range(i,new B.Position(s.line,s.character+1)),manuallySetCursorPositions:!0}):e===i.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(a.length-i.character+1).join(r),range:new o.Range(i,new B.Position(i.line,a.length)),manuallySetCursorPositions:!0}):e===s.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(s.character+1+n).join(r),range:new o.Range(new B.Position(s.line,0),new B.Position(s.line,s.character+n)),manuallySetCursorPositions:!0}):t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(a.length+1).join(r),range:new o.Range(new B.Position(e,0),new B.Position(e,a.length)),manuallySetCursorPositions:!0})}t.cursorStopPosition=i,t.cursorStartPosition=i,await t.setCurrentMode(y.Mode.Normal)}};_t=i([x.RegisterAction],_t);let kt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["r","<character>"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=C.TextEditor.getTabCharacter(t.editor));for(const{start:e,end:n}of C.TextEditor.iterateLinesInBlock(t))n.isBeforeOrEqual(e)||t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(n.character-e.character+1).join(r),range:new o.Range(e,n),manuallySetCursorPositions:!0});const n=(0,y.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition);t.cursors=[new p.Cursor(n,n)],await t.setCurrentMode(y.Mode.Normal)}};kt=i([x.RegisterAction],kt);let At=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=[["d"],["x"],["X"]],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const{line:e,start:n,end:i}of C.TextEditor.iterateLinesInBlock(t))r.push(e),t.recordedState.transformer.addTransformation({type:"deleteRange",range:new o.Range(n,i),manuallySetCursorPositions:!0});const n=1===r.length?r[0]:r.join("\n");t.currentRegisterMode=w.RegisterMode.BlockWise,w.Register.put(t,n,this.multicursorIndex,!0);const i=(0,y.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition);t.cursors=[new p.Cursor(i,i)],await t.setCurrentMode(y.Mode.Normal)}};At=i([x.RegisterAction],At);let Rt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["D"],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){for(const{start:e}of C.TextEditor.iterateLinesInBlock(t))t.recordedState.transformer.addTransformation({type:"deleteRange",range:new o.Range(e,e.getLineEnd()),manuallySetCursorPositions:!0});const r=(0,y.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition);t.cursors=[new p.Cursor(r,r)],await t.setCurrentMode(y.Mode.Normal)}};Rt=i([x.RegisterAction],Rt);let Pt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["I"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.isFakeMultiCursor=!0;for(const{line:e,start:r}of C.TextEditor.iterateLinesInBlock(t))""===e&&0!==r.character||t.cursors.push(new p.Cursor(r,r));t.cursors=t.cursors.slice(1)}};Pt=i([x.RegisterAction],Pt);let Tt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=[["c"],["s"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){for(const{start:e,end:r}of C.TextEditor.iterateLinesInBlock(t))t.recordedState.transformer.addTransformation({type:"deleteRange",range:new o.Range(e,r),manuallySetCursorPositions:!0});await t.setCurrentMode(y.Mode.Insert),t.isFakeMultiCursor=!0;for(const{start:e}of C.TextEditor.iterateLinesInBlock(t))t.cursors.push(new p.Cursor(e,e));t.cursors=t.cursors.slice(1)}};Tt=i([x.RegisterAction],Tt);let Bt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["C"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors)for(const{start:n,end:i}of C.TextEditor.iterateLinesInBlock(t,e))t.recordedState.transformer.addTransformation({type:"deleteRange",range:new o.Range(n,n.getLineEnd()),collapseRange:!0}),r.push(new p.Cursor(i,i));t.cursors=r,await t.setCurrentMode(y.Mode.Insert),t.isFakeMultiCursor=!0}};Bt=i([x.RegisterAction],Bt);class Lt extends x.BaseCommand{runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(y.Mode.Insert),t.isFakeMultiCursor=!0;const r=[],n=[];for(const e of t.editor.selections){const{start:i,end:o}=e;for(let e=i.line;e<=o.line;e++){const s=t.document.lineAt(e),a=this.getCursorRangeForLine(s,i,o);s.isEmptyOrWhitespace?n.push(a):r.push(a)}}r.length>0?t.cursors=r:t.cursors=n}}let Ot=class extends Lt{constructor(){super(...arguments),this.modes=[y.Mode.VisualLine],this.keys=["I"]}getCursorRangeForLine(e){const t=new B.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new p.Cursor(t,t)}};Ot=i([x.RegisterAction],Ot);let $t=class extends Lt{constructor(){super(...arguments),this.modes=[y.Mode.VisualLine],this.keys=["A"]}getCursorRangeForLine(e){const t=new B.Position(e.lineNumber,e.range.end.character);return new p.Cursor(t,t)}};$t=i([x.RegisterAction],$t);let Ft=class extends Lt{constructor(){super(...arguments),this.modes=[y.Mode.Visual],this.keys=["I"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===t.line?t:new B.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new p.Cursor(n,n)}};Ft=i([x.RegisterAction],Ft);let Dt=class extends Lt{constructor(){super(...arguments),this.modes=[y.Mode.Visual],this.keys=["A"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===r.line?r:new B.Position(e.lineNumber,e.range.end.character);return new p.Cursor(n,n)}};Dt=i([x.RegisterAction],Dt);let It=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["A"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors){const[n,i]=(0,f.sorted)(e.start,e.stop);for(let o=n.line;o<=i.line;o++){const n=t.document.lineAt(o),i=t.desiredColumn===Number.POSITIVE_INFINITY?n.text.length:Math.max(e.start.character,e.stop.character)+1;n.text.length<i&&await C.TextEditor.insert(t.editor," ".repeat(i-n.text.length),n.range.end,!1);const s=new B.Position(o,i);r.push(new p.Cursor(s,s))}}t.cursors=r,await t.setCurrentMode(y.Mode.Insert),t.isFakeMultiCursor=!0}};It=i([x.RegisterAction],It);let jt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=["X"]}async exec(e,t){const[r,n]=(0,f.sorted)(t.cursorStartPosition,t.cursorStopPosition);await new E.DeleteOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEnd())}};jt=i([x.RegisterAction],jt);let Nt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=["S"]}doesActionApply(e,t){return!v.configuration.surround&&super.doesActionApply(e,t)}async exec(e,t){return(new Vt).exec(e,t)}};Nt=i([x.RegisterAction],Nt);let Vt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=[["C"],["R"]]}async exec(e,t){const[r,n]=(0,f.sorted)(t.cursorStartPosition,t.cursorStopPosition);await new E.ChangeOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEnd().getLeftIfEOL())}};Vt=i([x.RegisterAction],Vt);let Wt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=[["R"],["S"]]}async exec(e,t){return(new Vt).exec(e,t)}};Wt=i([x.RegisterAction],Wt);let Ut=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["s"]}async exec(e,t){await new E.ChangeOperator(this.multicursorIndex).run(t,e,e.getRight((t.recordedState.count||1)-1))}doesActionApply(e,t){return super.doesActionApply(e,t)&&!v.configuration.sneak&&!e.recordedState.operator}couldActionApply(e,t){return super.couldActionApply(e,t)&&!v.configuration.sneak&&!e.recordedState.operator}};Ut=i([x.RegisterAction],Ut);let qt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["~"],this.mustBeFirstKey=!0,this.canBeRepeatedWithDot=!0}toggleCase(e){let t="";for(const r of e){let e=r.toLocaleLowerCase();e===r&&(e=r.toLocaleUpperCase()),t+=e}return t}async exec(e,t){const r=t.recordedState.count||1,n=new o.Range(e,(0,O.shouldWrapKey)(t.currentMode,"~")?e.getOffsetThroughLineBreaks(r):e.getRight(r));t.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:this.toggleCase(t.document.getText(n)),diff:f.PositionDiff.exactPosition(n.end)})}};qt=i([x.RegisterAction],qt);class Kt extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock],this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.getSearchRanges(t);let n=1;for(const[i,o]of r.entries()){e=o.start;const r=t.document.lineAt(e).text;if(r.length<=e.character)continue;const i=r[e.character].match(/\s/)?e:e.prevWordStart(t.document,{inclusive:!0});e:for(let{start:s,end:a,word:c}of C.TextEditor.iterateWords(t.document,i)){if(s.isAfter(o.stop))break;for("-"===r[s.character-1]&&/\d/.test(r[s.character])&&(s=s.getLeft(),c=r[s.character]+c);;){const r=g.NumericString.parse(c);if(void 0===r)break;const{num:i,suffixOffset:o}=r;if(e.character<s.character+o){const e=await this.replaceNum(t,i,this.offset*n*(t.recordedState.count||1),s,a);this.staircase&&n++,t.currentMode===y.Mode.Normal&&t.recordedState.transformer.addTransformation({type:"moveCursor",diff:f.PositionDiff.exactPosition(e.getLeft(i.suffix.length))});break e}c=c.slice(o),s=new B.Position(s.line,s.character+o)}}}(0,y.isVisualMode)(t.currentMode)&&t.recordedState.transformer.addTransformation({type:"moveCursor",diff:f.PositionDiff.exactPosition(r[0].start)}),t.setCurrentMode(y.Mode.Normal)}async replaceNum(e,t,r,n,i){const s=i.character+1-n.character;t.value+=r;const a=t.toString(),c=new o.Range(n,i.getRight());return e.recordedState.transformer.replace(c,a),s!==a.length&&(i=new B.Position(i.line,n.character+a.length-1)),i}getSearchRanges(e){const t=[],[r,n]=(0,f.sorted)(e.cursorStartPosition,e.cursorStopPosition);switch(e.currentMode){case y.Mode.Normal:t.push(new p.Cursor(e.cursorStopPosition,e.cursorStopPosition.getLineEnd()));break;case y.Mode.Visual:t.push(new p.Cursor(r,r.getLineEnd()));for(let e=r.line+1;e<n.line;e++){const r=new B.Position(e,0);t.push(new p.Cursor(r,r.getLineEnd()))}t.push(new p.Cursor(n.getLineBegin(),n));break;case y.Mode.VisualLine:for(let e=r.line;e<=n.line;e++){const r=new B.Position(e,0);t.push(new p.Cursor(r,r.getLineEnd()))}break;case y.Mode.VisualBlock:{const e=(0,y.visualBlockGetTopLeftPosition)(r,n),i=(0,y.visualBlockGetBottomRightPosition)(r,n);for(let r=e.line;r<=i.line;r++)t.push(new p.Cursor(new B.Position(r,e.character),new B.Position(r,i.character)));break}default:throw new Error(`Unexpected mode ${e.currentMode} in IncrementDecrementNumberAction.getPositions()`)}return t}}let Ht=class extends Kt{constructor(){super(...arguments),this.keys=["<C-a>"],this.offset=1,this.staircase=!1}};Ht=i([x.RegisterAction],Ht);let zt=class extends Kt{constructor(){super(...arguments),this.keys=["<C-x>"],this.offset=-1,this.staircase=!1}};zt=i([x.RegisterAction],zt);let Gt=class extends Kt{constructor(){super(...arguments),this.keys=["g","<C-a>"],this.offset=1,this.staircase=!0}};Gt=i([x.RegisterAction],Gt);let Jt=class extends Kt{constructor(){super(...arguments),this.keys=["g","<C-x>"],this.offset=-1,this.staircase=!0}};Jt=i([x.RegisterAction],Jt);let Yt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g","a"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=t.document.getText(new o.Range(e,e.getRight())),n=r.charCodeAt(0);k.StatusBar.setText(t,`<${r}>  ${n},  Hex ${n.toString(16)},  Octal ${n.toString(8)}`)}};Yt=i([x.RegisterAction],Yt);let Qt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["g","h"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await o.commands.executeCommand("editor.action.showHover")}};Qt=i([x.RegisterAction],Qt);let Zt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual],this.keys=[["<D-d>"],["g","b"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await o.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=(0,c.getCursorsAfterSync)(),t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getLeft()))),await t.setCurrentMode(y.Mode.Visual)}};Zt=i([x.RegisterAction],Zt),t.ActionOverrideCmdD=Zt;let Xt=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Insert],this.keys=["<D-d>"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){t.editor.selections=t.editor.selections.map(((e,r)=>{const n=e.active;if(0===r)return new o.Selection(n.prevWordStart(t.document),n.getLeft().nextWordEnd(t.document,{inclusive:!0}).getRight());{const e=t.editor.selections[0].active,r=e.getLeft().nextWordEnd(t.document,{inclusive:!0}).getRight().character-e.prevWordStart(t.document).character,i=n.getLeft(r);return new o.Selection(i,n)}})),await o.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=(0,c.getCursorsAfterSync)()}};Xt=i([x.RegisterAction],Xt);let er=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual],this.keys=[["<D-alt+down>"],["<C-alt+down>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await o.commands.executeCommand("editor.action.insertCursorBelow"),t.cursors=(0,c.getCursorsAfterSync)()}};er=i([x.RegisterAction],er);let tr=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual],this.keys=[["<D-alt+up>"],["<C-alt+up>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await o.commands.executeCommand("editor.action.insertCursorAbove"),t.cursors=(0,c.getCursorsAfterSync)()}};tr=i([x.RegisterAction],tr);let rr=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["<C-g>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){(0,A.reportFileInfo)(e,t)}};rr=i([x.RegisterAction],rr);let nr=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["Z","Z"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await new L.WriteQuitCommand({}).execute(t)}};nr=i([x.RegisterAction],nr);let ir=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["Z","Q"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await new h.QuitCommand({bang:!0}).execute(t)}};ir=i([x.RegisterAction],ir);let or=class extends x.BaseCommand{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[["<C-6>"],["<C-^>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await w.Register.get("#");if(void 0===r||""===r.text)k.StatusBar.displayError(t,$.VimError.fromCode($.ErrorCode.NoAlternateFile));else{const e=await o.workspace.findFiles(r.text);if(e.length>0){const t=await o.workspace.openTextDocument(e[0]);await o.window.showTextDocument(t)}}}};or=i([x.RegisterAction],or)},3746:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7549),o=r(785),s=r(9066),a=r(4379),c=r(7541),u=r(9138),l=r(7125),d=r(8965),h=r(1149),m=r(1797),f=r(9220),p=r(2078),g=r(5458),v=r(5789),y=r(3259),w=r(8186),b=r(3434),C=r(8019);let S=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<tab>"],["<S-tab>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}cycleCompletion(e,t){const r=c.commandLine.autoCompleteItems;if(0===r.length)return;c.commandLine.autoCompleteIndex=t?(c.commandLine.autoCompleteIndex+1)%r.length:(c.commandLine.autoCompleteIndex-1+r.length)%r.length;const n=c.commandLine.preCompleteCharacterPos,i=c.commandLine.preCompleteCommand,o=i.slice(0,n),s=i.slice(n);e.currentCommandlineText=o+r[c.commandLine.autoCompleteIndex]+s,e.statusBarCursorCharacterPos=e.currentCommandlineText.length-s.length}async exec(e,t){const r=this.keysPressed[0],n="<tab>"===r;if(0!==c.commandLine.autoCompleteItems.length&&this.keys.some((e=>c.commandLine.lastKeyPressed===e[0])))return this.cycleCompletion(t,n),void(c.commandLine.lastKeyPressed=r);let o=[];const s=t.currentCommandlineText,a=t.statusBarCursorCharacterPos;let u=s.slice(0,a);const l=s.slice(a),d=/^\s*\w+\s+/g;if(/^\s*\w+$/.test(u))o=Object.keys(p.commandParsers).filter((e=>e.startsWith(u))).map((e=>e.slice(e.search(u)+u.length))).sort();else if(d.exec(u)){const e=u.substring(d.lastIndex),r=t.document.uri,n=!!i.env.remoteName,{fullDirPath:s,baseName:a,partialPath:c,path:l}=(0,g.getPathDetails)(e,r,n);u=u.slice(0,d.lastIndex)+c;const h=/^\.\.?$/g.test(a);o=(await(0,g.readDirectory)(s,l.sep,r,n,h)).filter((e=>e.startsWith(a))).map((e=>e.slice(e.search(a)+a.length))).sort()}const h=n?0:o.length-1;c.commandLine.autoCompleteIndex=h,c.commandLine.autoCompleteItems=o.length<=1?[]:o,c.commandLine.preCompleteCharacterPos=a,c.commandLine.preCompleteCommand=u+l;const m=0===o.length?"":o[h];t.currentCommandlineText=u+m+l,t.statusBarCursorCharacterPos=t.currentCommandlineText.length-l.length,c.commandLine.lastKeyPressed=r}};S=n([o.RegisterAction],S);let x=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["\n"],["<C-m>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){await c.commandLine.Run(t.currentCommandlineText,t),await t.setCurrentMode(a.Mode.Normal)}};x=n([o.RegisterAction],x);let M=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<C-w>"],["<C-BS>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=this.keysPressed[0],n=t.statusBarCursorCharacterPos,i=t.currentCommandlineText,o=(0,C.getWordLeftInText)(i,n,C.WordType.Normal);void 0!==o&&(t.currentCommandlineText=i.substring(0,o).concat(i.slice(n)),t.statusBarCursorCharacterPos=n-(n-o)),c.commandLine.lastKeyPressed=r}};M=n([o.RegisterAction],M);let E=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<C-w>"],["<C-BS>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=u.globalState.searchState;if(void 0===r)return;const n=t.statusBarCursorCharacterPos,i=r.searchString,o=(0,C.getWordLeftInText)(i,n,C.WordType.Normal);void 0!==o&&(r.searchString=i.substring(0,o).concat(i.slice(n)),t.statusBarCursorCharacterPos=n-(n-o))}};E=n([o.RegisterAction],E);let _=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=["<C-left>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){var r;const n=t.currentCommandlineText;t.statusBarCursorCharacterPos=null!==(r=(0,C.getWordLeftInText)(n,t.statusBarCursorCharacterPos,C.WordType.Big))&&void 0!==r?r:0}};_=n([o.RegisterAction],_);let k=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=["<C-right>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){var r;const n=t.currentCommandlineText;t.statusBarCursorCharacterPos=null!==(r=(0,C.getWordRightInText)(n,t.statusBarCursorCharacterPos,C.WordType.Big))&&void 0!==r?r:n.length}};k=n([o.RegisterAction],k);let A=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=["<C-left>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){var r;const n=u.globalState.searchState;if(void 0===n)return;const i=n.searchString;t.statusBarCursorCharacterPos=null!==(r=(0,C.getWordLeftInText)(i,t.statusBarCursorCharacterPos,C.WordType.Big))&&void 0!==r?r:0}};A=n([o.RegisterAction],A);let R=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=["<C-right>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){var r;const n=u.globalState.searchState;if(void 0===n)return;const i=n.searchString;t.statusBarCursorCharacterPos=null!==(r=(0,C.getWordRightInText)(i,t.statusBarCursorCharacterPos,C.WordType.Big))&&void 0!==r?r:i.length}};R=n([o.RegisterAction],R);let P=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<Home>"],["<End>"],["<Del>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=this.keysPressed[0];if("<BS>"===r||"<S-BS>"===r||"<C-h>"===r){if(0===t.statusBarCursorCharacterPos)return void await t.setCurrentMode(a.Mode.Normal);t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos-1)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else if("<C-f>"===r)(new s.CommandShowCommandHistory).exec(e,t);else if("<C-u>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===r)t.currentCommandlineText=t.currentCommandlineText.slice(0,t.statusBarCursorCharacterPos)+t.currentCommandlineText.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===r||"<C-b>"===r)t.statusBarCursorCharacterPos=0;else if("<End>"===r||"<C-e>"===r)t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<up>"===r||"<C-p>"===r)c.commandLine.commandLineHistoryIndex-=1,c.commandLine.commandLineHistoryIndex=Math.max(c.commandLine.commandLineHistoryIndex,0),void 0!==c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]&&(t.currentCommandlineText=c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length;else if("<down>"===r||"<C-n>"===r){if(c.commandLine.commandLineHistoryIndex+=1,c.commandLine.commandLineHistoryIndex>c.commandLine.historyEntries.length-1)return c.commandLine.previousMode===a.Mode.Normal?t.currentCommandlineText="":t.currentCommandlineText="'<,'>",c.commandLine.commandLineHistoryIndex=c.commandLine.historyEntries.length,void(t.statusBarCursorCharacterPos=t.currentCommandlineText.length);void 0!==c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]&&(t.currentCommandlineText=c.commandLine.historyEntries[c.commandLine.commandLineHistoryIndex]),t.statusBarCursorCharacterPos=t.currentCommandlineText.length}else{const e=t.currentCommandlineText.split("");e.splice(t.statusBarCursorCharacterPos,0,r),t.currentCommandlineText=e.join(""),t.statusBarCursorCharacterPos+=r.length}c.commandLine.lastKeyPressed=r}};P=n([o.RegisterAction],P);let T=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<character>"],["<up>"],["<down>"],["<C-b>"],["<C-e>"],["<C-h>"],["<C-p>"],["<C-n>"],["<C-f>"],["<C-u>"],["<C-m>"],["<Home>"],["<End>"],["<Del>"]],this.isJump=!0}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){if(void 0===u.globalState.searchState)return;const r=u.globalState.searchState,n=this.keysPressed[0],i=u.globalState.searchStatePrevious;if("<BS>"===n||"<S-BS>"===n||"<C-h>"===n){if(0===r.searchString.length&&await(new L).exec(e,t),0===t.statusBarCursorCharacterPos)return;r.searchString=r.searchString.slice(0,t.statusBarCursorCharacterPos-1)+r.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)}else if("<C-f>"===n)await new s.CommandShowSearchHistory(r.searchDirection).exec(e,t);else if("<C-u>"===n)r.searchString=r.searchString.slice(t.statusBarCursorCharacterPos),t.statusBarCursorCharacterPos=0;else if("<Del>"===n)r.searchString=r.searchString.slice(0,t.statusBarCursorCharacterPos)+r.searchString.slice(t.statusBarCursorCharacterPos+1);else if("<Home>"===n||"<C-b>"===n)t.statusBarCursorCharacterPos=0;else if("<End>"===n||"<C-e>"===n)t.statusBarCursorCharacterPos=r.searchString.length;else{if("\n"===n||"<C-m>"===n){if(await t.setCurrentMode(r.previousMode),""===r.searchString&&i.length>0&&(r.searchString=i[i.length-1].searchString),t.statusBarCursorCharacterPos=0,l.Register.setReadonlyRegister("/",r.searchString),u.globalState.addSearchStateToHistory(r),u.globalState.hl=!0,0===r.getMatchRanges(t.editor).length)return void f.StatusBar.displayError(t,y.VimError.fromCode(y.ErrorCode.PatternNotFound,r.searchString));const e=t.recordedState.count||1;let n,o=t.cursorStopPosition;for(let i=0;i<e&&(n=r.getNextSearchMatchPosition(t.editor,o),void 0!==n);i++)o=n.pos;return void 0===n?void f.StatusBar.displayError(t,y.VimError.fromCode(r.searchDirection===w.SearchDirection.Backward?y.ErrorCode.SearchHitTop:y.ErrorCode.SearchHitBottom,r.searchString)):(t.cursorStopPosition=n.pos,void(0,d.reportSearch)(n.index,r.getMatchRanges(t.editor).length,t))}if("<up>"===n||"<C-p>"===n)u.globalState.searchStateIndex-=1,u.globalState.searchStateIndex=Math.max(u.globalState.searchStateIndex,0),void 0!==i[u.globalState.searchStateIndex]&&(r.searchString=i[u.globalState.searchStateIndex].searchString,t.statusBarCursorCharacterPos=r.searchString.length);else if("<down>"===n||"<C-n>"===n){if(u.globalState.searchStateIndex+=1,u.globalState.searchStateIndex>u.globalState.searchStatePrevious.length-1)return r.searchString="",void(u.globalState.searchStateIndex=u.globalState.searchStatePrevious.length);void 0!==i[u.globalState.searchStateIndex]&&(r.searchString=i[u.globalState.searchStateIndex].searchString),t.statusBarCursorCharacterPos=r.searchString.length}else{const e=r.searchString.split("");e.splice(t.statusBarCursorCharacterPos,0,n),r.searchString=e.join(""),t.statusBarCursorCharacterPos+=n.length}}}};T=n([o.RegisterAction],T);let B=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=this.keysPressed[0];await t.setCurrentMode(a.Mode.Normal),c.commandLine.lastKeyPressed=r}};B=n([o.RegisterAction],B);let L=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}async exec(e,t){const r=u.globalState.searchState;if(void 0===r)return;t.cursorStopPosition=r.cursorStartPosition;const n=u.globalState.searchStatePrevious;if(u.globalState.searchState=n?n[n.length-1]:void 0,void 0!==t.firstVisibleLineBeforeSearch){const e=t.editor.visibleRanges[0].start.line-t.firstVisibleLineBeforeSearch;(0,b.scrollView)(t,e)}await t.setCurrentMode(r.previousMode),t.statusBarCursorCharacterPos=0,r.searchString.length>0&&u.globalState.addSearchStateToHistory(r)}};L=n([o.RegisterAction],L);let O=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){if(!l.Register.isValidRegister(this.keysPressed[1]))return;t.recordedState.registerName=this.keysPressed[1];const r=await l.Register.get(t.recordedState.registerName,this.multicursorIndex);if(void 0===r)return void f.StatusBar.displayError(t,y.VimError.fromCode(y.ErrorCode.NothingInRegister,t.recordedState.registerName));let n;if(r.text instanceof Array)n=r.text.join("\n");else if(r.text instanceof h.RecordedState){let e=[];for(const t of r.text.actionsRun)e=e.concat(t.keysPressed);n=e.join("\n")}else n=r.text;r.registerMode===l.RegisterMode.LineWise&&(n+="\n"),t.currentCommandlineText+=n,t.statusBarCursorCharacterPos+=n.length}};O=n([o.RegisterAction],O);let $=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){if(void 0===u.globalState.searchState)return;if(!l.Register.isValidRegister(this.keysPressed[1]))return;const r=await l.Register.get(this.keysPressed[1],this.multicursorIndex);if(void 0===r)return void f.StatusBar.displayError(t,y.VimError.fromCode(y.ErrorCode.NothingInRegister,this.keysPressed[1]));let n;if(r.text instanceof Array)n=r.text.join("\n");else if(r.text instanceof h.RecordedState){let e=[];for(const t of r.text.actionsRun)e=e.concat(t.keysPressed);n=e.join("\n")}else n=r.text;r.registerMode===l.RegisterMode.LineWise&&(n+="\n"),u.globalState.searchState.searchString+=n,t.statusBarCursorCharacterPos+=n.length}};$=n([o.RegisterAction],$);let F=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress,a.Mode.SearchInProgressMode],this.keys=["<C-r>","<C-w>"]}async exec(e,t){if(void 0===u.globalState.searchState)return;const r=m.TextEditor.getWord(t.document,e.getLeftIfEOL());void 0!==r&&(t.currentMode===a.Mode.SearchInProgressMode?u.globalState.searchState.searchString+=r:t.currentCommandlineText+=r,t.statusBarCursorCharacterPos+=r.length)}};F=n([o.RegisterAction],F);let D=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress,a.Mode.SearchInProgressMode],this.keys=[["<left>"],["<right>"]]}runsOnceForEveryCursor(){return"\n"===this.keysPressed[0]}getTrimmedStatusBarText(){return f.StatusBar.getText().replace(/^(?:\/|\:)(.*)(?:\|)(.*)/,"$1$2").replace(/(.*) $/,"$1")}async exec(e,t){const r=this.keysPressed[0],n=this.getTrimmedStatusBarText();"<right>"===r?t.statusBarCursorCharacterPos=Math.min(t.statusBarCursorCharacterPos+1,n.length):"<left>"===r&&(t.statusBarCursorCharacterPos=Math.max(t.statusBarCursorCharacterPos-1,0)),c.commandLine.lastKeyPressed=r}};D=n([o.RegisterAction],D);let I=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.CommandlineInProgress],this.keys=[["<C-v>"],["<D-v>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=this.keysPressed[0],n=t.statusBarCursorCharacterPos,i=t.currentCommandlineText,o=await v.Clipboard.Paste();t.currentCommandlineText=i.substring(0,n).concat(o).concat(i.slice(n)),t.statusBarCursorCharacterPos+=o.length,c.commandLine.lastKeyPressed=r}};I=n([o.RegisterAction],I);let j=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=[["<C-v>"],["<D-v>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){if(void 0===u.globalState.searchState)return;const r=u.globalState.searchState.searchString,n=t.statusBarCursorCharacterPos,i=await v.Clipboard.Paste();u.globalState.searchState.searchString=r.substring(0,n).concat(i).concat(r.slice(n)),t.statusBarCursorCharacterPos+=i.length}};j=n([o.RegisterAction],j);let N=class extends o.BaseCommand{constructor(){super(...arguments),this.modes=[a.Mode.SearchInProgressMode],this.keys=["<C-l>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){if(void 0===u.globalState.searchState)return;const r=u.globalState.searchState.getNextSearchMatchRange(t.editor,e);if(r){const e=t.document.lineAt(r.end).text;r.end.character<e.length&&(u.globalState.searchState.searchString+=e[r.end.character],t.statusBarCursorCharacterPos++)}}};N=n([o.RegisterAction],N)},9470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDigraphs=void 0,t.DefaultDigraphs={SH:["^A",1],SX:["^B",2],EX:["^C",3],ET:["^D",4],EQ:["^E",5],AK:["^F",6],BL:["^G",7],BS:["^H",8],HT:["^I",9],LF:["^@",10],NU:["^@",10],VT:["^K",11],FF:["^L",12],CR:["^M",13],SO:["^N",14],SI:["^O",15],DL:["^P",16],D1:["^Q",17],D2:["^R",18],D3:["^S",19],D4:["^T",20],NK:["^U",21],SY:["^V",22],EB:["^W",23],CN:["^X",24],EM:["^Y",25],SB:["^Z",26],EC:["^[",27],FS:["^\\",28],GS:["^]",29],RS:["^^",30],US:["^_",31],SP:[" ",32],Nb:["#",35],DO:["$",36],At:["@",64],"<(":["[",91],"//":["\\",92],")>":["]",93],"'>":["^",94],"'!":["`",96],"(!":["{",123],"!!":["|",124],"!)":["}",125],"'?":["~",126],DT:["^?",127],PA:["<80>",128],HO:["<81>",129],BH:["<82>",130],NH:["<83>",131],IN:["<84>",132],NL:["<85>",133],SA:["<86>",134],ES:["<87>",135],HS:["<88>",136],HJ:["<89>",137],VS:["<8a>",138],PD:["<8b>",139],PU:["<8c>",140],RI:["<8d>",141],S2:["<8e>",142],S3:["<8f>",143],DC:["<90>",144],P1:["<91>",145],P2:["<92>",146],TS:["<93>",147],CC:["<94>",148],MW:["<95>",149],SG:["<96>",150],EG:["<97>",151],SS:["<98>",152],GC:["<99>",153],SC:["<9a>",154],CI:["<9b>",155],ST:["<9c>",156],OC:["<9d>",157],PM:["<9e>",158],AC:["<9f>",159],NS:["",160],"~!":["",161],"!I":["",161],Ct:["",162],"c|":["",162],Pd:["",163],$$:["",163],Cu:["",164],ox:["",164],Ye:["",165],"Y-":["",165],BB:["",166],"||":["",166],SE:["",167],"':":["",168],Co:["",169],cO:["",169],"-a":["",170],"<<":["",171],NO:["",172],"-,":["",172],"--":["",173],Rg:["",174],"'m":["",175],"-=":["",175],DG:["",176],"~o":["",176],"+-":["",177],"2S":["",178],22:["",178],"3S":["",179],33:["",179],"''":["",180],My:["",181],PI:["",182],pp:["",182],".M":["",183],"~.":["",183],"',":["",184],"1S":["",185],11:["",185],"-o":["",186],">>":["",187],14:["",188],12:["",189],34:["",190],"?I":["",191],"~?":["",191],"A!":["",192],"A`":["",192],"A'":["",193],"A>":["",194],"A^":["",194],"A?":["",195],"A~":["",195],"A:":["",196],'A"':["",196],AA:["",197],"A@":["",197],AE:["",198],"C,":["",199],"E!":["",200],"E`":["",200],"E'":["",201],"E>":["",202],"E^":["",202],"E:":["",203],'E"':["",203],"I!":["",204],"I`":["",204],"I'":["",205],"I>":["",206],"I^":["",206],"I:":["",207],'I"':["",207],"D-":["",208],"N?":["",209],"N~":["",209],"O!":["",210],"O`":["",210],"O'":["",211],"O>":["",212],"O^":["",212],"O?":["",213],"O~":["",213],"O:":["",214],"*X":["",215],"/\\":["",215],"O/":["",216],"U!":["",217],"U`":["",217],"U'":["",218],"U>":["",219],"U^":["",219],"U:":["",220],"Y'":["",221],TH:["",222],Ip:["",222],ss:["",223],"a!":["",224],"a`":["",224],"a'":["",225],"a>":["",226],"a^":["",226],"a?":["",227],"a~":["",227],"a:":["",228],'a"':["",228],aa:["",229],"a@":["",229],ae:["",230],"c,":["",231],"e!":["",232],"e`":["",232],"e'":["",233],"e>":["",234],"e^":["",234],"e:":["",235],'e"':["",235],"i!":["",236],"i`":["",236],"i'":["",237],"i>":["",238],"i^":["",238],"i:":["",239],"d-":["",240],"n?":["",241],"n~":["",241],"o!":["",242],"o`":["",242],"o'":["",243],"o>":["",244],"o^":["",244],"o?":["",245],"o~":["",245],"o:":["",246],"-:":["",247],"o/":["",248],"u!":["",249],"u`":["",249],"u'":["",250],"u>":["",251],"u^":["",251],"u:":["",252],"y'":["",253],th:["",254],"y:":["",255],'y"':["",255],"A-":["",256],"a-":["",257],"A(":["",258],"a(":["",259],"A;":["",260],"a;":["",261],"C'":["",262],"c'":["",263],"C>":["",264],"c>":["",265],"C.":["",266],"c.":["",267],"C<":["",268],"c<":["",269],"D<":["",270],"d<":["",271],"D/":["",272],"d/":["",273],"E-":["",274],"e-":["",275],"E(":["",276],"e(":["",277],"E.":["",278],"e.":["",279],"E;":["",280],"e;":["",281],"E<":["",282],"e<":["",283],"G>":["",284],"g>":["",285],"G(":["",286],"g(":["",287],"G.":["",288],"g.":["",289],"G,":["",290],"g,":["",291],"H>":["",292],"h>":["",293],"H/":["",294],"h/":["",295],"I?":["",296],"i?":["",297],"I-":["",298],"i-":["",299],"I(":["",300],"i(":["",301],"I;":["",302],"i;":["",303],"I.":["",304],"i.":["",305],IJ:["",306],ij:["",307],"J>":["",308],"j>":["",309],"K,":["",310],"k,":["",311],kk:["",312],"L'":["",313],"l'":["",314],"L,":["",315],"l,":["",316],"L<":["",317],"l<":["",318],"L.":["",319],"l.":["",320],"L/":["",321],"l/":["",322],"N'":["",323],"n'":["",324],"N,":["",325],"n,":["",326],"N<":["",327],"n<":["",328],"'n":["",329],NG:["",330],ng:["",331],"O-":["",332],"o-":["",333],"O(":["",334],"o(":["",335],'O"':["",336],'o"':["",337],OE:["",338],oe:["",339],"R'":["",340],"r'":["",341],"R,":["",342],"r,":["",343],"R<":["",344],"r<":["",345],"S'":["",346],"s'":["",347],"S>":["",348],"s>":["",349],"S,":["",350],"s,":["",351],"S<":["",352],"s<":["",353],"T,":["",354],"t,":["",355],"T<":["",356],"t<":["",357],"T/":["",358],"t/":["",359],"U?":["",360],"u?":["",361],"U-":["",362],"u-":["",363],"U(":["",364],"u(":["",365],U0:["",366],u0:["",367],'U"':["",368],'u"':["",369],"U;":["",370],"u;":["",371],"W>":["",372],"w>":["",373],"Y>":["",374],"y>":["",375],"Y:":["",376],"Z'":["",377],"z'":["",378],"Z.":["",379],"z.":["",380],"Z<":["",381],"z<":["",382],fs:["",383],O9:["",416],o9:["",417],OI:["",418],oi:["",419],yr:["",422],U9:["",431],u9:["",432],"Z/":["",437],"z/":["",438],ED:["",439],"A<":["",461],"a<":["",462],"I<":["",463],"i<":["",464],"O<":["",465],"o<":["",466],"U<":["",467],"u<":["",468],A1:["",478],a1:["",479],A7:["",480],a7:["",481],A3:["",482],a3:["",483],"G/":["",484],"g/":["",485],"G<":["",486],"g<":["",487],"K<":["",488],"k<":["",489],"O;":["",490],"o;":["",491],O1:["",492],o1:["",493],EZ:["",494],ez:["",495],"j<":["",496],"G'":["",500],"g'":["",501],";S":["",703],"'<":["",711],"'(":["",728],"'.":["",729],"'0":["",730],"';":["",731],"'\"":["",733],"A%":["",902],"E%":["",904],"Y%":["",905],"I%":["",906],"O%":["",908],"U%":["",910],"W%":["",911],i3:["",912],"A*":["",913],"B*":["",914],"G*":["",915],"D*":["",916],"E*":["",917],"Z*":["",918],"Y*":["",919],"H*":["",920],"I*":["",921],"K*":["",922],"L*":["",923],"M*":["",924],"N*":["",925],"C*":["",926],"O*":["",927],"P*":["",928],"R*":["",929],"S*":["",931],"T*":["",932],"U*":["",933],"F*":["",934],"X*":["",935],"Q*":["",936],"W*":["",937],"J*":["",938],"V*":["",939],"a%":["",940],"e%":["",941],"y%":["",942],"i%":["",943],u3:["",944],"a*":["",945],"b*":["",946],"g*":["",947],"d*":["",948],"e*":["",949],"z*":["",950],"y*":["",951],"h*":["",952],"i*":["",953],"k*":["",954],"l*":["",955],"m*":["",956],"n*":["",957],"c*":["",958],"o*":["",959],"p*":["",960],"r*":["",961],"*s":["",962],"s*":["",963],"t*":["",964],"u*":["",965],"f*":["",966],"x*":["",967],"q*":["",968],"w*":["",969],"j*":["",970],"v*":["",971],"o%":["",972],"u%":["",973],"w%":["",974],"'G":["",984],",G":["",985],T3:["",986],t3:["",987],M3:["",988],m3:["",989],K3:["",990],k3:["",991],P3:["",992],p3:["",993],"'%":["",1012],j3:["",1013],IO:["",1025],"D%":["",1026],"G%":["",1027],IE:["",1028],DS:["",1029],II:["",1030],YI:["",1031],"J%":["",1032],LJ:["",1033],NJ:["",1034],Ts:["",1035],KJ:["",1036],"V%":["",1038],DZ:["",1039],"A=":["",1040],"B=":["",1041],"V=":["",1042],"G=":["",1043],"D=":["",1044],"E=":["",1045],"Z%":["",1046],"Z=":["",1047],"I=":["",1048],"J=":["",1049],"K=":["",1050],"L=":["",1051],"M=":["",1052],"N=":["",1053],"O=":["",1054],"P=":["",1055],"R=":["",1056],"S=":["",1057],"T=":["",1058],"U=":["",1059],"F=":["",1060],"H=":["",1061],"C=":["",1062],"C%":["",1063],"S%":["",1064],Sc:["",1065],'="':["",1066],"Y=":["",1067],'%"':["",1068],JE:["",1069],JU:["",1070],JA:["",1071],"a=":["",1072],"b=":["",1073],"v=":["",1074],"g=":["",1075],"d=":["",1076],"e=":["",1077],"z%":["",1078],"z=":["",1079],"i=":["",1080],"j=":["",1081],"k=":["",1082],"l=":["",1083],"m=":["",1084],"n=":["",1085],"o=":["",1086],"p=":["",1087],"r=":["",1088],"s=":["",1089],"t=":["",1090],"u=":["",1091],"f=":["",1092],"h=":["",1093],"c=":["",1094],"c%":["",1095],"s%":["",1096],sc:["",1097],"='":["",1098],"y=":["",1099],"%'":["",1100],je:["",1101],ju:["",1102],ja:["",1103],io:["",1105],"d%":["",1106],"g%":["",1107],ie:["",1108],ds:["",1109],ii:["",1110],yi:["",1111],"j%":["",1112],lj:["",1113],nj:["",1114],ts:["",1115],kj:["",1116],"v%":["",1118],dz:["",1119],Y3:["",1122],y3:["",1123],O3:["",1130],o3:["",1131],F3:["",1138],f3:["",1139],V3:["",1140],v3:["",1141],C3:["",1152],c3:["",1153],G3:["",1168],g3:["",1169],"A+":["",1488],"B+":["",1489],"G+":["",1490],"D+":["",1491],"H+":["",1492],"W+":["",1493],"Z+":["",1494],"X+":["",1495],Tj:["",1496],"J+":["",1497],"K%":["",1498],"K+":["",1499],"L+":["",1500],"M%":["",1501],"M+":["",1502],"N%":["",1503],"N+":["",1504],"S+":["",1505],"E+":["",1506],"P%":["",1507],"P+":["",1508],Zj:["",1509],ZJ:["",1510],"Q+":["",1511],"R+":["",1512],Sh:["",1513],"T+":["",1514],",+":["",1548],";+":["",1563],"?+":["",1567],"H'":["",1569],aM:["",1570],aH:["",1571],wH:["",1572],ah:["",1573],yH:["",1574],"a+":["",1575],"b+":["",1576],tm:["",1577],"t+":["",1578],tk:["",1579],"g+":["",1580],hk:["",1581],"x+":["",1582],"d+":["",1583],dk:["",1584],"r+":["",1585],"z+":["",1586],"s+":["",1587],sn:["",1588],"c+":["",1589],dd:["",1590],tj:["",1591],zH:["",1592],"e+":["",1593],"i+":["",1594],"++":["",1600],"f+":["",1601],"q+":["",1602],"k+":["",1603],"l+":["",1604],"m+":["",1605],"n+":["",1606],"h+":["",1607],"w+":["",1608],"j+":["",1609],"y+":["",1610],":+":["",1611],'"+':["",1612],"=+":["",1613],"/+":["",1614],"'+":["",1615],"1+":["",1616],"3+":["",1617],"0+":["",1618],aS:["",1648],"p+":["",1662],"v+":["",1700],gf:["",1711],"0a":["",1776],"1a":["",1777],"2a":["",1778],"3a":["",1779],"4a":["",1780],"5a":["",1781],"6a":["",1782],"7a":["",1783],"8a":["",1784],"9a":["",1785],"B.":["",7682],"b.":["",7683],B_:["",7686],b_:["",7687],"D.":["",7690],"d.":["",7691],D_:["",7694],d_:["",7695],"D,":["",7696],"d,":["",7697],"F.":["",7710],"f.":["",7711],"G-":["",7712],"g-":["",7713],"H.":["",7714],"h.":["",7715],"H:":["",7718],"h:":["",7719],"H,":["",7720],"h,":["",7721],"K'":["",7728],"k'":["",7729],K_:["",7732],k_:["",7733],L_:["",7738],l_:["",7739],"M'":["",7742],"m'":["",7743],"M.":["",7744],"m.":["",7745],"N.":["",7748],"n.":["",7749],N_:["",7752],n_:["",7753],"P'":["",7764],"p'":["",7765],"P.":["",7766],"p.":["",7767],"R.":["",7768],"r.":["",7769],R_:["",7774],r_:["",7775],"S.":["",7776],"s.":["",7777],"T.":["",7786],"t.":["",7787],T_:["",7790],t_:["",7791],"V?":["",7804],"v?":["",7805],"W!":["",7808],"w!":["",7809],"W'":["",7810],"w'":["",7811],"W:":["",7812],"w:":["",7813],"W.":["",7814],"w.":["",7815],"X.":["",7818],"x.":["",7819],"X:":["",7820],"x:":["",7821],"Y.":["",7822],"y.":["",7823],"Z>":["",7824],"z>":["",7825],Z_:["",7828],z_:["",7829],h_:["",7830],"t:":["",7831],w0:["",7832],y0:["",7833],A2:["",7842],a2:["",7843],E2:["",7866],e2:["",7867],"E?":["",7868],"e?":["",7869],I2:["",7880],i2:["",7881],O2:["",7886],o2:["",7887],U2:["",7910],u2:["",7911],"Y!":["",7922],"y!":["",7923],Y2:["",7926],y2:["",7927],"Y?":["",7928],"y?":["",7929],";'":["",7936],",'":["",7937],";!":["",7938],",!":["",7939],"?;":["",7940],"?,":["",7941],"!:":["",7942],"?:":["",7943],"1N":["",8194],"1M":["",8195],"3M":["",8196],"4M":["",8197],"6M":["",8198],"1T":["",8201],"1H":["",8202],"-1":["",8208],"-N":["",8211],"-M":["",8212],"-3":["",8213],"!2":["",8214],"=2":["",8215],"'6":["",8216],"'9":["",8217],".9":["",8218],"9'":["",8219],'"6':["",8220],'"9':["",8221],":9":["",8222],'9"':["",8223],"/-":["",8224],"/=":["",8225],"..":["",8229],",.":["",8230],"%0":["",8240],"1'":["",8242],"2'":["",8243],"3'":["",8244],'1"':["",8245],'2"':["",8246],'3"':["",8247],Ca:["",8248],"<1":["",8249],">1":["",8250],":X":["",8251],"'-":["",8254],"/f":["",8260],"0S":["",8304],"4S":["",8308],"5S":["",8309],"6S":["",8310],"7S":["",8311],"8S":["",8312],"9S":["",8313],"+S":["",8314],"-S":["",8315],"=S":["",8316],"(S":["",8317],")S":["",8318],nS:["",8319],"0s":["",8320],"1s":["",8321],"2s":["",8322],"3s":["",8323],"4s":["",8324],"5s":["",8325],"6s":["",8326],"7s":["",8327],"8s":["",8328],"9s":["",8329],"+s":["",8330],"-s":["",8331],"=s":["",8332],"(s":["",8333],")s":["",8334],Li:["",8356],Pt:["",8359],"W=":["",8361],"=e":["",8364],Eu:["",8364],"=R":["",8381],"=P":["",8381],oC:["",8451],co:["",8453],oF:["",8457],N0:["",8470],PO:["",8471],Rx:["",8478],SM:["",8480],TM:["",8482],Om:["",8486],AO:["",8491],13:["",8531],23:["",8532],15:["",8533],25:["",8534],35:["",8535],45:["",8536],16:["",8537],56:["",8538],18:["",8539],38:["",8540],58:["",8541],78:["",8542],"1R":["",8544],"2R":["",8545],"3R":["",8546],"4R":["",8547],"5R":["",8548],"6R":["",8549],"7R":["",8550],"8R":["",8551],"9R":["",8552],aR:["",8553],bR:["",8554],cR:["",8555],"1r":["",8560],"2r":["",8561],"3r":["",8562],"4r":["",8563],"5r":["",8564],"6r":["",8565],"7r":["",8566],"8r":["",8567],"9r":["",8568],ar:["",8569],br:["",8570],cr:["",8571],"<-":["",8592],"-!":["",8593],"->":["",8594],"-v":["",8595],"<>":["",8596],UD:["",8597],"<=":["",8656],"=>":["",8658],"==":["",8660],FA:["",8704],dP:["",8706],TE:["",8707],"/0":["",8709],DE:["",8710],NB:["",8711],"(-":["",8712],"-)":["",8715],"*P":["",8719],"+Z":["",8721],"-2":["",8722],"-+":["",8723],"*-":["",8727],Ob:["",8728],Sb:["",8729],RT:["",8730],"0(":["",8733],"00":["",8734],"-L":["",8735],"-V":["",8736],PP:["",8741],AN:["",8743],OR:["",8744],"(U":["",8745],")U":["",8746],In:["",8747],DI:["",8748],Io:["",8750],".:":["",8756],":.":["",8757],":R":["",8758],"::":["",8759],"?1":["",8764],CG:["",8766],"?-":["",8771],"?=":["",8773],"?2":["",8776],"=?":["",8780],HI:["",8787],"!=":["",8800],"=3":["",8801],"=<":["",8804],">=":["",8805],"<*":["",8810],"*>":["",8811],"!<":["",8814],"!>":["",8815],"(C":["",8834],")C":["",8835],"(_":["",8838],")_":["",8839],"0.":["",8857],"02":["",8858],"-T":["",8869],".P":["",8901],":3":["",8942],".3":["",8943],Eh:["",8962],"<7":["",8968],">7":["",8969],"7<":["",8970],"7>":["",8971],NI:["",8976],"(A":["",8978],TR:["",8981],Iu:["",8992],Il:["",8993],"</":["",9001],"/>":["",9002],Vs:["",9251],"1h":["",9280],"3h":["",9281],"2h":["",9282],"4h":["",9283],"1j":["",9286],"2j":["",9287],"3j":["",9288],"4j":["",9289],"1.":["",9352],"2.":["",9353],"3.":["",9354],"4.":["",9355],"5.":["",9356],"6.":["",9357],"7.":["",9358],"8.":["",9359],"9.":["",9360],hh:["",9472],HH:["",9473],vv:["",9474],VV:["",9475],"3-":["",9476],"3_":["",9477],"3!":["",9478],"3/":["",9479],"4-":["",9480],"4_":["",9481],"4!":["",9482],"4/":["",9483],dr:["",9484],dR:["",9485],Dr:["",9486],DR:["",9487],dl:["",9488],dL:["",9489],Dl:["",9490],LD:["",9491],ur:["",9492],uR:["",9493],Ur:["",9494],UR:["",9495],ul:["",9496],uL:["",9497],Ul:["",9498],UL:["",9499],vr:["",9500],vR:["",9501],Vr:["",9504],VR:["",9507],vl:["",9508],vL:["",9509],Vl:["",9512],VL:["",9515],dh:["",9516],dH:["",9519],Dh:["",9520],DH:["",9523],uh:["",9524],uH:["",9527],Uh:["",9528],UH:["",9531],vh:["",9532],vH:["",9535],Vh:["",9538],VH:["",9547],FD:["",9585],BD:["",9586],TB:["",9600],LB:["",9604],FB:["",9608],lB:["",9612],RB:["",9616],".S":["",9617],":S":["",9618],"?S":["",9619],fS:["",9632],OS:["",9633],RO:["",9634],Rr:["",9635],RF:["",9636],RY:["",9637],RH:["",9638],RZ:["",9639],RK:["",9640],RX:["",9641],sB:["",9642],SR:["",9644],Or:["",9645],UT:["",9650],uT:["",9651],PR:["",9654],Tr:["",9655],Dt:["",9660],dT:["",9661],PL:["",9664],Tl:["",9665],Db:["",9670],Dw:["",9671],LZ:["",9674],"0m":["",9675],"0o":["",9678],"0M":["",9679],"0L":["",9680],"0R":["",9681],Sn:["",9688],Ic:["",9689],Fd:["",9698],Bd:["",9699],"*2":["",9733],"*1":["",9734],"<H":["",9756],">H":["",9758],"0u":["",9786],"0U":["",9787],SU:["",9788],Fm:["",9792],Ml:["",9794],cS:["",9824],cH:["",9825],cD:["",9826],cC:["",9827],Md:["",9833],M8:["",9834],M2:["",9835],Mb:["",9837],Mx:["",9838],MX:["",9839],OK:["",10003],XX:["",10007],"-X":["",10016],IS:["",12288],",_":["",12289],"._":["",12290],'+"':["",12291],"+_":["",12292],"*_":["",12293],";_":["",12294],"0_":["",12295],"<+":["",12298],">+":["",12299],"<'":["",12300],">'":["",12301],'<"':["",12302],'>"':["",12303],'("':["",12304],')"':["",12305],"=T":["",12306],"=_":["",12307],"('":["",12308],")'":["",12309],"(I":["",12310],")I":["",12311],"-?":["",12316],A5:["",12353],a5:["",12354],I5:["",12355],i5:["",12356],U5:["",12357],u5:["",12358],E5:["",12359],e5:["",12360],O5:["",12361],o5:["",12362],ka:["",12363],ga:["",12364],ki:["",12365],gi:["",12366],ku:["",12367],gu:["",12368],ke:["",12369],ge:["",12370],ko:["",12371],go:["",12372],sa:["",12373],za:["",12374],si:["",12375],zi:["",12376],su:["",12377],zu:["",12378],se:["",12379],ze:["",12380],so:["",12381],zo:["",12382],ta:["",12383],da:["",12384],ti:["",12385],di:["",12386],tU:["",12387],tu:["",12388],du:["",12389],te:["",12390],de:["",12391],to:["",12392],do:["",12393],na:["",12394],ni:["",12395],nu:["",12396],ne:["",12397],no:["",12398],ha:["",12399],ba:["",12400],pa:["",12401],hi:["",12402],bi:["",12403],pi:["",12404],hu:["",12405],bu:["",12406],pu:["",12407],he:["",12408],be:["",12409],pe:["",12410],ho:["",12411],bo:["",12412],po:["",12413],ma:["",12414],mi:["",12415],mu:["",12416],me:["",12417],mo:["",12418],yA:["",12419],ya:["",12420],yU:["",12421],yu:["",12422],yO:["",12423],yo:["",12424],ra:["",12425],ri:["",12426],ru:["",12427],re:["",12428],ro:["",12429],wA:["",12430],wa:["",12431],wi:["",12432],we:["",12433],wo:["",12434],n5:["",12435],vu:["",12436],'"5':["",12443],"05":["",12444],"*5":["",12445],"+5":["",12446],a6:["",12449],A6:["",12450],i6:["",12451],I6:["",12452],u6:["",12453],U6:["",12454],e6:["",12455],E6:["",12456],o6:["",12457],O6:["",12458],Ka:["",12459],Ga:["",12460],Ki:["",12461],Gi:["",12462],Ku:["",12463],Gu:["",12464],Ke:["",12465],Ge:["",12466],Ko:["",12467],Go:["",12468],Sa:["",12469],Za:["",12470],Si:["",12471],Zi:["",12472],Su:["",12473],Zu:["",12474],Se:["",12475],Ze:["",12476],So:["",12477],Zo:["",12478],Ta:["",12479],Da:["",12480],Ti:["",12481],Di:["",12482],TU:["",12483],Tu:["",12484],Du:["",12485],Te:["",12486],De:["",12487],To:["",12488],Do:["",12489],Na:["",12490],Ni:["",12491],Nu:["",12492],Ne:["",12493],No:["",12494],Ha:["",12495],Ba:["",12496],Pa:["",12497],Hi:["",12498],Bi:["",12499],Pi:["",12500],Hu:["",12501],Bu:["",12502],Pu:["",12503],He:["",12504],Be:["",12505],Pe:["",12506],Ho:["",12507],Bo:["",12508],Po:["",12509],Ma:["",12510],Mi:["",12511],Mu:["",12512],Me:["",12513],Mo:["",12514],YA:["",12515],Ya:["",12516],YU:["",12517],Yu:["",12518],YO:["",12519],Yo:["",12520],Ra:["",12521],Ri:["",12522],Ru:["",12523],Re:["",12524],Ro:["",12525],WA:["",12526],Wa:["",12527],Wi:["",12528],We:["",12529],Wo:["",12530],N6:["",12531],Vu:["",12532],KA:["",12533],KE:["",12534],Va:["",12535],Vi:["",12536],Ve:["",12537],Vo:["",12538],".6":["",12539],"-6":["",12540],"*6":["",12541],"+6":["",12542],b4:["",12549],p4:["",12550],m4:["",12551],f4:["",12552],d4:["",12553],t4:["",12554],n4:["",12555],l4:["",12556],g4:["",12557],k4:["",12558],h4:["",12559],j4:["",12560],q4:["",12561],x4:["",12562],zh:["",12563],ch:["",12564],sh:["",12565],r4:["",12566],z4:["",12567],c4:["",12568],s4:["",12569],a4:["",12570],o4:["",12571],e4:["",12572],ai:["",12574],ei:["",12575],au:["",12576],ou:["",12577],an:["",12578],en:["",12579],aN:["",12580],eN:["",12581],er:["",12582],i4:["",12583],u4:["",12584],iu:["",12585],v4:["",12586],nG:["",12587],gn:["",12588],"1c":["",12832],"2c":["",12833],"3c":["",12834],"4c":["",12835],"5c":["",12836],"6c":["",12837],"7c":["",12838],"8c":["",12839],"9c":["",12840],ff:["",64256],fi:["",64257],fl:["",64258],ft:["",64261],st:["",64262],"W`":["",7808],"w`":["",7809],"Y`":["",7922],"y`":["",7923]}},4008:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.InsertCharBelow=t.InsertCharAbove=t.CommandInsertInInsertMode=t.CommandBackspaceInInsertMode=t.CommandInsertPreviousText=t.CommandEscInsertMode=void 0;const i=r(7549),o=r(4490),s=r(1149),a=r(4880),c=r(7536),u=r(4379),l=r(7125),d=r(1797),h=r(785),m=r(6206),f=r(9066),p=r(9470),g=r(9220),v=r(3259);let y=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){i.commands.executeCommand("closeParameterHints"),t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getLeft()))),t.returnToInsertAfterCommand&&0!==e.character&&(t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getRight()))));const r=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];if("plaintext"!==t.document.languageId&&(r instanceof f.CommandInsertNewLineBefore||r instanceof f.CommandInsertNewLineAbove||r instanceof f.DocumentContentChangeAction&&"\n"===r.keysPressed[r.keysPressed.length-1]))for(const e of t.cursors)/^\s+$/.test(t.document.lineAt(e.stop).text)&&t.recordedState.transformer.delete(new i.Range(e.stop.getLineBegin(),e.stop.getLineEnd()));if(await t.setCurrentMode(u.Mode.Normal),t.recordedState.count>1&&void 0!==t.recordedState.actionsRun.find((e=>e instanceof f.CommandInsertAtCursor||e instanceof f.CommandInsertAfterCursor||e instanceof f.CommandInsertAtLineBegin||e instanceof f.CommandInsertAtLineEnd||e instanceof f.CommandInsertAtFirstCharacter||e instanceof f.CommandInsertAtLastChange))){const e=t.recordedState.actionsRun.slice().reverse().find((e=>e instanceof f.DocumentContentChangeAction));if(e instanceof f.DocumentContentChangeAction)for(let r=0;r<t.recordedState.count-1;r++){const n=r===t.recordedState.count-2?a.PositionDiff.offset({character:-1}):a.PositionDiff.identity();t.recordedState.transformer.addTransformation(e.getTransformation(n))}}t.historyTracker.currentContentChanges.length>0&&(t.historyTracker.lastContentChanges=t.historyTracker.currentContentChanges,t.historyTracker.currentContentChanges=[]),t.isFakeMultiCursor&&(t.cursors=[t.cursors[0]],t.isFakeMultiCursor=!1)}};y=n([h.RegisterAction],y),t.CommandEscInsertMode=y;let w=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-a>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){var r;const n=await l.Register.get(".");if(!(void 0!==n&&n.text instanceof s.RecordedState&&n.text.actionsRun))throw v.VimError.fromCode(v.ErrorCode.NoInsertedTextYet);const i=n.text.clone();i.actionsRun.shift(),i.actionsRun.pop(),(null===(r=i.actionsRun)||void 0===r?void 0:r[0])instanceof m.ArrowsInInsertMode&&i.actionsRun.shift(),t.recordedState.transformer.addTransformation({type:"replayRecordedState",recordedState:i})}};w=n([h.RegisterAction],w),t.CommandInsertPreviousText=w;let b=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-shift+2>"]}async exec(e,t){await(new w).exec(e,t),await t.setCurrentMode(u.Mode.Normal)}};b=n([h.RegisterAction],b);let C=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-t>"]}async exec(e,t){const r=t.document.lineAt(e).text,n=d.TextEditor.getIndentationLevel(r),o=c.configuration.tabstop||Number(t.editor.options.tabSize),s=(Math.floor(n/o)+1)*o;t.recordedState.transformer.replace(new i.Range(e.getLineBegin(),e.with({character:n})),d.TextEditor.setIndentationLevel(r,s).match(/^(\s*)/)[1])}};C=n([h.RegisterAction],C);let S=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-d>"]}async exec(e,t){const r=t.document.lineAt(e).text,n=d.TextEditor.getIndentationLevel(r),o=c.configuration.tabstop||Number(t.editor.options.tabSize),s=(Math.floor(n/o)-1)*o;t.recordedState.transformer.replace(new i.Range(e.getLineBegin(),e.with({character:n})),d.TextEditor.setIndentationLevel(r,s).match(/^(\s*)/)[1])}};S=n([h.RegisterAction],S);let x=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=[["<BS>"],["<C-h>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.addTransformation({type:"deleteLeft"})}};x=n([h.RegisterAction],x),t.CommandBackspaceInInsertMode=x;let M=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<Del>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.addTransformation({type:"deleteRight"})}};M=n([h.RegisterAction],M);let E=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];t.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:r,isMultiCursor:t.isMultiCursor})}toString(){return this.keysPressed[this.keysPressed.length-1]}};E=n([h.RegisterAction],E),t.CommandInsertInInsertMode=E;let _=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-k>","<any>","<any>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed.slice(1,3).join(""),n=r.split("").reverse().join("");let i=(p.DefaultDigraphs[r]||p.DefaultDigraphs[n]||c.configuration.digraphs[r]||c.configuration.digraphs[n])[1];i instanceof Array||(i=[i]);const o=String.fromCharCode(...i);t.recordedState.transformer.insert(e,o)}doesActionApply(e,t){if(!super.doesActionApply(e,t))return!1;const r=t.slice(1,3).join(""),n=r.split("").reverse().join("");return r in c.configuration.digraphs||n in c.configuration.digraphs||r in p.DefaultDigraphs||n in p.DefaultDigraphs}couldActionApply(e,t){if(!super.couldActionApply(e,t))return!1;const r=t.slice(1,t.length).join(""),n=r.split("").reverse().join("");if(r.length>0){const e=e=>{const t=e.substring(0,r.length);return r===t||n===t};return void 0!==(Object.keys(c.configuration.digraphs).find(e)||Object.keys(p.DefaultDigraphs).find(e))}return!0}};_=n([h.RegisterAction],_);let k=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){if(!l.Register.isValidRegister(this.keysPressed[1]))return;const r=await l.Register.get(this.keysPressed[1],this.multicursorIndex);if(void 0===r)return void g.StatusBar.displayError(t,v.VimError.fromCode(v.ErrorCode.NothingInRegister,this.keysPressed[1]));if(r.text instanceof s.RecordedState)return void t.recordedState.transformer.addTransformation({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"});let n=r.text;r.registerMode!==l.RegisterMode.LineWise||t.isMultiCursor||(n+="\n"),t.recordedState.transformer.insert(e,n)}};k=n([h.RegisterAction],k);let A=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-o>"]}async exec(e,t){t.returnToInsertAfterCommand=!0,t.actionCount=0,await(new y).exec(e,t)}};A=n([h.RegisterAction],A);let R=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-w>"]}async exec(e,t){if(e.isAtDocumentBegin())return;let r;r=e.isInLeadingWhitespace(t.document)?e.getLineBegin():e.isLineBeginning()?e.getUp().getLineEnd():e.prevWordStart(t.document),t.recordedState.transformer.delete(new i.Range(r,e)),t.cursorStopPosition=r}};R=n([h.RegisterAction],R);let P=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-y>"]}async exec(e,t){if(0===e.line)return;const r=e.getUp();if(r.isLineEnd())return;const n=t.document.getText(new i.Range(r,r.getRight()));t.recordedState.transformer.insert(e,n)}};P=n([h.RegisterAction],P),t.InsertCharAbove=P;let T=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-e>"]}async exec(e,t){if(e.line>=t.document.lineCount-1)return;const r=e.getDown();if(r.isLineEnd())return;const n=t.document.getText(new i.Range(r,r.getRight()));t.recordedState.transformer.insert(e,n)}};T=n([h.RegisterAction],T),t.InsertCharBelow=T;let B=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-u>"]}async exec(e,t){let r;r=0===e.character?e.getLeftThroughLineBreaks(!0):e.isInLeadingWhitespace(t.document)?e.getLineBegin():e.getLineBeginRespectingIndent(t.document),t.recordedState.transformer.delete(new i.Range(r,e)),t.cursorStopPosition=r,t.cursorStartPosition=r}};B=n([h.RegisterAction],B);let L=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=[["<C-n>"],["<C-j>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await i.commands.executeCommand("selectNextSuggestion")}};L=n([h.RegisterAction],L);let O=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-p>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await i.commands.executeCommand("selectPrevSuggestion")}};O=n([h.RegisterAction],O);let $=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-v>"]}async exec(e,t){const r=await l.Register.get("*",this.multicursorIndex),n=(null==r?void 0:r.text)instanceof s.RecordedState||null==r?void 0:r.text;n&&t.recordedState.transformer.insert(t.cursorStopPosition,n)}};$=n([h.RegisterAction],$);let F=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-x>","<C-l>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await o.lineCompletionProvider.showLineCompletionsQuickPick(e,t)}};F=n([h.RegisterAction],F);let D=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=[["<C-j>"],["<C-m>"]]}async exec(e,t){t.recordedState.transformer.addTransformation({type:"insertText",text:"\n",position:e,diff:a.PositionDiff.offset({character:-1})})}};D=n([h.RegisterAction],D);let I=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<Insert>"]}async exec(e,t){await(new f.CommandReplaceAtCursorFromNormalMode).exec(e,t)}};I=n([h.RegisterAction],I);let j=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Insert],this.keys=["<C-g>","u"]}async exec(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep()}};j=n([h.RegisterAction],j)},4944:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PutBeforeFromCmdLine=t.PutFromCmdLine=void 0;const i=r(7549),o=r(7549),s=r(4880),a=r(7536),c=r(4379),u=r(7125),l=r(1149),d=r(1797),h=r(8965),m=r(785),f=r(9220),p=r(3259);function g(e){var t,r;return null!==(r=null===(t=e.match(/\S/))||void 0===t?void 0:t.index)&&void 0!==r?r:0}class v extends m.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.Normal,c.Mode.Visual,c.Mode.VisualLine,c.Mode.VisualBlock],this.canBeRepeatedWithDot=!0}async exec(e,t){const r=await u.Register.get(t.recordedState.registerName,this.multicursorIndex);if(void 0===r)return void f.StatusBar.displayError(t,p.VimError.fromCode(p.ErrorCode.NothingInRegister,t.recordedState.registerName));const n=t.recordedState.count||1,i=t.currentMode===c.Mode.CommandlineInProgress?c.Mode.Normal:t.currentMode,o=this.getRegisterMode(r),l=this.getReplaceRange(i,t.cursors[0],o);let d=this.getRegisterText(i,r,n);if(this.shouldAdjustIndent(i,o)){let r;if(i===c.Mode.VisualLine){const[e,n]=(0,s.sorted)(t.cursorStartPosition,t.cursorStopPosition);n.line<t.document.lineCount-1?r=n.line+1:e.line>0&&(r=e.line-1)}else r=e.line;d=this.adjustIndent(void 0!==r?t.document.lineAt(r).text:"",d)}const m=this.getCursorPosition(t.document,i,l,o,n,d);for(let e=0;e<t.editor.selections.length;e++)t.recordedState.transformer.addTransformation({type:"moveCursor",diff:s.PositionDiff.exactPosition(m),cursorIndex:e});o===u.RegisterMode.LineWise&&(d=this.adjustLinewiseRegisterText(i,d));for(const e of this.getTransformations(t.document,i,l,o,d))t.recordedState.transformer.addTransformation(e);(0,c.isVisualMode)(i)&&(t.lastVisualSelection={mode:i,start:l.start,end:l.start.advancePositionByText(d)},t.recordedState.registerName=a.configuration.useSystemClipboard?"*":'"',u.Register.put(t,t.document.getText(l),this.multicursorIndex,!0));let g=d.split("\n").length;o===u.RegisterMode.LineWise&&g--,(0,h.reportLinesChanged)(g,t),await t.setCurrentMode(c.Mode.Normal)}getRegisterText(e,t,r){if(t.text instanceof l.RecordedState)return t.text.actionsRun.map((e=>e.keysPressed.join(""))).join("").repeat(r);if(t.registerMode===u.RegisterMode.CharacterWise)return e===c.Mode.VisualLine?Array(r).fill(t.text).join("\n"):t.text.repeat(r);if(t.registerMode===u.RegisterMode.LineWise||e===c.Mode.VisualLine)return Array(r).fill(t.text).join("\n");if(t.registerMode===u.RegisterMode.BlockWise)return t.text.split("\n").map((e=>e.repeat(r))).join("\n");throw new Error(`Unexpected RegisterMode ${t.registerMode}`)}adjustIndent(e,t){const r=t.split("\n"),n=d.TextEditor.getIndentationLevel(e),i=d.TextEditor.getIndentationLevel(r[0]);return r.map((e=>{const t=d.TextEditor.getIndentationLevel(e)-i+n;return d.TextEditor.setIndentationLevel(e,t)})).join("\n")}getTransformations(e,t,r,n,s){var a;if(n===u.RegisterMode.BlockWise&&t!==c.Mode.VisualLine){const n=[],o=s.split("\n"),u=Math.max(o.length,r.end.line-r.start.line+1);let l=0;for(let s=0;s<u;s++){const u=null!==(a=o[s])&&void 0!==a?a:"";let d;if(t===c.Mode.VisualBlock)if(r.start.line+s>r.end.line){const e=r.start.with({line:r.start.line+s});d=new i.Range(e,e)}else d=new i.Range(r.start.with({line:r.start.line+s}),r.end.with({line:r.start.line+s}));else if(s>0){const e=r.start.with({line:r.start.line+s+l});d=new i.Range(e,e)}else d=new i.Range(r.start,r.end),l=e.getText(d).split("\n").length-1;const h=r.start.line+s;if(h>e.lineCount-1)n.push({type:"replaceText",range:d,text:"\n"+" ".repeat(r.start.character)+u});else{const t=Math.max(r.start.character-e.lineAt(h).text.length,0);n.push({type:"replaceText",range:d,text:" ".repeat(t)+u})}}return n}if(t===c.Mode.Normal||t===c.Mode.Visual||t===c.Mode.VisualLine)return[{type:"replaceText",range:r,text:s}];if(t===c.Mode.VisualBlock){const e=[];if(n===u.RegisterMode.CharacterWise)for(let t=r.start.line;t<=r.end.line;t++){const n=new i.Range(new o.Position(t,r.start.character),new o.Position(t,r.end.character)),a=s.includes("\n")&&t!==r.start.line?"":s;e.push({type:"replaceText",range:n,text:a})}else{if(n!==u.RegisterMode.LineWise)throw new Error(`Unexpected RegisterMode ${n}`);{for(let t=r.start.line;t<=r.end.line;t++){const n=new i.Range(new o.Position(t,r.start.character),new o.Position(t,r.end.character));e.push({type:"replaceText",range:n,text:""})}const t=this.putBefore()?new o.Position(r.start.line,0):new o.Position(r.end.line,0).getLineEnd();e.push({type:"replaceText",range:new i.Range(t,t),text:s})}}return e}throw new Error(`Unexpected Mode ${t}`)}}let y=class extends v{constructor(){super(...arguments),this.keys=["p"]}putBefore(){return!1}getRegisterMode(e){return e.registerMode}getReplaceRange(e,t,r){if(e===c.Mode.Normal){let e;if(r===u.RegisterMode.CharacterWise||r===u.RegisterMode.BlockWise)e=t.stop.getRight();else{if(r!==u.RegisterMode.LineWise)throw new Error(`Unexpected RegisterMode ${r}`);e=t.stop.getLineEnd()}return new i.Range(e,e)}if(e===c.Mode.Visual){const[e,r]=(0,s.sorted)(t.start,t.stop);return new i.Range(e,r.getRight())}if(e===c.Mode.VisualLine){const[e,r]=(0,s.sorted)(t.start,t.stop);return new i.Range(e.getLineBegin(),r.getLineEnd())}{const[e,r]=(0,s.sorted)(t.start,t.stop);return new i.Range(e,r.getRight())}}adjustLinewiseRegisterText(e,t){return e===c.Mode.Normal||e===c.Mode.VisualBlock?"\n"+t:e===c.Mode.Visual?"\n"+t+"\n":t}shouldAdjustIndent(e,t){return!1}getCursorPosition(e,t,r,n,i,s){const a=r.start;if(t===c.Mode.Normal||t===c.Mode.Visual){if(n===u.RegisterMode.CharacterWise)return s.includes("\n")?a:a.advancePositionByText(s).getLeft();if(n===u.RegisterMode.LineWise)return new o.Position(a.line+1,g(s));if(n===u.RegisterMode.BlockWise)return a;throw new Error(`Unexpected RegisterMode ${n}`)}if(t===c.Mode.VisualLine)return a.with({character:g(s)});if(t===c.Mode.VisualBlock)return n===u.RegisterMode.LineWise?new o.Position(r.end.line+1,g(s)):n===u.RegisterMode.BlockWise?a:a.with({character:a.character+s.length-1});throw new Error(`Unexpected Mode ${t}`)}};y=n([m.RegisterAction],y);let w=class extends y{constructor(){super(...arguments),this.keys=["P"]}putBefore(){return!0}adjustLinewiseRegisterText(e,t){return e===c.Mode.Normal||e===c.Mode.VisualBlock?t+"\n":super.adjustLinewiseRegisterText(e,t)}getReplaceRange(e,t,r){if(e===c.Mode.Normal){if(r===u.RegisterMode.CharacterWise||r===u.RegisterMode.BlockWise){const e=t.stop;return new i.Range(e,e)}if(r===u.RegisterMode.LineWise){const e=t.stop.getLineBegin();return new i.Range(e,e)}}return super.getReplaceRange(e,t,r)}getCursorPosition(e,t,r,n,i,o){const s=r.start;return t!==c.Mode.Normal&&t!==c.Mode.VisualBlock||n!==u.RegisterMode.LineWise?super.getCursorPosition(e,t,r,n,i,o):s.with({character:g(o)})}};function b(e){return class extends e{getCursorPosition(e,t,r,n,i,s){const a=r.start;if(t===c.Mode.Normal||t===c.Mode.Visual){if(n===u.RegisterMode.CharacterWise)return s.includes("\n")&&(s=s.slice(0,s.length/i)),a.advancePositionByText(s);if(n===u.RegisterMode.LineWise){let r=a.line+s.split("\n").length;return(t===c.Mode.Visual||!this.putBefore()&&a.line<e.lineCount-1)&&r++,new o.Position(r,0)}if(n===u.RegisterMode.BlockWise){const e=s.split("\n");return new o.Position(a.line+e.length-1,a.character+e[0].length+(this.putBefore()&&t===c.Mode.Normal?1:0))}}else{if(t===c.Mode.VisualLine)return new o.Position(a.line+s.split("\n").length,0);if(t===c.Mode.VisualBlock){const e=s.split("\n");return n===u.RegisterMode.LineWise?this.putBefore()?new o.Position(a.line+e.length,0):new o.Position(r.end.line+e.length+1,0):n===u.RegisterMode.BlockWise?new o.Position(r.start.line+e.length-1,r.start.character+e[e.length-1].length):a.with({character:a.character+s.length})}}return super.getCursorPosition(e,t,r,n,i,s)}}}w=n([m.RegisterAction],w);let C=class extends y{constructor(){super(...arguments),this.keys=["g","p"]}};C=n([m.RegisterAction,b],C);let S=class extends w{constructor(){super(...arguments),this.keys=["g","P"]}};function x(e){return class extends e{shouldAdjustIndent(e,t){return(e===c.Mode.Normal||e===c.Mode.VisualLine)&&t===u.RegisterMode.LineWise}}}S=n([m.RegisterAction,b],S);let M=class extends y{constructor(){super(...arguments),this.keys=["]","p"]}};M=n([m.RegisterAction,x],M);let E=class extends w{constructor(){super(...arguments),this.keys=[["[","P"],["]","P"],["[","p"]]}};function _(e){return class extends e{setInsertionLine(e){this.insertLine=e}getRegisterMode(e){return u.RegisterMode.LineWise}getReplaceRange(e,t,r){var n;const a=null!==(n=this.insertLine)&&void 0!==n?n:(0,s.laterOf)(t.start,t.stop).line,c=this.putBefore()?new o.Position(a,0):new o.Position(a,0).getLineEnd();return new i.Range(c,c)}getCursorPosition(e,t,r,n,i,s){const a=s.split("\n");return new o.Position(r.start.line+a.length-(this.putBefore()?1:0),g(a[a.length-1]))}}}E=n([m.RegisterAction,x],E),t.PutFromCmdLine=_(y),t.PutBeforeFromCmdLine=_(w)},5961:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7549),o=r(4880),s=r(4379),a=r(8785),c=r(785);let u=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}async exec(e,t){const r=t.replaceState;if(r.timesToRepeat>1){const n=r.newChars.join("").repeat(r.timesToRepeat-1);t.recordedState.transformer.replace(new i.Range(e,e.getRight(n.length)),n)}else t.cursorStopPosition=t.cursorStopPosition.getLeft();await t.setCurrentMode(s.Mode.Normal)}};u=n([c.RegisterAction],u);let l=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<Insert>"]}async exec(e,t){await t.setCurrentMode(s.Mode.Insert)}};l=n([c.RegisterAction],l);let d=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=[["<BS>"],["<S-BS>"],["<C-BS>"],["<C-h>"]]}async exec(e,t){const r=t.replaceState;if(e.isBeforeOrEqual(r.replaceCursorStartPosition)){const n=e.getLeftThroughLineBreaks();n.line<r.replaceCursorStartPosition.line?t.replaceState=new a.ReplaceState(t,n):r.replaceCursorStartPosition=n,t.cursorStopPosition=n,t.cursorStartPosition=n}else e.line>r.replaceCursorStartPosition.line||e.character>r.originalChars.length?(t.recordedState.transformer.addTransformation({type:"deleteRange",range:new i.Range(e.getLeftThroughLineBreaks(),e)}),r.newChars.pop()):(t.recordedState.transformer.addTransformation({type:"replaceText",text:r.originalChars[e.character-1],range:new i.Range(e.getLeft(),e),diff:o.PositionDiff.offset({character:-1})}),r.newChars.pop())}};d=n([c.RegisterAction],d);let h=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<character>"],this.canBeRepeatedWithDot=!0}async exec(e,t){const r=this.keysPressed[0],n=t.replaceState,s="\n"===r||"<tab>"===r;e.isLineEnd()||s?"<tab>"===r?(t.recordedState.transformer.delete(new i.Range(e,e.getRight())),t.recordedState.transformer.addTransformation({type:"tab",cursorIndex:this.multicursorIndex})):t.recordedState.transformer.insert(e,r):t.recordedState.transformer.addTransformation({type:"replaceText",text:r,range:new i.Range(e,e.getRight()),diff:o.PositionDiff.offset({character:1})}),n.newChars.push(r)}};h=n([c.RegisterAction],h);let m=class extends c.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<C-g>","u"]}async exec(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep()}};m=n([c.RegisterAction],m)},3582:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(6486),o=r(7549),s=r(4880),a=r(7536),c=r(3259),u=r(4379),l=r(7125),d=r(9138),h=r(8186),m=r(9220),f=r(1797),p=r(8965),g=r(785);async function v(e,t,r,n){let o=f.TextEditor.getWord(t.document,e);if(o){(/\W/.test(o[0])||/\W/.test(o[o.length-1]))&&(n=!1),n&&(o=i.escapeRegExp(o));const e=r===h.SearchDirection.Backward?t.cursorStopPosition.prevWordStart(t.document,{inclusive:!0}):t.cursorStopPosition;await w({needle:o,vimState:t,direction:r,isExact:n,searchStartCursorPosition:e})}else m.StatusBar.displayError(t,c.VimError.fromCode(c.ErrorCode.NoStringUnderCursor))}async function y(e,t){const r=e.document.getText(e.editor.selection);await e.setCurrentMode(u.Mode.Normal);const[n,i]=(0,s.sorted)(e.cursorStartPosition,e.cursorStopPosition),o=t===h.SearchDirection.Backward?n.getLeft():i.getRight();await w({needle:r,vimState:e,direction:t,isExact:!1,searchStartCursorPosition:o})}async function w(e){const{needle:t,vimState:r,isExact:n}=e;if(void 0===t||0===t.length)return;const i=n?`\\b${t}\\b`:t;d.globalState.searchState=new h.SearchState(e.direction,r.cursorStopPosition,i,{isRegex:n,ignoreSmartcase:!0},r.currentMode),l.Register.setReadonlyRegister("/",d.globalState.searchState.searchString),d.globalState.addSearchStateToHistory(d.globalState.searchState),d.globalState.hl=!0;const o=d.globalState.searchState.getNextSearchMatchPosition(r.editor,e.searchStartCursorPosition);o?(r.cursorStopPosition=o.pos,(0,p.reportSearch)(o.index,d.globalState.searchState.getMatchRanges(r.editor).length,r)):m.StatusBar.displayError(r,c.VimError.fromCode(e.direction===h.SearchDirection.Forward?c.ErrorCode.SearchHitBottom:c.ErrorCode.SearchHitTop,d.globalState.searchState.searchString))}let b=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await v(e,t,h.SearchDirection.Forward,!0)}};b=n([g.RegisterAction],b);let C=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine],this.keys=["g","*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await v(e,t,h.SearchDirection.Forward,!1)}};C=n([g.RegisterAction],C);let S=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine],this.keys=["*"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){a.configuration.visualstar?await y(t,h.SearchDirection.Forward):await v(e,t,h.SearchDirection.Forward,!0)}};S=n([g.RegisterAction],S);let x=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await v(e,t,h.SearchDirection.Backward,!0)}};x=n([g.RegisterAction],x);let M=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine],this.keys=["g","#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await v(e,t,h.SearchDirection.Backward,!1)}};M=n([g.RegisterAction],M);let E=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine],this.keys=["#"],this.isMotion=!0,this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){a.configuration.visualstar?await y(t,h.SearchDirection.Backward):await v(e,t,h.SearchDirection.Backward,!0)}};E=n([g.RegisterAction],E);let _=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock],this.keys=["/"],this.isMotion=!0,this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){d.globalState.searchState=new h.SearchState(h.SearchDirection.Forward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),await t.setCurrentMode(u.Mode.SearchInProgressMode),d.globalState.searchStateIndex=d.globalState.searchStatePrevious.length}};_=n([g.RegisterAction],_);let k=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock],this.keys=["?"],this.isMotion=!0,this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){d.globalState.searchState=new h.SearchState(h.SearchDirection.Backward,t.cursorStopPosition,"",{isRegex:!0},t.currentMode),await t.setCurrentMode(u.Mode.SearchInProgressMode),d.globalState.searchStateIndex=d.globalState.searchStatePrevious.length}};async function A(e,t){const r=d.globalState.searchState;if(!r||""===r.searchString)return;const n=new h.SearchState(t,e.cursorStopPosition,r.searchString,{isRegex:!0},e.currentMode);let i;i=n.getSearchMatchRangeOf(e.editor,e.cursorStopPosition),i&&e.currentMode===u.Mode.Visual&&e.cursorStopPosition.isEqual(i.end.getLeftThroughLineBreaks())&&(i=void 0),void 0!==i||(i=n.getNextSearchMatchRange(e.editor,e.cursorStopPosition),void 0!==i)?(e.cursorStartPosition=e.currentMode===u.Mode.Normal?i.start:e.cursorStopPosition,e.cursorStopPosition=i.end.getLeftThroughLineBreaks(),e.editor.selection=new o.Selection(e.cursorStartPosition,e.cursorStopPosition),(0,p.reportSearch)(i.index,r.getMatchRanges(e.editor).length,e),await e.setCurrentMode(u.Mode.Visual)):e.lastMovementFailed=!0}k=n([g.RegisterAction],k);let R=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualBlock],this.keys=["g","n"]}async exec(e,t){await A(t,h.SearchDirection.Forward)}};R=n([g.RegisterAction],R);let P=class extends g.BaseCommand{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualBlock],this.keys=["g","N"]}async exec(e,t){await A(t,h.SearchDirection.Backward)}};P=n([g.RegisterAction],P)},2460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(785),r(3176),r(6206),r(3838),r(4008),r(5961),r(9066),r(3746),r(3582),r(4944),r(9470)},7170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(7037),r(6953),r(9998),r(7243),r(4211),r(3399)},9108:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDocument=void 0;const i=r(785),o=r(3193),s=r(7549);let a=!0;try{new RegExp("(?<=x)")}catch{a=!1}class c{constructor(e){this._document=e;const t=c._parseLines(e);this.structure=c._parseStructure(t)}static*lines(e){for(let t=0;t<e.lineCount;t++)yield e.lineAt(t).text}static _indentation(e){const t=e.search(c.reOnlyWhitespace);if(-1!==t&&"#"!==e[t])return t}static _parseLine(e,t){const r=this._indentation(t);return void 0!==r?{line:e,indentation:r,text:t}:void 0}static _parseLines(e){return[...this.lines(e)].map(((e,t)=>this._parseLine(t,e))).filter((e=>e))}static _parseStructure(e){const t=e.length,r=[];for(let n=0;n<t;n++){const i=e[n],o=i.text.match(c.reDefOrClass);if(o){const a="def"===o[1]?"function":"class";let u=n+1;for(;u<t&&!(e[u].indentation<=i.indentation);u++);u--;const l=e[u];r.push({type:a,start:new s.Position(i.line,i.indentation),end:new s.Position(l.line,l.text.search(c.reLastNonWhiteSpaceCharacter)-1)})}}return r}find(e,t,r,n){const i="next"===t?"isAfter":"isBefore",o=this.structure.filter((t=>t.type===e)).filter((e=>e[r][i](n)));if("end"===r&&o.sort(((e,t)=>e.end.line-t.end.line)),o.length)return o["next"===t?0:o.length-1][r]}static moveClassBoundary(e,t,r,n,i){var s;const a=n?"next":"prev",u=i?"start":"end";return null!==(s=new c(e).find("class",a,u,t))&&void 0!==s?s:(0,o.failedMovement)(r)}}t.PythonDocument=c,c.reOnlyWhitespace=/\S/,c.reLastNonWhiteSpaceCharacter=a?new RegExp("(?<=\\S)\\s*$"):/(\S)\s*$/,c.reDefOrClass=/^\s*(def|class) /;class u extends o.BaseMovement{doesActionApply(e,t){return super.doesActionApply(e,t)&&"python"===e.document.languageId}async execAction(e,t){var r;const n=t.document;return null!==(r=new c(n).find(this.type,this.direction,this.edge,e))&&void 0!==r?r:(0,o.failedMovement)(t)}}let l=class extends u{constructor(){super(...arguments),this.keys=["]","m"],this.type="function",this.direction="next",this.edge="start"}};l=n([i.RegisterAction],l);let d=class extends u{constructor(){super(...arguments),this.keys=["[","m"],this.type="function",this.direction="prev",this.edge="start"}};d=n([i.RegisterAction],d);let h=class extends u{constructor(){super(...arguments),this.keys=["]","M"],this.type="function",this.direction="next",this.edge="end"}};h=n([i.RegisterAction],h);let m=class extends u{constructor(){super(...arguments),this.keys=["[","M"],this.type="function",this.direction="prev",this.edge="end"}};m=n([i.RegisterAction],m)},6206:function(e,t,r){"use strict";var n,i,o,s,a,c=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MoveAroundTag=t.MoveInsideTag=t.MoveAroundBacktick=t.MoveAroundDoubleQuotes=t.MoveAroundSingleQuotes=t.MoveQuoteMatch=t.MoveAroundSquareBracket=t.MoveAroundCaret=t.MoveAroundCurlyBrace=t.MoveAroundParentheses=t.MoveInsideCharacter=t.MoveFullWordBegin=t.MoveWordBegin=t.ArrowsInInsertMode=t.ExpandingSelection=void 0;const u=r(7549),l=r(3176),d=r(1797),h=r(4379),m=r(7497),f=r(3672),p=r(785),g=r(7125),v=r(8785),y=r(2041),w=r(7536),b=r(641),C=r(3259),S=r(3193),x=r(9138),M=r(8965),E=r(7243),_=r(4627),k=r(8186),A=r(9220),R=r(3434),P=r(7092),T=r(9108),B=r(7549),L=r(4880),O=r(8019),$=r(9066);class F extends S.BaseMovement{constructor(){super(...arguments),this.selectionType=S.SelectionType.Expanding}adjustPosition(e,t,r){return r||(e=t.stop),e}}t.ExpandingSelection=F;class D extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.value=1}async execAction(e,t){return this.execActionWithCount(e,t,1)}async execActionWithCount(e,t,r){var n;const i=null!==(n=this.multicursorIndex)&&void 0!==n?n:0;if(0===i){if(t.currentMode===h.Mode.Visual){const e=t.editor.selections;e.forEach(((e,r)=>{if(e.active.isAfter(e.anchor)){const n=e.active.getLeftThroughLineBreaks();t.editor.selections[r]=new u.Selection(e.anchor,n)}})),t.editor.selections=e}await u.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==h.Mode.Normal,by:this.by,value:this.value*r})}if(!t.editor.selections[i])return{start:t.cursorStartPosition,stop:t.cursorStopPosition,removed:!0};if(t.currentMode===h.Mode.Normal)return t.editor.selections[i].active;{let e=t.editor.selections[i].anchor;const r=t.editor.selections[i].active;return(e.isAfter(r)&&t.cursorStartPosition.isAfter(t.cursorStopPosition)||t.cursorStartPosition.isAfter(t.cursorStopPosition)&&e.isBeforeOrEqual(r))&&(e=e.getLeft()),{start:e,stop:r}}}async execActionForOperator(e,t){var r;const n=null!==(r=this.multicursorIndex)&&void 0!==r?r:0;return 0===n&&await u.commands.executeCommand("cursorMove",{to:this.movementType,select:!0,by:this.by,value:this.value}),t.editor.selections[n]?{start:t.editor.selections[n].start,stop:t.editor.selections[n].end}:{start:t.cursorStartPosition,stop:t.cursorStopPosition,removed:!0}}}class I extends D{constructor(){super(...arguments),this.keys=[],this.movementType="up",this.by="wrappedLine",this.value=1}}class j extends D{constructor(){super(...arguments),this.keys=[],this.movementType="down",this.by="wrappedLine",this.value=1}}class N extends D{preservesDesiredColumn(){return!0}async execAction(e,t){const r=t.desiredColumn,n=t.editor.selection.active.line;if(t.currentMode!==h.Mode.Normal){const r=t.editor.selection.start;("down"===this.movementType&&e.line>r.line||"up"===this.movementType&&e.line<n)&&await u.commands.executeCommand("cursorMove",{to:"left",select:!0,by:"character",value:1})}if(await u.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==h.Mode.Normal,by:this.by,value:this.value}),t.currentMode===h.Mode.Normal){let e=t.editor.selection.active;return n!==e.line&&(e=e.withColumn(r)),e}{let i=t.editor.selection.start,o=t.editor.selection.end;const s=t.editor.selection.active;return i.isEqual(s)&&!i.isEqual(o)&&([i,o]=[o,i],n!==i.line&&(i=i.getLeft())),e.line!==o.line&&(o=o.withColumn(r)),{start:i,stop:o}}}}class V extends N{constructor(){super(...arguments),this.keys=[],this.movementType="down",this.by="line",this.value=1}async execAction(e,t){if(e.line>=t.document.lineCount-1)return e;let r=e,n=e.line,i=e.character;const o=t.desiredColumn,s=new j;do{r=await s.execAction(r,t),r=r instanceof B.Position?r:r.stop;const e=n!==r.line,o=i!==r.character;if(e||!o)break;i=r.character,n=r.line}while(r.line===e.line);return r.character!==o&&(r=new B.Position(r.line,o)),r}}let W=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["j"],["<down>"],["<C-j>"],["<C-n>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return t.currentMode===h.Mode.Insert&&"<down>"===this.keysPressed[0]&&"vscode-interactive-input"===t.editor.document.uri.scheme&&e.line===t.document.lineCount-1&&t.editor.selection.isEmpty?(await u.commands.executeCommand("interactive.history.next"),t.editor.selection.active):w.configuration.foldfix&&t.currentMode!==h.Mode.VisualBlock?(new V).execAction(e,t):e.line<t.document.lineCount-1?e.with({character:t.desiredColumn}).getDown():e}async execActionForOperator(e,t){return t.currentRegisterMode=g.RegisterMode.LineWise,e.getDown()}};W=c([p.RegisterAction],W);let U=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["k"],["<up>"],["<C-p>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return t.currentMode===h.Mode.Insert&&"<up>"===this.keysPressed[0]&&"vscode-interactive-input"===t.editor.document.uri.scheme&&0===e.line&&t.editor.selection.isEmpty?(await u.commands.executeCommand("interactive.history.previous"),t.editor.selection.active):w.configuration.foldfix&&t.currentMode!==h.Mode.VisualBlock?(new q).execAction(e,t):e.line>0?e.with({character:t.desiredColumn}).getUp():e}async execActionForOperator(e,t){return t.currentRegisterMode=g.RegisterMode.LineWise,e.getUp()}};U=c([p.RegisterAction],U);let q=class extends N{constructor(){super(...arguments),this.keys=[],this.movementType="up",this.by="line",this.value=1}async execAction(e,t){if(0===e.line)return e;let r;const n=t.desiredColumn,i=new I;do{r=await i.execAction(e,t),r=r instanceof B.Position?r:r.stop}while(r.line===e.line);return r.character!==n&&(r=new B.Position(r.line,n)),r}};q=c([p.RegisterAction],q);let K=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Insert],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}async execAction(e,t){let r;switch(t.recordedState.actionsRun=[new $.CommandInsertAtCursor],t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep(),this.keysPressed[0]){case"<up>":r=await new U(this.keysPressed).execAction(e,t);break;case"<down>":r=await new W(this.keysPressed).execAction(e,t);break;case"<left>":r=await new ie(this.keysPressed).execAction(e,t);break;case"<right>":r=await new oe(this.keysPressed).execAction(e,t);break;default:throw new Error(`Unexpected 'arrow' key: ${this.keys[0]}`)}return t.replaceState=new v.ReplaceState(t,r),r}};K=c([p.RegisterAction],K),t.ArrowsInInsertMode=K;let H=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Replace],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}async execAction(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep();let r=e;switch(this.keysPressed[0]){case"<up>":r=await(new U).execAction(e,t);break;case"<down>":r=await(new W).execAction(e,t);break;case"<left>":r=await new ie(this.keysPressed).execAction(e,t);break;case"<right>":r=await new oe(this.keysPressed).execAction(e,t);break;default:throw new Error(`Unexpected 'arrow' key: ${this.keys[0]}`)}return t.replaceState=new v.ReplaceState(t,r),r}};H=c([p.RegisterAction],H);let z=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["n"],this.isJump=!0}async execAction(e,t){const r=x.globalState.searchState;if(!r||""===r.searchString)return e;if(x.globalState.hl=!0,0===r.getMatchRanges(t.editor).length)return A.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),(0,S.failedMovement)(t);const n=r.searchDirection===k.SearchDirection.Forward,i=e.getRight().isEqual(e.getLineEnd())&&n?r.getNextSearchMatchPosition(t.editor,e.getRight()):r.getNextSearchMatchPosition(t.editor,e);return i?((0,M.reportSearch)(i.index,r.getMatchRanges(t.editor).length,t),i.pos):(A.StatusBar.displayError(t,C.VimError.fromCode(r.searchDirection===k.SearchDirection.Forward?C.ErrorCode.SearchHitBottom:C.ErrorCode.SearchHitTop,r.searchString)),(0,S.failedMovement)(t))}};z=c([p.RegisterAction],z);let G=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["N"],this.isJump=!0}async execAction(e,t){const r=x.globalState.searchState;if(!r||""===r.searchString)return e;if(x.globalState.hl=!0,0===r.getMatchRanges(t.editor).length)return A.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),(0,S.failedMovement)(t);const n=r.searchDirection===k.SearchDirection.Forward,i=e.getRight().isEqual(e.getLineEnd())&&!n?r.getNextSearchMatchPosition(t.editor,e.getRight(),k.SearchDirection.Backward):r.getNextSearchMatchPosition(t.editor,e,k.SearchDirection.Backward);return i?((0,M.reportSearch)(i.index,r.getMatchRanges(t.editor).length,t),i.pos):(A.StatusBar.displayError(t,C.VimError.fromCode(r.searchDirection===k.SearchDirection.Forward?C.ErrorCode.SearchHitTop:C.ErrorCode.SearchHitBottom,r.searchString)),(0,S.failedMovement)(t))}};var J;G=c([p.RegisterAction],G),function(e){e[e.SelectionStart=0]="SelectionStart",e[e.SelectionEnd=1]="SelectionEnd"}(J||(J={}));class Y extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.Normal],this.isJump=!0}startOrEnd(e){let[t,r]=(0,L.sorted)(e.start,e.end);return e.mode===h.Mode.VisualLine&&([t,r]=[t.getLineBegin(),r.getLineEnd()]),this.mark===J.SelectionStart?t:r}inLineCorrection(e,t){return this.registerMode===g.RegisterMode.LineWise?t.getLineBeginRespectingIndent(e):this.mark===J.SelectionEnd?t.getLeft():t}async execAction(e,t){if(t.currentRegisterMode=this.registerMode,void 0!==t.lastVisualSelection)return this.inLineCorrection(t.document,this.startOrEnd(t.lastVisualSelection));throw C.VimError.fromCode(C.ErrorCode.MarkNotSet)}}let Q=class extends Y{constructor(){super(...arguments),this.keys=["`","<"],this.registerMode=g.RegisterMode.CharacterWise,this.mark=J.SelectionStart}};Q=c([p.RegisterAction],Q);let Z=class extends Y{constructor(){super(...arguments),this.keys=["`",">"],this.registerMode=g.RegisterMode.CharacterWise,this.mark=J.SelectionEnd}};Z=c([p.RegisterAction],Z);let X=class extends Y{constructor(){super(...arguments),this.keys=["'","<"],this.registerMode=g.RegisterMode.LineWise,this.mark=J.SelectionStart}};X=c([p.RegisterAction],X);let ee=class extends Y{constructor(){super(...arguments),this.keys=["'",">"],this.registerMode=g.RegisterMode.LineWise,this.mark=J.SelectionEnd}};ee=c([p.RegisterAction],ee);let te=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["'","<character>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(void 0===n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);return t.currentRegisterMode=g.RegisterMode.LineWise,n.isUppercaseMark&&void 0!==n.editor&&await ne(n.editor),d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.position.line)}};te=c([p.RegisterAction],te);let re=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["`","<character>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(void 0===n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);return n.isUppercaseMark&&void 0!==n.editor&&await ne(n.editor),n.position}};async function ne(e){e!==u.window.activeTextEditor&&await u.window.showTextDocument(e.document)}re=c([p.RegisterAction],re);let ie=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["h"],["<left>"],["<BS>"],["<C-BS>"],["<S-BS>"]]}async execAction(e,t){return(0,b.shouldWrapKey)(t.currentMode,this.keysPressed[0])?e.getLeftThroughLineBreaks([h.Mode.Insert,h.Mode.Replace].includes(t.currentMode)):e.getLeft()}};ie=c([p.RegisterAction],ie);let oe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["l"],["<right>"],[" "]]}async execAction(e,t){return(0,b.shouldWrapKey)(t.currentMode,this.keysPressed[0])?e.getRightThroughLineBreaks([h.Mode.Insert,h.Mode.Replace].includes(t.currentMode)):e.getRight()}};oe=c([p.RegisterAction],oe);let se=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["+"],["\n"],["<C-m>"]]}async execActionWithCount(e,t,r){return t.currentRegisterMode=g.RegisterMode.LineWise,d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.getDown(Math.max(r,1)).line)}};se=c([p.RegisterAction],se);let ae=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["-"]}async execActionWithCount(e,t,r){return t.currentRegisterMode=g.RegisterMode.LineWise,d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.getUp(Math.max(r,1)).line)}};ae=c([p.RegisterAction],ae);let ce=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["_"]}async execActionWithCount(e,t,r){t.currentRegisterMode=g.RegisterMode.LineWise;const n=e.getDown(Math.max(r-1,0));return t.recordedState.operator?n:d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line)}};ce=c([p.RegisterAction],ce);let ue=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["|"]}async execActionWithCount(e,t,r){return new B.Position(e.line,Math.max(0,r-1))}};function le(e,t,r,n,i){const o=e.document.lineAt(t);let s=t.character;for(;n>0&&s>=0;)s="forward"===i?o.text.indexOf(r,s+1):o.text.lastIndexOf(r,s-1),n--;if(s>=0)return new B.Position(t.line,s)}ue=c([p.RegisterAction],ue);let de=n=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["f","<character>"]}async execActionWithCount(e,t,r){if(w.configuration.sneakReplacesF){const n=await new E.SneakForward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);return t.recordedState.operator&&!(0,S.isIMovement)(n)?n.getRight():n}r||(r=1);let i=le(t,e,_.Notation.ToControlCharacter(this.keysPressed[1]),r,"forward");return t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new he(this.keysPressed,!0),i?(t.recordedState.operator&&(i=i.getRight()),i):(0,S.failedMovement)(t)}};de=n=c([p.RegisterAction],de);let he=i=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["F","<character>"]}async execActionWithCount(e,t,r){if(w.configuration.sneakReplacesF)return new E.SneakBackward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);r||(r=1);const n=le(t,e,_.Notation.ToControlCharacter(this.keysPressed[1]),r,"backward");return t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new de(this.keysPressed,!0),n||(0,S.failedMovement)(t)}};function me(e,t,r,n,i){const o=le(e,t,r,n,i);return"forward"===i?null==o?void 0:o.getLeft():null==o?void 0:o.getRight()}he=i=c([p.RegisterAction],he);let fe=o=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["t","<character>"]}async execActionWithCount(e,t,r){r||(r=1);const n=_.Notation.ToControlCharacter(this.keysPressed[1]);let i=me(t,e,n,r,"forward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=me(t,e,n,2,"forward")),t.lastSemicolonRepeatableMovement=new o(this.keysPressed,!0),t.lastCommaRepeatableMovement=new pe(this.keysPressed,!0),i?(t.recordedState.operator&&(i=i.getRight()),i):(0,S.failedMovement)(t)}};fe=o=c([p.RegisterAction],fe);let pe=s=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["T","<character>"]}async execActionWithCount(e,t,r){r||(r=1);const n=_.Notation.ToControlCharacter(this.keysPressed[1]);let i=me(t,e,n,r,"backward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=me(t,e,n,2,"backward")),t.lastSemicolonRepeatableMovement=new s(this.keysPressed,!0),t.lastCommaRepeatableMovement=new fe(this.keysPressed,!0),i||(0,S.failedMovement)(t)}};pe=s=c([p.RegisterAction],pe);let ge=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[";"]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement;return n?n.execActionWithCount(e,t,r):e}};ge=c([p.RegisterAction],ge);let ve=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[","]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement,i=t.lastCommaRepeatableMovement;if(i){const o=i.execActionWithCount(e,t,r);return t.lastSemicolonRepeatableMovement=n,t.lastCommaRepeatableMovement=i,o}return e}};ve=c([p.RegisterAction],ve);let ye=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["$"],["<End>"],["<D-right>"]],this.setsDesiredColumnToEOL=!0}async execActionWithCount(e,t,r){return e.getDown(Math.max(r-1,0)).getLineEnd()}};ye=c([p.RegisterAction],ye);let we=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["0"],["<Home>"],["<D-left>"]]}async execAction(e,t){return e.getLineBegin()}doesActionApply(e,t){return super.doesActionApply(e,t)&&0===e.recordedState.count}couldActionApply(e,t){return super.couldActionApply(e,t)&&0===e.recordedState.count}};we=c([p.RegisterAction],we);let be=class extends D{constructor(){super(...arguments),this.keys=["g","0"],this.movementType="wrappedLineStart"}};be=c([p.RegisterAction],be);let Ce=class extends D{constructor(){super(...arguments),this.keys=["g","^"],this.movementType="wrappedLineFirstNonWhitespaceCharacter"}};Ce=c([p.RegisterAction],Ce);let Se=class extends D{constructor(){super(...arguments),this.keys=["g","$"],this.movementType="wrappedLineEnd"}};Se=c([p.RegisterAction],Se);let xe=class extends D{constructor(){super(...arguments),this.keys=["g","_"],this.movementType="wrappedLineLastNonWhitespaceCharacter"}async execActionWithCount(e,t,r){r||(r=1);const n=await super.execActionWithCount(e,t,r);return n instanceof B.Position?n.getDown(r-1):{start:n.start,stop:n.stop.getDown(r-1).getLeftThroughLineBreaks()}}};xe=c([p.RegisterAction],xe);let Me=class extends D{constructor(){super(...arguments),this.keys=["g","m"],this.movementType="wrappedLineColumnCenter"}};Me=c([p.RegisterAction],Me);let Ee=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="wrappedLine",this.value=1}};Ee=c([p.RegisterAction],Ee);let _e=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="wrappedLine",this.value=1}};_e=c([p.RegisterAction],_e);let ke=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.VisualLine],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="line",this.value=1}};ke=c([p.RegisterAction],ke);let Ae=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.VisualLine],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="line",this.value=1}};Ae=c([p.RegisterAction],Ae);let Re=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.VisualBlock],this.keys=[["g","k"],["g","<up>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return e.line>0?e.with({character:t.desiredColumn}).getUp():e}async execActionForOperator(e,t){return t.currentRegisterMode=g.RegisterMode.LineWise,e.getUp()}};Re=c([p.RegisterAction],Re);let Pe=class extends S.BaseMovement{constructor(){super(...arguments),this.modes=[h.Mode.VisualBlock],this.keys=[["g","j"],["g","<down>"]]}preservesDesiredColumn(){return!0}async execAction(e,t){return e.line<t.document.lineCount-1?e.with({character:t.desiredColumn}).getDown():e}async execActionForOperator(e,t){return t.currentRegisterMode=g.RegisterMode.LineWise,e.getDown()}};Pe=c([p.RegisterAction],Pe);let Te=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","h"],this.movementType="right",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Te=c([p.RegisterAction],Te);let Be=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","l"],this.movementType="left",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Be=c([p.RegisterAction],Be);let Le=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","H"],this.movementType="right",this.by="halfLine",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Le=c([p.RegisterAction],Le);let Oe=class extends D{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","L"],this.movementType="left",this.by="halfLine",this.value=1,this.isJump=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Oe=c([p.RegisterAction],Oe);let $e=class extends D{constructor(){super(...arguments),this.keys=["H"],this.movementType="viewPortTop",this.by="line",this.value=1,this.isJump=!0}};$e=c([p.RegisterAction],$e);let Fe=class extends D{constructor(){super(...arguments),this.keys=["L"],this.movementType="viewPortBottom",this.by="line",this.value=1,this.isJump=!0}};Fe=c([p.RegisterAction],Fe);let De=class extends D{constructor(){super(...arguments),this.keys=["M"],this.movementType="viewPortCenter",this.by="line",this.isJump=!0}};De=c([p.RegisterAction],De);let Ie=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["^"]}async execAction(e,t){return d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.line)}};Ie=c([p.RegisterAction],Ie);let je=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["g","g"],["<C-Home>"]],this.isJump=!0}async execActionWithCount(e,t,r){t.currentRegisterMode=g.RegisterMode.LineWise;const n=(0,R.clamp)(r,1,t.document.lineCount)-1;return{start:t.cursorStartPosition,stop:e.with({line:n}).obeyStartOfLine(t.document)}}};je=c([p.RegisterAction],je);let Ne=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["G"],this.isJump=!0}async execActionWithCount(e,t,r){let n;return t.currentRegisterMode=g.RegisterMode.LineWise,n=0===r?new B.Position(t.document.lineCount-1,e.character).obeyStartOfLine(t.document):new B.Position(Math.min(r,t.document.lineCount)-1,e.character).obeyStartOfLine(t.document),{start:t.cursorStartPosition,stop:n}}};Ne=c([p.RegisterAction],Ne);let Ve=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["<C-End>"]}async execActionWithCount(e,t,r){const n=r?(0,R.clamp)(r-1,0,t.document.lineCount-1):t.document.lineCount-1;return new B.Position(n,0).getLineEnd()}};Ve=c([p.RegisterAction],Ve);let We=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["w"]}async execAction(e,t,r,n){if(n&&!w.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof l.ChangeOperator){const r=t.document.lineAt(e);if(0===r.text.length)return e;const n=r.text[e.character];return" \t".includes(n)?e.nextWordStart(t.document):e.nextWordEnd(t.document,{inclusive:!0}).getRight()}return e.nextWordStart(t.document)}async execActionForOperator(e,t,r,n){const i=await this.execAction(e,t,r,n);return i.line>e.line+1||i.line===e.line+1&&i.isFirstWordOfLine(t.document)?e.getLineEnd():i.isLineEnd()?new B.Position(i.line,i.character+1):i}};We=c([p.RegisterAction],We),t.MoveWordBegin=We;let Ue=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["W"],["<C-right>"]]}async execAction(e,t){return!w.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof l.ChangeOperator?e.nextWordEnd(t.document,{wordType:O.WordType.Big}).getRight():e.nextWordStart(t.document,{wordType:O.WordType.Big})}};Ue=c([p.RegisterAction],Ue),t.MoveFullWordBegin=Ue;let qe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["e"]}async execAction(e,t){return e.nextWordEnd(t.document)}async execActionForOperator(e,t){const r=e.nextWordEnd(t.document);return new B.Position(r.line,r.character+1)}};qe=c([p.RegisterAction],qe);let Ke=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["E"]}async execAction(e,t){return e.nextWordEnd(t.document,{wordType:O.WordType.Big})}async execActionForOperator(e,t){return e.nextWordEnd(t.document,{wordType:O.WordType.Big}).getRight()}};Ke=c([p.RegisterAction],Ke);let He=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","e"]}async execAction(e,t){return e.prevWordEnd(t.document)}};He=c([p.RegisterAction],He);let ze=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","E"]}async execAction(e,t){return e.prevWordEnd(t.document,{wordType:O.WordType.Big})}};ze=c([p.RegisterAction],ze);let Ge=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[["b"],["<C-left>"]]}async execAction(e,t){return e.prevWordStart(t.document)}};Ge=c([p.RegisterAction],Ge);let Je=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["B"]}async execAction(e,t){return e.prevWordStart(t.document,{wordType:O.WordType.Big})}};Je=c([p.RegisterAction],Je);let Ye=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["("],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!1})}};Ye=c([p.RegisterAction],Ye);let Qe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["g","o"],this.isJump=!0}async execActionWithCount(e,t,r){return t.currentRegisterMode=g.RegisterMode.LineWise,t.document.positionAt((r||1)-1)}};Qe=c([p.RegisterAction],Qe);let Ze=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=[")"],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!0})}};Ze=c([p.RegisterAction],Ze);let Xe=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["}"],this.isJump=!0,this.iteration=0,this.isFirstLineWise=!1}async execAction(e,t){const r=t.recordedState.operator,n=(0,P.getCurrentParagraphEnd)(e);if(r){this.iteration++;const r=e.isLineBeginning()&&t.currentMode===h.Mode.Normal,i=!t.recordedState.count||t.recordedState.count===this.iteration;return this.isFirstLineWise=1===this.iteration?r:this.isFirstLineWise,t.currentRegisterMode=this.isFirstLineWise?g.RegisterMode.LineWise:void 0,i&&!n.isAtDocumentEnd()?n.getLeftThroughLineBreaks(!0):n}return n}};Xe=c([p.RegisterAction],Xe);let et=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["{"],this.isJump=!0}async execAction(e,t){return(0,P.getCurrentParagraphBeginning)(e)}};et=c([p.RegisterAction],et);class tt extends S.BaseMovement{constructor(){super(...arguments),this.isJump=!0}async execAction(e,t){const r=t.document;switch(r.languageId){case"python":return T.PythonDocument.moveClassBoundary(r,e,t,this.forward,this.begin)}const n=this.begin?"{":"}";let i=e.line;if(this.forward&&i===t.document.lineCount-1||!this.forward&&0===i)return d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i);for(i=this.forward?i+1:i-1;!t.document.lineAt(i).text.startsWith(n);)if(this.forward){if(i===t.document.lineCount-1)break;i++}else{if(0===i)break;i--}return d.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i)}}let rt=class extends tt{constructor(){super(...arguments),this.keys=["]","]"],this.begin=!0,this.forward=!0}};rt=c([p.RegisterAction],rt);let nt=class extends tt{constructor(){super(...arguments),this.keys=["]","["],this.begin=!1,this.forward=!0}};nt=c([p.RegisterAction],nt);let it=class extends tt{constructor(){super(...arguments),this.keys=["[","["],this.begin=!0,this.forward=!1}};it=c([p.RegisterAction],it);let ot=class extends tt{constructor(){super(...arguments),this.keys=["[","]"],this.begin=!1,this.forward=!1}};ot=c([p.RegisterAction],ot);let st=a=class extends S.BaseMovement{constructor(){super(...arguments),this.keys=["%"],this.isJump=!0}async execAction(e,t){e=e.getLeftIfEOL();const r=t.document.lineAt(e).text,n=(0,S.failedMovement)(t);for(let i=e.character;i<r.length;i++){const o=m.PairMatcher.pairings[r[i]];if(o&&o.matchesWithPercentageMotion)return m.PairMatcher.nextPairedChar(new B.Position(e.line,i),r[i],t,!1)||n}return n}async execActionForOperator(e,t){const r=await this.execAction(e,t);if((0,S.isIMovement)(r)){if(r.failed)return r;throw new Error("Did not ever handle this case!")}return e.isAfter(r)?{start:r,stop:e.getRight()}:r.getRight()}async execActionWithCount(e,t,r){if(Object.getPrototypeOf(this)===a.prototype){if(0===r)return t.recordedState.operator?this.execActionForOperator(e,t):this.execAction(e,t);if(r<0||r>100)return(0,S.failedMovement)(t);const n=Math.trunc((r*t.document.lineCount+99)/100)-1;return e.with({line:n}).obeyStartOfLine(t.document)}return super.execActionWithCount(e,t,r)}};st=a=c([p.RegisterAction],st);class at extends F{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}async execAction(e,t,r,n){const i=m.PairMatcher.pairings[this.charToMatch].match,[o,s]=(0,L.sorted)(t.cursorStartPosition,e);let a=m.PairMatcher.nextPairedChar(o,i,t,!0);if(void 0===a)return(0,S.failedMovement)(t);let c=m.PairMatcher.nextPairedChar(a,this.charToMatch,t,!0);if(void 0===c)return(0,S.failedMovement)(t);if(!this.includeSurrounding&&((0,h.isVisualMode)(t.currentMode)||!r)&&o.getLeftThroughLineBreaks(!1).isBeforeOrEqual(a)&&s.getRightThroughLineBreaks(!1).isAfterOrEqual(c)){const e=m.PairMatcher.nextPairedChar(a,i,t,!1),r=e?m.PairMatcher.nextPairedChar(e,this.charToMatch,t,!1):void 0;e&&r&&(a=e,c=r)}return this.includeSurrounding?t.currentMode!==h.Mode.Visual&&(c=new B.Position(c.line,c.character+1)):(a=a.getRightThroughLineBreaks(),c.isInLeadingWhitespace(t.document)&&(c=c.getLineBegin()),t.currentMode===h.Mode.Visual&&(c=c.getLeftThroughLineBreaks())),n&&!(0,h.isVisualMode)(t.currentMode)&&o.isBefore(a)&&(t.recordedState.operatorPositionDiff=a.subtract(o)),t.cursorStartPosition=a,{start:a,stop:c}}}t.MoveInsideCharacter=at;let ct=class extends at{constructor(){super(...arguments),this.keys=[["i","("],["i",")"],["i","b"]],this.charToMatch="("}};ct=c([p.RegisterAction],ct);let ut=class extends at{constructor(){super(...arguments),this.keys=[["a","("],["a",")"],["a","b"]],this.charToMatch="(",this.includeSurrounding=!0}};ut=c([p.RegisterAction],ut),t.MoveAroundParentheses=ut;let lt=class extends at{constructor(){super(...arguments),this.keys=[["i","{"],["i","}"],["i","B"]],this.charToMatch="{"}};lt=c([p.RegisterAction],lt);let dt=class extends at{constructor(){super(...arguments),this.keys=[["a","{"],["a","}"],["a","B"]],this.charToMatch="{",this.includeSurrounding=!0}};dt=c([p.RegisterAction],dt),t.MoveAroundCurlyBrace=dt;let ht=class extends at{constructor(){super(...arguments),this.keys=[["i","<"],["i",">"]],this.charToMatch="<"}};ht=c([p.RegisterAction],ht);let mt=class extends at{constructor(){super(...arguments),this.keys=[["a","<"],["a",">"]],this.charToMatch="<",this.includeSurrounding=!0}};mt=c([p.RegisterAction],mt),t.MoveAroundCaret=mt;let ft=class extends at{constructor(){super(...arguments),this.keys=[["i","["],["i","]"]],this.charToMatch="["}};ft=c([p.RegisterAction],ft);let pt=class extends at{constructor(){super(...arguments),this.keys=[["a","["],["a","]"]],this.charToMatch="[",this.includeSurrounding=!0}};pt=c([p.RegisterAction],pt),t.MoveAroundSquareBracket=pt;class gt extends S.BaseMovement{constructor(e=!0){super(),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualBlock],this.includeQuotes=!1,this.isJump=!0,this.adjustForTrailingWhitespace=!0,this.adjustForTrailingWhitespace=e}async execActionWithCount(e,t,r){return await super.execActionWithCount(e,t,1)}async execAction(e,t){!this.includeQuotes&&(t.recordedState.count>1||t.recordedState.operatorCount>1)&&(this.includeQuotes=!0,this.adjustForTrailingWhitespace=!1);const r=t.document.lineAt(e).text,n=new f.QuoteMatcher(this.charToMatch,r).surroundingQuotes(e.character);if(void 0===n)return(0,S.failedMovement)(t);let[i,o]=n;if(this.includeQuotes){if(this.adjustForTrailingWhitespace){const e=r.substring(o+1).search(/\S|$/);e>0?o+=e:i=r.substring(0,i).search(/\s*$/)}}else i++,o--;const s=new B.Position(e.line,i),a=new B.Position(e.line,o);return!(0,h.isVisualMode)(t.currentMode)&&e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),{start:s,stop:a}}async execActionForOperator(e,t){const r=await this.execAction(e,t);return(0,S.isIMovement)(r)&&(r.failed?(t.recordedState.hasRunOperator=!1,t.recordedState.actionsRun=[]):r.stop=r.stop.getRight()),r}}t.MoveQuoteMatch=gt;let vt=class extends gt{constructor(){super(...arguments),this.keys=["i","'"],this.charToMatch="'",this.includeQuotes=!1}};vt=c([p.RegisterAction],vt);let yt=class extends gt{constructor(){super(...arguments),this.keys=["a","'"],this.charToMatch="'",this.includeQuotes=!0}};yt=c([p.RegisterAction],yt),t.MoveAroundSingleQuotes=yt;let wt=class extends gt{constructor(){super(...arguments),this.keys=["i",'"'],this.charToMatch='"',this.includeQuotes=!1}};wt=c([p.RegisterAction],wt);let bt=class extends gt{constructor(){super(...arguments),this.keys=["a",'"'],this.charToMatch='"',this.includeQuotes=!0}};bt=c([p.RegisterAction],bt),t.MoveAroundDoubleQuotes=bt;let Ct=class extends gt{constructor(){super(...arguments),this.keys=["i","`"],this.charToMatch="`",this.includeQuotes=!1}};Ct=c([p.RegisterAction],Ct);let St=class extends gt{constructor(){super(...arguments),this.keys=["a","`"],this.charToMatch="`",this.includeQuotes=!0}};St=c([p.RegisterAction],St),t.MoveAroundBacktick=St;let xt=class extends st{constructor(){super(...arguments),this.keys=["[","("]}async execAction(e,t){return m.PairMatcher.nextPairedChar(e,")",t,!1)||(0,S.failedMovement)(t)}};xt=c([p.RegisterAction],xt);let Mt=class extends st{constructor(){super(...arguments),this.keys=["]",")"]}async execAction(e,t){const r=m.PairMatcher.nextPairedChar(e,"(",t,!1);return r?t.recordedState.operator instanceof l.ChangeOperator||t.recordedState.operator instanceof l.DeleteOperator||t.recordedState.operator instanceof l.YankOperator?r.getLeftThroughLineBreaks():r:(0,S.failedMovement)(t)}};Mt=c([p.RegisterAction],Mt);let Et=class extends st{constructor(){super(...arguments),this.keys=["[","{"]}async execAction(e,t){return m.PairMatcher.nextPairedChar(e,"}",t,!1)||(0,S.failedMovement)(t)}};Et=c([p.RegisterAction],Et);let _t=class extends st{constructor(){super(...arguments),this.keys=["]","}"]}async execAction(e,t){const r=m.PairMatcher.nextPairedChar(e,"{",t,!1);return r?t.recordedState.operator instanceof l.ChangeOperator||t.recordedState.operator instanceof l.DeleteOperator||t.recordedState.operator instanceof l.YankOperator?r.getLeftThroughLineBreaks():r:(0,S.failedMovement)(t)}};_t=c([p.RegisterAction],_t);class kt extends F{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualBlock],this.includeTag=!1,this.isJump=!0}async execAction(e,t){const r=t.document.getText(),n=t.document.offsetAt(e),i=new y.TagMatcher(r,n,t),o=i.findOpening(this.includeTag),s=i.findClosing(this.includeTag);if(void 0===o||void 0===s)return(0,S.failedMovement)(t);const a=o>=0?t.document.positionAt(o):t.cursorStartPosition;let c=s>=0?t.document.positionAt(s):e;return t.currentMode!==h.Mode.Visual&&t.currentMode!==h.Mode.SurroundInputMode||(c=c.getLeftThroughLineBreaks()),e.isAfter(c)?t.recordedState.transformer.addTransformation({type:"moveCursor",diff:c.subtract(e)}):e.isBefore(a)&&t.recordedState.transformer.addTransformation({type:"moveCursor",diff:a.subtract(e)}),t.cursorStartPosition=a,{start:a,stop:c}}}let At=class extends kt{constructor(){super(...arguments),this.keys=["i","t"],this.includeTag=!1}};At=c([p.RegisterAction],At),t.MoveInsideTag=At;let Rt=class extends kt{constructor(){super(...arguments),this.keys=["a","t"],this.includeTag=!0}};Rt=c([p.RegisterAction],Rt),t.MoveAroundTag=Rt},3176:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ROT13Operator=t.ChangeOperator=t.YankOperator=t.DeleteOperator=t.BaseOperator=void 0;const s=r(7549),a=r(4880),c=r(7536),u=r(4379),l=r(7125),d=r(1797),h=r(785),m=r(9066),f=r(8965),p=r(7541),g=r(7549);class v extends h.BaseAction{constructor(e){super(),this.isOperator=!0,this.canBeRepeatedWithDot=!0,this.multicursorIndex=e}doesActionApply(e,t){return!(!this.doesRepeatedOperatorApply(e,t)&&(!this.modes.includes(e.currentMode)||!h.BaseAction.CompareKeypressSequence(this.keys,t)||this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0||this instanceof v&&e.recordedState.operator))}couldActionApply(e,t){return!(!this.modes.includes(e.currentMode)||!h.BaseAction.CompareKeypressSequence(this.keys.slice(0,t.length),t)||this.mustBeFirstKey&&e.recordedState.commandWithoutCountPrefix.length-t.length>0||this instanceof v&&e.recordedState.operator)}doesRepeatedOperatorApply(e,t){const r=e.recordedState.actionsRun.filter((e=>!(e instanceof m.CommandNumber))),n=r[r.length-1];return 1===t.length&&n&&this.modes.includes(e.currentMode)&&n.constructor===this.constructor&&h.BaseAction.CompareKeypressSequence(n.keysPressed.slice(-1),t)}async runRepeat(e,t,r){e.currentRegisterMode=l.RegisterMode.LineWise,await this.run(e,t.getLineBegin(),t.getDown(Math.max(0,r-1)).getLineEnd())}highlightYankedRanges(e,t){if(!c.configuration.highlightedyank.enable)return;const r=s.window.createTextEditorDecorationType({backgroundColor:c.configuration.highlightedyank.color,color:c.configuration.highlightedyank.textColor});e.editor.setDecorations(r,t),setTimeout((()=>r.dispose()),c.configuration.highlightedyank.duration)}}t.BaseOperator=v;let y=class extends v{constructor(){super(...arguments),this.keys=["d"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine]}async run(e,t,r){const n=Math.abs(t.line-r.line)+1;e.currentRegisterMode===l.RegisterMode.LineWise&&(t=t.getLineBegin(),r=r.getLineEnd());const i=(r=new g.Position(r.line,r.character+1)).line===e.document.lineCount-1;e.currentMode===u.Mode.VisualBlock||i||r.character!==e.document.lineAt(r).text.length+1||(r=new g.Position(r.line+1,0));let o,c=e.document.getText(new s.Range(t,r));e.currentRegisterMode===l.RegisterMode.LineWise&&(c=c.endsWith("\r\n")?c.slice(0,-2):c.endsWith("\n")?c.slice(0,-1):c),l.Register.put(e,c,this.multicursorIndex,!0),i&&0!==t.line&&e.currentRegisterMode===l.RegisterMode.LineWise&&(t=t.getUp().getLineEnd()),e.currentRegisterMode===l.RegisterMode.LineWise?o=a.PositionDiff.startOfLine():t.character>e.document.lineAt(t).text.length&&(o=a.PositionDiff.offset({character:-1})),e.recordedState.transformer.addTransformation({type:"deleteRange",range:new s.Range(t,r),diff:o}),await e.setCurrentMode(u.Mode.Normal),(0,f.reportLinesChanged)(-n,e)}};y=o([h.RegisterAction],y),t.DeleteOperator=y;let w=class extends v{constructor(){super(...arguments),this.keys=["D"],this.modes=[u.Mode.Visual,u.Mode.VisualLine]}async run(e,t,r){e.currentRegisterMode=l.RegisterMode.LineWise,await new y(this.multicursorIndex).run(e,t,r)}};w=o([h.RegisterAction],w);let b=class extends v{constructor(){super(...arguments),this.keys=["y"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine],this.canBeRepeatedWithDot=!1}async run(e,t,r){[t,r]=(0,a.sorted)(t,r);let n=new g.Position(r.line,r.character+1);e.currentRegisterMode===l.RegisterMode.LineWise&&(t=t.getLineBegin(),n=n.getLineEnd());const i=new s.Range(t,n);let o=e.document.getText(i);e.currentMode===u.Mode.Visual&&n.character===e.document.lineAt(n).text.length+1&&(o+="\n"),this.highlightYankedRanges(e,[i]),l.Register.put(e,o,this.multicursorIndex,!0),e.cursorStopPosition=e.currentMode===u.Mode.Normal&&e.currentRegisterMode===l.RegisterMode.LineWise?t.with({character:e.cursorStopPosition.character}):t,await e.setCurrentMode(u.Mode.Normal);const c=o.split("\n").length;(0,f.reportLinesYanked)(c,e)}};b=o([h.RegisterAction],b),t.YankOperator=b;let C=class extends v{constructor(){super(...arguments),this.keys=["!"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){[t,r]=(0,a.sorted)(t,r),e.currentMode===u.Mode.Normal&&t.line===r.line?e.currentCommandlineText=".!":e.currentMode===u.Mode.Normal&&t.line!==r.line?e.currentCommandlineText=`.,.+${r.line-t.line}!`:e.currentCommandlineText="'<,'>!",e.cursorStartPosition=t,e.currentMode===u.Mode.Normal?e.cursorStopPosition=t:e.cursors=e.cursorsInitialState,e.statusBarCursorCharacterPos=e.currentCommandlineText.length,p.commandLine.previousMode=e.currentMode,await e.setCurrentMode(u.Mode.CommandlineInProgress),p.commandLine.commandLineHistoryIndex=p.commandLine.historyEntries.length}};C=o([h.RegisterAction],C);let S=class extends v{constructor(){super(...arguments),this.keys=["Y"],this.modes=[u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){e.currentRegisterMode=l.RegisterMode.LineWise,await new b(this.multicursorIndex).run(e,t,r)}};S=o([h.RegisterAction],S);let x=class extends v{constructor(){super(...arguments),this.keys=[["x"],["<Del>"]],this.modes=[u.Mode.Visual,u.Mode.VisualLine]}async run(e,t,r){await new y(this.multicursorIndex).run(e,t,r)}};x=o([h.RegisterAction],x);let M=class extends v{constructor(){super(...arguments),this.keys=["s"],this.modes=[u.Mode.Visual,u.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&!c.configuration.sneak}async run(e,t,r){await new D(this.multicursorIndex).run(e,t,r)}};M=o([h.RegisterAction],M);let E=class extends v{constructor(){super(...arguments),this.keys=["="],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){e.editor.selection=new s.Selection(t.getLineBegin(),r.getLineEnd()),await s.commands.executeCommand("editor.action.formatSelection");let n=e.cursorStartPosition.line;e.cursorStartPosition.isAfter(e.cursorStopPosition)&&(n=e.cursorStopPosition.line);const i=d.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,n);e.cursorStopPosition=i,e.cursorStartPosition=i,await e.setCurrentMode(u.Mode.Normal)}};E=o([h.RegisterAction],E);class _ extends v{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){if(e.currentMode===u.Mode.VisualBlock){for(const{start:t,end:r}of d.TextEditor.iterateLinesInBlock(e)){const n=new s.Range(t,r);e.recordedState.transformer.replace(n,this.transformText(e.document.getText(n)))}for(let n=0;n<e.editor.selections.length;n++)e.recordedState.transformer.addTransformation({type:"moveCursor",diff:a.PositionDiff.exactPosition((0,a.earlierOf)(t,r)),cursorIndex:n})}else{e.currentRegisterMode===l.RegisterMode.LineWise&&(t=t.getLineBegin(),r=r.getLineEnd());const n=new s.Range(t,new g.Position(r.line,r.character+1));e.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:this.transformText(e.document.getText(n)),diff:a.PositionDiff.exactPosition(t)})}await e.setCurrentMode(u.Mode.Normal)}}let k=class extends _{constructor(){super(...arguments),this.keys=[["g","U"],["U"]]}transformText(e){return e.toUpperCase()}};k=o([h.RegisterAction],k);let A=class extends k{constructor(){super(...arguments),this.keys=[["g","U"]],this.modes=[u.Mode.Normal]}};A=o([h.RegisterAction],A);let R=class extends _{constructor(){super(...arguments),this.keys=[["g","u"],["u"]]}transformText(e){return e.toLowerCase()}};R=o([h.RegisterAction],R);let P=class extends R{constructor(){super(...arguments),this.keys=[["g","u"]],this.modes=[u.Mode.Normal]}};P=o([h.RegisterAction],P);let T=class extends _{constructor(){super(...arguments),this.keys=[["g","~"],["~"]]}transformText(e){let t="";for(const r of e){let e=r.toLocaleLowerCase();e===r&&(e=r.toLocaleUpperCase()),t+=e}return t}};T=o([h.RegisterAction],T);let B=class extends T{constructor(){super(...arguments),this.keys=[["g","~"]],this.modes=[u.Mode.Normal]}};B=o([h.RegisterAction],B);let L=class extends v{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=[">"]}async run(e,t,r){e.editor.selection=new s.Selection(t.getLineBegin(),r.getLineEnd()),await s.commands.executeCommand("editor.action.indentLines"),await e.setCurrentMode(u.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(e.document)}};L=o([h.RegisterAction],L);let O=class extends v{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock],this.keys=[">"]}async run(e,t,r){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new s.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await s.commands.executeCommand("editor.action.indentLines");await e.setCurrentMode(u.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(e.document)}};O=o([h.RegisterAction],O);let $=class extends v{constructor(){super(...arguments),this.modes=[u.Mode.Normal],this.keys=["<"]}async run(e,t,r){e.editor.selection=new s.Selection(t,r.getLineEnd()),await s.commands.executeCommand("editor.action.outdentLines"),await e.setCurrentMode(u.Mode.Normal),e.cursorStopPosition=d.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,t.line)}};$=o([h.RegisterAction],$);let F=class extends v{constructor(){super(...arguments),this.modes=[u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock],this.keys=["<"]}async run(e,t,r){if(e.isRunningDotCommand&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new s.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await s.commands.executeCommand("editor.action.outdentLines");await e.setCurrentMode(u.Mode.Normal),e.cursorStopPosition=d.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,t.line)}};F=o([h.RegisterAction],F);let D=class extends v{constructor(){super(...arguments),this.keys=["c"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine]}async run(e,t,r){e.currentRegisterMode===l.RegisterMode.LineWise?(t=t.getLineBegin(),r=r.getLineEnd()):r=e.currentMode===u.Mode.Visual&&r.isLineEnd()?r.getRightThroughLineBreaks():r.getRight();const n=new s.Range(t,r);if(l.Register.put(e,e.document.getText(n),this.multicursorIndex,!0),e.currentRegisterMode===l.RegisterMode.LineWise&&c.configuration.autoindent){const t=e.document.getText(new s.Range(n.start.getLineBegin(),n.start.getLineBeginRespectingIndent(e.document)));e.recordedState.transformer.replace(n,t,a.PositionDiff.exactPosition(new g.Position(n.start.line,t.length))),"plaintext"!==e.document.languageId&&e.recordedState.transformer.addTransformation({type:"reindent",cursorIndex:this.multicursorIndex,diff:a.PositionDiff.endOfLine()})}else e.recordedState.transformer.delete(n);e.setCurrentMode(u.Mode.Insert)}};D=o([h.RegisterAction],D),t.ChangeOperator=D;let I=class extends v{constructor(){super(...arguments),this.keys=["y"],this.modes=[u.Mode.VisualBlock],this.canBeRepeatedWithDot=!1}runsOnceForEveryCursor(){return!1}async run(e,t,r){const n=[],i=[];for(const{line:t,start:r,end:o}of d.TextEditor.iterateLinesInBlock(e))i.push(t),n.push(new s.Range(r,o));e.currentRegisterMode=l.RegisterMode.BlockWise,this.highlightYankedRanges(e,n),l.Register.put(e,i.join("\n"),this.multicursorIndex,!0),e.historyTracker.addMark(t,"<"),e.historyTracker.addMark(r,">");const o=i.length;(0,f.reportLinesYanked)(o,e),await e.setCurrentMode(u.Mode.Normal),e.cursorStopPosition=t}};I=o([h.RegisterAction],I);let j=class extends v{constructor(){super(...arguments),this.keys=["g","c"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){e.editor.selection=new s.Selection(t.getLineBegin(),r.getLineEnd()),await s.commands.executeCommand("editor.action.commentLine"),e.cursorStopPosition=new g.Position(t.line,0),await e.setCurrentMode(u.Mode.Normal)}};j=o([h.RegisterAction],j);let N=n=class extends v{constructor(){super(...arguments),this.keys=["g","?"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine,u.Mode.VisualBlock]}async run(e,t,r){let i;i=(0,u.isVisualMode)(e.currentMode)?e.editor.selections:e.currentRegisterMode===l.RegisterMode.LineWise?[new s.Selection(t.getLineBegin(),r.getLineEnd())]:[new s.Selection(t,r.getRight())];for(const t of i){const r=e.document.getText(t);e.recordedState.transformer.replace(t,n.rot13(r))}}static rot13(e){return e.split("").map((e=>{let t=e.charCodeAt(0);if(e>="a"&&e<="z"){const e="a".charCodeAt(0);t=(t-e+13)%26+e}if(e>="A"&&e<="Z"){const e="A".charCodeAt(0);t=(t-e+13)%26+e}return String.fromCharCode(t)})).join("")}};N=n=o([h.RegisterAction],N),t.ROT13Operator=N;let V=class extends v{constructor(){super(...arguments),this.keys=["g","C"],this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine]}async run(e,t,r){if(e.currentMode===u.Mode.Normal){const n=r.getRight();e.editor.selection=new s.Selection(t,n)}await s.commands.executeCommand("editor.action.blockComment"),e.cursorStopPosition=t,await e.setCurrentMode(u.Mode.Normal)}};V=o([h.RegisterAction],V);let W=i=class extends v{constructor(){super(...arguments),this.modes=[u.Mode.Normal,u.Mode.Visual,u.Mode.VisualLine],this.keys=["g","q"]}getIndentation(e){for(const t of e.split("\n")){const e=t.match(/^\s+/g),r=e?e[0]:"";if(r!==t)return r}return""}reflowParagraph(e){const t=this.getIndentation(e);let r=0;for(const e of t)r+="\t"===e?c.configuration.tabstop:1;const n=c.configuration.textwidth-r,o=[];for(const t of e.split("\n")){let e=o[o.length-1];const r=t.trimStart();let n;for(const t of i.CommentTypes){if(r.startsWith(t.start)){n=t;break}if(e&&!e.final&&t.start===e.commentType.start&&!t.singleLine){if(r.startsWith(t.inner)){n=t;break}if(r.endsWith(t.final)){n=t;break}}}if(!n)break;if(e&&!e.final&&n.start===e.commentType.start){if(e=o[o.length-1],e.commentType.singleLine)e.content+=`\n${r.substr(e.commentType.start.length).trimStart()}`;else if(!e.final)if(r.endsWith(e.commentType.final)){e.final=!0;const t=r.startsWith(e.commentType.inner)?e.commentType.inner.length:0;e.content+=`\n${r.substr(t,r.length-e.commentType.final.length-t).trim()}`}else r.startsWith(e.commentType.inner)?e.content+=`\n${r.substr(e.commentType.inner.length).trimStart()}`:r.startsWith(e.commentType.start)&&(e.content+=`\n${r.substr(e.commentType.start.length).trimStart()}`)}else{const e={commentType:n,content:`${r.substr(n.start.length).trimStart()}`,indentLevelAfterComment:0,final:!1};n.singleLine?e.indentLevelAfterComment=r.substr(n.start.length).length-e.content.length:e.content.endsWith(n.final)&&(e.content=e.content.substr(0,e.content.length-n.final.length).trim(),e.final=!0),o.push(e)}}const s=[];for(const{commentType:e,content:r,indentLevelAfterComment:i}of o){let o;const a=Array(i+1).join(" "),u=e.start.length+a.length;o=[""];for(let e of r.split("\n"))if(""!==e.trim())for(;e;){const t=o[o.length-1];let r;r=t?c.configuration.joinspaces&&(t.endsWith(".")||t.endsWith("?")||t.endsWith("!"))?"  ":t.endsWith(" ")?c.configuration.joinspaces&&(t.endsWith(". ")||t.endsWith("? ")||t.endsWith("! "))?" ":"":" ":"";const i=n-r.length-t.length-u,s=e.trimStart();if(s.length<=i){o[o.length-1]+=`${r}${s}`;break}{let n=Math.max(s.lastIndexOf(" ",i),s.lastIndexOf("\t",i));if(n<0){if(t){o.push("");continue}n=s.search(/[ \t]/),n<0&&(n=e.length)}o[o.length-1]+=`${r}${s.slice(0,n).trimEnd()}`,e=e.slice(n+1),o.push("")}}else""===o[o.length-1]&&o.pop(),o.push(e),o.push("");""===o[o.length-1]&&o.pop();for(let r=0;r<o.length;r++)e.singleLine?o[r]=`${t}${e.start}${a}${o[r]}`:0===r?(""===o[r]?o[r]=`${t}${e.start}`:o[r]=`${t}${e.start} ${o[r]}`,r===o.length-1&&(o[r]+=` ${e.final}`)):r===o.length-1?""===o[r]?o[r]=`${t} ${e.final}`:o[r]=`${t} ${e.inner} ${o[r]} ${e.final}`:""===o[r]?o[r]=`${t} ${e.inner}`:o[r]=`${t} ${e.inner} ${o[r]}`;s.push(...o)}return s.join("\n")}async run(e,t,r){[t,r]=(0,a.sorted)(t,r),t=t.getLineBegin(),r=r.getLineEnd();let n=e.document.getText(new s.Range(t,r));n=this.reflowParagraph(n),e.recordedState.transformer.addTransformation({type:"replaceText",text:n,range:new s.Range(t,r),diff:a.PositionDiff.exactCharacter({character:0})}),await e.setCurrentMode(u.Mode.Normal)}};W.CommentTypes=[{singleLine:!1,start:"/**",inner:"*",final:"*/"},{singleLine:!1,start:"/*",inner:"*",final:"*/"},{singleLine:!1,start:"{-",inner:"-",final:"-}"},{singleLine:!0,start:"///"},{singleLine:!0,start:"//!"},{singleLine:!0,start:"//"},{singleLine:!0,start:"--"},{singleLine:!0,start:"#"},{singleLine:!0,start:";"},{singleLine:!0,start:"*"},{singleLine:!0,start:"%"},{singleLine:!0,start:""}],W=i=o([h.RegisterAction],W)},7037:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(3838),o=r(785),s=r(4379),a=r(3193),c=r(7536),u=r(3176),l=r(8019),d=r(7549);class h extends a.BaseMovement{doesActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}class m extends i.TextObject{doesActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}let f=class extends h{constructor(){super(...arguments),this.keys=["<leader>","w"]}async execAction(e,t){return!c.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof u.ChangeOperator?e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight():e.nextWordStart(t.document,{wordType:l.WordType.CamelCase})}};f=n([o.RegisterAction],f);let p=class extends h{constructor(){super(...arguments),this.keys=["<leader>","e"]}async execAction(e,t){return e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase})}async execActionForOperator(e,t){const r=e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase});return new d.Position(r.line,r.character+1)}};p=n([o.RegisterAction],p);let g=class extends h{constructor(){super(...arguments),this.keys=["<leader>","b"]}async execAction(e,t){return e.prevWordStart(t.document,{wordType:l.WordType.CamelCase})}};g=n([o.RegisterAction],g);let v=class extends m{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual],this.keys=["i","<leader>","w"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return/\s/.test(i)?(r=e.prevWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight(),n=e.nextWordStart(t.document,{wordType:l.WordType.CamelCase}).getLeftThroughLineBreaks()):(r=e.prevWordStart(t.document,{wordType:l.WordType.CamelCase,inclusive:!0}),n=e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase,inclusive:!0})),t.currentMode!==s.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight():e.prevWordStart(t.document,{wordType:l.WordType.CamelCase,inclusive:!0}))),{start:r,stop:n}}};v=n([o.RegisterAction],v)},6953:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotionLineMoveCommandBase=t.EasyMotionWordMoveCommandBase=t.EasyMotionCharMoveCommandBase=t.SearchByNCharCommand=t.SearchByCharCommand=t.buildTriggerKeys=void 0;const i=r(7536),o=r(4379),s=r(785),a=r(3345),c=r(9138),u=r(1797),l=r(4091),d=r(7549);t.buildTriggerKeys=function(e){return[...Array.from({length:e.leaderCount||2},(()=>"<leader>")),...e.key.split("")]};class h extends s.BaseCommand{constructor(e){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._baseOptions=e}processMarkers(e,t,r){r.easyMotion.clearMarkers();let n=0;const i=new l.MarkerGenerator(e.length);for(const o of e){const e=this.resolveMatchPosition(o);if(!e.isEqual(t)){const t=i.generateMarker(n++,e);t&&r.easyMotion.addMarker(t)}}}searchOptions(e){switch(this._baseOptions.searchOptions){case"min":return{min:e};case"max":return{max:e};default:return{}}}async exec(e,t){if(i.configuration.easymotion){const r=this.getMatches(e,t);if((0,o.isVisualMode)(t.easyMotion.previousMode)&&(t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end),r.length>0)if(t.easyMotion=new a.EasyMotion,this.processMarkers(r,e,t),1===r.length){const e=t.easyMotion.markers[0];t.cursorStopPosition=e.position,t.easyMotion.clearDecorations(t.editor)}else t.easyMotion.previousMode=t.currentMode,await t.setCurrentMode(o.Mode.EasyMotionMode)}}}function m(e,t,r,n){switch(r){case"":return[];case" ":return t.easyMotion.sortedSearch(t.document,e,new RegExp(" {1,}","g"),n);default:if(!/[a-zA-Z]/.test(r))return t.easyMotion.sortedSearch(t.document,e,r,n);const o=!i.configuration.ignorecase||i.configuration.smartcase&&/[A-Z]/.test(r)?"g":"gi";return t.easyMotion.sortedSearch(t.document,e,new RegExp(r,o),n)}}t.SearchByCharCommand=class extends h{constructor(e){super(e),this.keys=[],this.searchString="",this._options=e}get searchCharCount(){return this._options.charCount}getMatches(e,t){return m(e,t,this.searchString,this.searchOptions(e))}shouldFire(){const e=this._options.charCount;return!e||this.searchString.length>=e}async fire(e,t){await this.exec(e,t)}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new d.Position(t,r+this._options.charCount);case"before":return new d.Position(t,Math.max(0,r-1));default:return e.position}}},t.SearchByNCharCommand=class extends h{constructor(){super({}),this.keys=[],this.searchString=""}get searchCharCount(){return-1}resolveMatchPosition(e){return e.position}getMatches(e,t){return m(e,t,this.removeTrailingLineBreak(this.searchString),{})}removeTrailingLineBreak(e){return e.replace(new RegExp("\n+$","g"),"")}shouldFire(){return this.searchString.endsWith("\n")}async fire(e,t){""!==this.removeTrailingLineBreak(this.searchString)&&await this.exec(e,t)}};class f extends s.BaseCommand{constructor(e){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._action=e}async exec(e,t){i.configuration.easymotion&&(t.easyMotion=new a.EasyMotion,t.easyMotion.previousMode=t.currentMode,t.easyMotion.searchAction=this._action,c.globalState.hl=!0,await t.setCurrentMode(o.Mode.EasyMotionInputMode))}}t.EasyMotionCharMoveCommandBase=f,t.EasyMotionWordMoveCommandBase=class extends h{constructor(e={}){super(e),this._options=e}getMatches(e,t){return this.getMatchesForWord(e,t,this.searchOptions(e))}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new d.Position(t,r+e.text.length-1);default:return e.position}}getMatchesForWord(e,t,r){const n=this._options.jumpToAnywhere?new RegExp(i.configuration.easymotionJumpToAnywhereRegex,"g"):new RegExp("\\w{1,}","g");return t.easyMotion.sortedSearch(t.document,e,n,r)}},t.EasyMotionLineMoveCommandBase=class extends h{constructor(e={}){super(e),this._options=e}resolveMatchPosition(e){return e.position}getMatches(e,t){return this.getMatchesForLineStart(e,t,this.searchOptions(e))}getMatchesForLineStart(e,t,r){const n=t.easyMotion.sortedSearch(t.document,e,new RegExp("^.","gm"),r);for(const e of n)e.position=u.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.position.line);return n}};let p=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[0],n=t.easyMotion.searchAction;n.searchString="<BS>"===r||"<S-BS>"===r?n.searchString.slice(0,-1):n.searchString+r,n.shouldFire()&&(await t.setCurrentMode(t.easyMotion.previousMode),await n.fire(t.cursorStopPosition,t))}};p=n([s.RegisterAction],p);let g=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<Esc>"]}async exec(e,t){await t.setCurrentMode(o.Mode.Normal)}};g=n([s.RegisterAction],g);let v=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionMode],this.keys=["<character>"],this.isJump=!0}async exec(e,t){const r=this.keysPressed[0];if(r){const e=t.easyMotion.accumulation+r;t.easyMotion.accumulation=e;const n=t.easyMotion.findMarkers(e,!0);if((0,o.isVisualMode)(t.easyMotion.previousMode)&&(t.cursorStartPosition=t.lastVisualSelection.start,t.cursorStopPosition=t.lastVisualSelection.end),1===n.length){const e=n[0];t.easyMotion.clearDecorations(t.editor),await t.setCurrentMode(t.easyMotion.previousMode),t.cursorStopPosition=e.position}else 0===n.length&&(t.easyMotion.clearDecorations(t.editor),await t.setCurrentMode(t.easyMotion.previousMode))}}};v=n([s.RegisterAction],v)},3345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotion=void 0;const n=r(7549),i=r(7536),o=r(1797),s=r(1541),a=r(7549);class c{constructor(){this.accumulation="",this.markers=[],this.visibleMarkers=[],this.decorations=[]}static getDecorationType(e,t){const r=this.decorationTypeCache[e];if(r)return r;{const r=n.window.createTextEditorDecorationType(t||{});return this.decorationTypeCache[e]=r,r}}clearDecorations(e){for(let t=1;t<=this.decorations.length;t++)e.setDecorations(c.getDecorationType(t),[]);e.setDecorations(c.fade,[]),e.setDecorations(c.hide,[])}clearMarkers(){for(;this.markers.length;)this.markers.pop();this.visibleMarkers=[]}addMarker(e){this.markers.push(e)}findMarkers(e,t){return(t?this.visibleMarkers:this.markers).filter((t=>t.name.startsWith(e)))}sortedSearch(e,t,r="",n={}){const i="string"==typeof r?new RegExp(r.replace(c.specialCharactersRegex,"\\$&"),"g"):r,o=[];let u,l=t.character;const d=e.lineCount,h=n.min?Math.max(n.min.line,0):0,m=n.max?Math.min(n.max.line+1,d):d;e:for(let r=h;r<m;r++){const c=e.lineAt(r).text;let d=i.exec(c);for(;d;){if(o.length>=1e3)break e;{const e=new a.Position(r,d.index);n.min&&e.isBefore(n.min)||n.max&&e.isAfter(n.max)||Math.abs(e.line-t.line)>100||(u&&!u.position.isBefore(t)||(l=o.length),e.isEqual(t)||(u=new s.Match(e,d[0],o.length),o.push(u))),d=i.exec(c)}}}return o.sort(((e,t)=>{return r(e.index)-r(t.index);function r(e){const t=Math.abs(l-e);return e<l?t-.5:t}})),o}getMarkerColor(e,t){return e||(t.startsWith("#")?t:new n.ThemeColor(t))}getEasymotionMarkerBackgroundColor(){return this.getMarkerColor(i.configuration.easymotionMarkerBackgroundColor,"#0000")}getEasymotionMarkerForegroundColorOneChar(){return this.getMarkerColor(i.configuration.easymotionMarkerForegroundColorOneChar,"#ff0000")}getEasymotionMarkerForegroundColorTwoCharFirst(){return this.getMarkerColor(i.configuration.easymotionMarkerForegroundColorTwoCharFirst,"#ffb400")}getEasymotionMarkerForegroundColorTwoCharSecond(){return this.getMarkerColor(i.configuration.easymotionMarkerForegroundColorTwoCharSecond,"#b98300")}getEasymotionDimColor(){return this.getMarkerColor(i.configuration.easymotionDimColor,"#777777")}updateDecorations(e){this.clearDecorations(e),this.visibleMarkers=[],this.decorations=[];const t=[],r={color:this.getEasymotionDimColor()},s=[],u=this.markers.filter((e=>e.name.startsWith(this.accumulation))).sort(((e,t)=>e.position.isBefore(t.position)?-1:1));for(const e of u){const o=e.position,a=e.name.substr(this.accumulation.length);this.decorations[a.length]||(this.decorations[a.length]=[]);let c=0;const l=u[u.indexOf(e)+1];if(l&&l.position.character-o.character==1&&l.position.line===o.line){const e=l.name.substr(this.accumulation.length);a.length>1&&e.length>1&&(c=-1)}const d=a.length>1?this.getEasymotionMarkerForegroundColorTwoCharFirst():this.getEasymotionMarkerForegroundColorOneChar(),h=this.getEasymotionMarkerBackgroundColor(),m=new n.Range(o.line,o.character,o.line,o.character),f={before:{contentText:a.substring(0,1),backgroundColor:h,color:d,margin:`0 -1ch 0 0;\n          position: absolute;\n          font-weight: ${i.configuration.easymotionMarkerFontWeight};`,height:"100%"}};if(this.decorations[a.length].push({range:m,renderOptions:{dark:f,light:f}}),a.length+c>1){const e=this.getEasymotionMarkerForegroundColorTwoCharSecond(),t=new n.Range(o.line,o.character+1,o.line,o.character+1),r={before:{contentText:a.slice(1),backgroundColor:h,color:e,margin:`0 -1ch 0 0;\n            position: absolute;\n            font-weight: ${i.configuration.easymotionMarkerFontWeight};`,height:"100%"}};this.decorations[a.length].push({range:t,renderOptions:{dark:r,light:r}})}if(s.push(new n.Range(o.line,o.character,o.line,o.character+a.length+c)),i.configuration.easymotionDimBackground)if(0===t.length)t.push({range:new n.Range(0,0,o.line,o.character),renderOptions:r});else{const i=u[u.indexOf(e)-1],s=i.name.substr(this.accumulation.length),a=i.position,c=a.withColumn(a.character+s.length);c.isAfterOrEqual(o)||t.push({range:new n.Range(c.line,c.character,o.line,o.character),renderOptions:r})}this.visibleMarkers.push(e)}if(i.configuration.easymotionDimBackground){const i=u[u.length-1].name.substr(this.accumulation.length),s=t[t.length-1].range.end,c=s.withColumn(s.character+i.length);c.isEqual(o.TextEditor.getDocumentEnd(e.document))||t.push({range:new n.Range(c,new a.Position(e.document.lineCount,Number.MAX_VALUE)),renderOptions:r})}for(let t=1;t<this.decorations.length;t++)this.decorations[t]&&e.setDecorations(c.getDecorationType(t),this.decorations[t]);e.setDecorations(c.hide,s),i.configuration.easymotionDimBackground&&e.setDecorations(c.fade,t)}}t.EasyMotion=c,c.fade=n.window.createTextEditorDecorationType({color:i.configuration.easymotionDimColor}),c.hide=n.window.createTextEditorDecorationType({color:"transparent"}),c.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,c.decorationTypeCache=[]},4091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerGenerator=void 0;const n=r(7536);t.MarkerGenerator=class{constructor(e){this.matchesCount=e,this.keyTable=this.getKeyTable(),this.prefixKeyTable=this.createPrefixKeyTable()}generateMarker(e,t){const{keyTable:r,prefixKeyTable:n}=this;if(e>=r.length-n.length){const i=e-(r.length-n.length),o=Math.floor(i/r.length)+1;return o>n.length?null:{name:n[o-1]+r[i%r.length],position:t}}return{name:r[e],position:t}}createPrefixKeyTable(){const e=Math.max(this.matchesCount-this.keyTable.length,0),t=Math.ceil(e/this.keyTable.length),r=this.keyTable.slice().reverse(),n=Math.min(t,r.length);return r.slice(0,n)}getKeyTable(){return n.configuration.easymotionKeys?n.configuration.easymotionKeys.split(""):"hklyuiopnm,qwertzxcvbasdgjf;".split("")}}},9998:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(785),o=r(6953);let s=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByNCharCommand),this.keys=(0,o.buildTriggerKeys)({key:"/"})}};s=n([i.RegisterAction],s);let a=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2})),this.keys=(0,o.buildTriggerKeys)({key:"2s"})}};a=n([i.RegisterAction],a);let c=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"min"})),this.keys=(0,o.buildTriggerKeys)({key:"2f"})}};c=n([i.RegisterAction],c);let u=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"max"})),this.keys=(0,o.buildTriggerKeys)({key:"2F"})}};u=n([i.RegisterAction],u);let l=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"min",labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"2t"})}};l=n([i.RegisterAction],l);let d=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"bd2t",leaderCount:3})}};d=n([i.RegisterAction],d);let h=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"max",labelPosition:"after"})),this.keys=(0,o.buildTriggerKeys)({key:"2T"})}};h=n([i.RegisterAction],h);let m=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1})),this.keys=(0,o.buildTriggerKeys)({key:"s"})}};m=n([i.RegisterAction],m);let f=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"min"})),this.keys=(0,o.buildTriggerKeys)({key:"f"})}};f=n([i.RegisterAction],f);let p=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"max"})),this.keys=(0,o.buildTriggerKeys)({key:"F"})}};p=n([i.RegisterAction],p);let g=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"min",labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"t"})}};g=n([i.RegisterAction],g);let v=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"bdt",leaderCount:3})}};v=n([i.RegisterAction],v);let y=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"max",labelPosition:"after"})),this.keys=(0,o.buildTriggerKeys)({key:"T"})}};y=n([i.RegisterAction],y);let w=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"min"}),this.keys=(0,o.buildTriggerKeys)({key:"w"})}};w=n([i.RegisterAction],w);let b=class extends o.EasyMotionWordMoveCommandBase{constructor(){super(...arguments),this.keys=(0,o.buildTriggerKeys)({key:"bdw",leaderCount:3})}};b=n([i.RegisterAction],b);let C=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,searchOptions:"min",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"l"})}};C=n([i.RegisterAction],C);let S=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,searchOptions:"max",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"h"})}};S=n([i.RegisterAction],S);let x=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"j",leaderCount:3})}};x=n([i.RegisterAction],x);let M=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"min",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"e"})}};M=n([i.RegisterAction],M);let E=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"bde",leaderCount:3})}};E=n([i.RegisterAction],E);let _=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"max"}),this.keys=(0,o.buildTriggerKeys)({key:"b"})}};_=n([i.RegisterAction],_);let k=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"max",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"ge"})}};k=n([i.RegisterAction],k);let A=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({searchOptions:"min"}),this.keys=(0,o.buildTriggerKeys)({key:"j"})}};A=n([i.RegisterAction],A);let R=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({searchOptions:"max"}),this.keys=(0,o.buildTriggerKeys)({key:"k"})}};R=n([i.RegisterAction],R);let P=class extends o.EasyMotionLineMoveCommandBase{constructor(){super(...arguments),this.keys=(0,o.buildTriggerKeys)({key:"bdjk",leaderCount:3})}};P=n([i.RegisterAction],P)},1541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Match=void 0;const n=r(7549);t.Match=class{constructor(e,t,r){this.position=e,this.text=t,this.index=r}toRange(){return new n.Range(this.position,this.position.translate(0,this.text.length))}}},9971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcher=void 0;const n=r(5845),i=r(4379),o=r(7536),s=r(3129);function a(e){return new Promise(((t,r)=>{try{(0,s.exec)(e,((e,n,i)=>{e?r(e):t(n)}))}catch(e){r(e)}}))}class c{constructor(e=a){this.savedIMKey="",this.execute=e}async switchInputMethod(e,t){if(!0!==o.configuration.autoSwitchInputMethod.enable)return;const r=this.isInsertLikeMode(e),n=this.isInsertLikeMode(t);r!==n&&(n?await this.resumeIM():await this.switchToDefaultIM())}async switchToDefaultIM(){const e=o.configuration.autoSwitchInputMethod.obtainIMCmd;try{const t=await this.execute(e);void 0!==t&&(this.savedIMKey=t.trim())}catch(e){c.logger.error(`Error switching to default IM. err=${e}`)}const t=o.configuration.autoSwitchInputMethod.defaultIM;t!==this.savedIMKey&&await this.switchToIM(t)}async resumeIM(){this.savedIMKey!==o.configuration.autoSwitchInputMethod.defaultIM&&await this.switchToIM(this.savedIMKey)}async switchToIM(e){let t=o.configuration.autoSwitchInputMethod.switchIMCmd;if(""!==e&&void 0!==e){t=t.replace("{im}",e);try{await this.execute(t)}catch(e){c.logger.error(`Error switching to IM. err=${e}`)}}}isInsertLikeMode(e){return[i.Mode.Insert,i.Mode.Replace,i.Mode.SurroundInputMode].includes(e)}}t.InputMethodSwitcher=c,c.logger=n.Logger.get("IMSwitcher")},6804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDefaultMappings=void 0;class r{static getPluginDefaultMappings(e,t){return this.defaultMappings.filter((r=>r.mode===e&&t[r.configSwitch])).map((e=>e.mapping))}}t.PluginDefaultMappings=r,r.defaultMappings=[{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["y","s"],after:["<plugys>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["y","s","s"],after:["<plugys>","<plugys>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["c","s"],after:["<plugcs>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["d","s"],after:["<plugds>"]}}]},4211:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7536),o=r(4379),s=r(7125),a=r(3176),c=r(785),u=r(9220),l=r(3259),d=r(7549),h=r(4880);let m=class extends a.BaseOperator{constructor(){super(...arguments),this.keys=["g","r"],this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine]}doesActionApply(e,t){return i.configuration.replaceWithRegister&&super.doesActionApply(e,t)}couldActionApply(e,t){return i.configuration.replaceWithRegister&&super.doesActionApply(e,t)}async run(e,t,r){const n=e.currentRegisterMode===s.RegisterMode.LineWise?new d.Range(t.getLineBegin(),r.getLineEndIncludingEOL()):new d.Range(t,r.getRight()),i=await s.Register.get(e.recordedState.registerName,this.multicursorIndex);if(void 0===i)return void u.StatusBar.displayError(e,l.VimError.fromCode(l.ErrorCode.NothingInRegister,e.recordedState.registerName));const a=i.text;e.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:a,diff:h.PositionDiff.exactPosition(f(e,n,a))}),await e.setCurrentMode(o.Mode.Normal)}};m=n([c.RegisterAction],m);const f=(e,t,r)=>{const{recordedState:{actionKeys:n}}=e,i=r.split("\n"),o=0===n.indexOf("r")&&1===n.length;return 1===i.length&&t.isSingleLine&&!o?p(t,r):g(t.start.line,i[0])},p=(e,t)=>new d.Position(e.start.line,Math.max(0,e.start.character+t.length-1)),g=(e,t)=>{var r,n;return new d.Position(e,null!==(n=null===(r=t.match(/\S/))||void 0===r?void 0:r.index)&&void 0!==n?n:0)}},7243:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SneakBackward=t.SneakForward=void 0;const s=r(7536),a=r(785),c=r(3193),u=r(7549);let l=n=class extends c.BaseMovement{constructor(){super(...arguments),this.keys=[["s","<character>","<character>"],["z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"s":"z";return s.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new d(this.keysPressed,!0)),"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const r=this.keysPressed[1]+this.keysPressed[2],i=t.document,o=i.lineCount;for(let t=e.line;t<o;++t){const n=i.lineAt(t).text,o=t===e.line?e.character+1:0;let a=-1;if(a=!s.configuration.sneakUseIgnorecaseAndSmartcase||!s.configuration.ignorecase||s.configuration.smartcase&&/[A-Z]/.test(r)?n.indexOf(r,o):n.toLocaleLowerCase().indexOf(r.toLocaleLowerCase(),o),a>=0)return new u.Position(t,a)}return e}};l=n=o([a.RegisterAction],l),t.SneakForward=l;let d=i=class extends c.BaseMovement{constructor(){super(...arguments),this.keys=[["S","<character>","<character>"],["Z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"S":"Z";return s.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new l(this.keysPressed,!0)),"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const r=this.keysPressed[1]+this.keysPressed[2],n=t.document;for(let t=e.line;t>=0;--t){const i=n.lineAt(t).text,o=t===e.line?e.character-1:1/0;let a=-1;if(a=!s.configuration.sneakUseIgnorecaseAndSmartcase||!s.configuration.ignorecase||s.configuration.smartcase&&/[A-Z]/.test(r)?i.lastIndexOf(r,o):i.toLocaleLowerCase().lastIndexOf(r.toLocaleLowerCase(),o),a>=0)return new u.Position(t,a)}return e}};d=i=o([a.RegisterAction],d),t.SneakBackward=d},3399:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandSurroundAddSurroundingTag=void 0;const i=r(4880),o=r(7536),s=r(4379),a=r(785),c=r(6206),u=r(3193),l=r(6206),d=r(3176),h=r(3838),m=r(7549);class f extends d.BaseOperator{doesActionApply(e,t){return o.configuration.surround&&super.doesActionApply(e,t)}}let p=class extends f{constructor(){super(...arguments),this.keys=["<plugys>"],this.modes=[s.Mode.Normal]}async run(e,t,r){var n;this.multicursorIndex||(e.surround={operator:"yank",target:void 0,replacement:"",edges:[],previousMode:e.currentMode});const i=null!==(n=this.multicursorIndex)&&void 0!==n?n:0;return e.surround.edges.push(function(){const n=new m.Range(r.getRight(),r.getRight()),o=r.getRight().prevWordEnd(e.document),s=new m.Range(o.getRight(),o.getRight()),a=e.recordedState.actionsRun[e.recordedState.actionsRun.length-1],c=a instanceof l.MoveWordBegin||a instanceof l.MoveFullWordBegin||a instanceof h.SelectABigWord||a instanceof h.SelectWord?s:n;return{leftEdge:new m.Range(t,t),rightEdge:c,cursorIndex:i}}()),e.cursorStartPosition=t,e.cursorStopPosition=e.currentMode===s.Mode.Visual?r:t,void await e.setCurrentMode(s.Mode.SurroundInputMode)}async runRepeat(e,t,r){await this.run(e,t.getLineBeginRespectingIndent(e.document),t.getDown(Math.max(0,r-1)).getLineEnd().prevWordEnd(e.document))}};p=n([a.RegisterAction],p);let g=class extends f{constructor(){super(...arguments),this.modes=[s.Mode.Visual],this.keys=["S"]}async run(e,t,r){[t,r]=(0,i.sorted)(t,r),await new p(this.multicursorIndex).run(e,t,r)}};g=n([a.RegisterAction],g);let v=class extends f{constructor(){super(...arguments),this.modes=[s.Mode.VisualLine],this.keys=["S"]}async run(e,t,r){var n,o;[t,r]=(0,i.sorted)(t.getLineBegin(),r.getLineEnd()),this.multicursorIndex||(e.surround={target:void 0,operator:"yank",replacement:"",addNewline:!0,edges:[],previousMode:e.currentMode}),null===(n=e.surround)||void 0===n||n.edges.push({leftEdge:new m.Range(t,t),rightEdge:new m.Range(r,r),cursorIndex:null!==(o=this.multicursorIndex)&&void 0!==o?o:0}),e.cursorStartPosition=t,e.cursorStopPosition=r,await e.setCurrentMode(s.Mode.SurroundInputMode)}};v=n([a.RegisterAction],v);class y extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal],this.canBeRepeatedWithDot=!0}runsOnceForEveryCursor(){return!0}doesActionApply(e,t){const r=t[t.length-1];return o.configuration.surround&&super.doesActionApply(e,t)&&void 0!==E.edgePairings[r]}}let w=class extends y{constructor(){super(...arguments),this.keys=["<plugds>","<any>"],this.keysHasCnt=!1}async exec(e,t){var r;const n=this.keysPressed[this.keysPressed.length-1];if(this.keysHasCnt){const e=this.keysPressed[this.keysPressed.length-2];t.recordedState.count=parseInt(e,void 0)}t.surround={operator:"delete",target:n,replacement:"",edges:[],previousMode:s.Mode.Normal};const i=await E.getReplaceRanges(t,e,null!==(r=this.multicursorIndex)&&void 0!==r?r:0);i&&(t.surround.edges=[i],await E.ExecuteSurround(t))}};w=n([a.RegisterAction],w);let b=class extends w{constructor(){super(...arguments),this.keys=["<plugds>","<number>","<any>"],this.keysHasCnt=!0}};b=n([a.RegisterAction],b);let C=class extends y{constructor(){super(...arguments),this.keys=["<plugcs>","<any>"],this.isCompleteAction=!1,this.keysHasCnt=!1}async exec(e,t){var r;const n=this.keysPressed[this.keysPressed.length-1];if(this.keysHasCnt){const e=this.keysPressed[this.keysPressed.length-2];t.recordedState.count=parseInt(e,void 0)}this.multicursorIndex||(t.surround={operator:"change",target:n,replacement:"",edges:[],previousMode:s.Mode.Normal});const i=await E.getReplaceRanges(t,e,null!==(r=this.multicursorIndex)&&void 0!==r?r:0);i&&t.surround.edges.push(i),await t.setCurrentMode(s.Mode.SurroundInputMode)}};C=n([a.RegisterAction],C);let S=class extends C{constructor(){super(...arguments),this.keys=["<plugcs>","<number>","<any>"],this.keysHasCnt=!0}};S=n([a.RegisterAction],S);let x=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.SurroundInputMode],this.keys=["<any>"],this.isCompleteAction=!0}runsOnceForEveryCursor(){return!1}doesActionApply(e,t){const r=t[t.length-1];return o.configuration.surround&&super.doesActionApply(e,t)&&"t"!==r&&"<"!==r}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];if(!t.surround||!E.edgePairings[r])return t.surround=void 0,void await t.setCurrentMode(s.Mode.Normal);t.surround.replacement=r,await E.ExecuteSurround(t)}};x=n([a.RegisterAction],x);let M=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.SurroundInputMode],this.keys=[["<"],["t"]],this.isCompleteAction=!0,this.recordedTag=""}runsOnceForEveryCursor(){return!1}async exec(e,t){if(!t.surround)return;t.surround.replacement="t";const r=t.isRunningDotCommand||t.isReplayingMacro?this.recordedTag:await this.readTag();if(!r)return t.surround=void 0,void await t.setCurrentMode(s.Mode.Normal);var n;this.recordedTag=r,t.surround.tag=">"===(n=r).substring(n.length-1)?{tag:n.substring(0,n.length-1),keepAttributes:!1}:{tag:n,keepAttributes:!0},await E.ExecuteSurround(t)}async readTag(){return m.window.showInputBox({prompt:"Enter tag",ignoreFocusOut:!0})}};M=n([a.RegisterAction],M),t.CommandSurroundAddSurroundingTag=M;class E{static async getReplaceRanges(e,t,r){if(!e.surround||!e.surround.target)return;const n=this.edgePairings[e.surround.target];if(!n)return;const{removeSpace:i,movement:o}=n;e.cursorStartPosition=t;const s=e.recordedState.count||1,a=await o().execActionWithCount(t,e,s);if(!(0,u.isIMovement)(a)||a.failed)return;let l=a.start,d=a.stop;return"t"===e.surround.target?async function(){const n=l.getRight(),i=n.nextWordEnd(e.document,{inclusive:!0}).getRight(),o=d.getLeft(2).prevWordStart(e.document,{inclusive:!0}),a=d.getLeft();e.cursorStartPosition=t,e.cursorStopPosition=t;const h=1===s?await(new c.MoveInsideTag).execActionWithCount(t,e,1):await(new c.MoveAroundTag).execActionWithCount(t,e,s-1);return!(0,u.isIMovement)(h)||h.failed?void 0:{leftEdge:new m.Range(l,h.start),rightEdge:new m.Range(h.stop,d),leftTagName:new m.Range(n,i),rightTagName:new m.Range(o,a),cursorIndex:r}}():function(){o()instanceof c.MoveInsideCharacter&&(d=d.getLeft()),n.extraChars&&(l=l.getLeft(n.extraChars),d=d.getRight(n.extraChars));const t=function(){const t=e.editor.document.getText(new m.Range(l.getRight(),l.getRight(2))),r=e.editor.document.getText(new m.Range(d.getLeft(),d));return i&&" "===t&&" "===r?1:0}();return{leftEdge:new m.Range(l,l.getRight(1+t)),rightEdge:new m.Range(d.getLeft(t),d.getRight()),cursorIndex:r}}()}static async ExecuteSurround(e){const t=e.surround;if(!t||!t.edges)return;const r=this.edgePairings[t.replacement];if(!r&&"delete"!==t.operator)throw new Error("replacement missing in pairs");if("t"===t.target&&t.tag&&t.tag.keepAttributes)for(const{leftTagName:r,rightTagName:n}of t.edges)t.tag&&r&&n&&(e.recordedState.transformer.replace(r,t.tag.tag),e.recordedState.transformer.replace(n,t.tag.tag));else{const n=t.addNewline?"\n":"",o="delete"===t.operator?"":t.tag?"<"+t.tag.tag+">"+n:r.left+n,s="delete"===t.operator?"":t.tag?n+"</"+t.tag.tag+">":n+r.right;for(const{leftEdge:r,rightEdge:n,cursorIndex:a}of t.edges)e.recordedState.transformer.addTransformation({type:"replaceText",text:o,range:r,cursorIndex:a,diff:"yank"===t.operator?i.PositionDiff.offset({character:1-o.length}):void 0}),e.recordedState.transformer.addTransformation({type:"replaceText",text:s,range:n})}await e.setCurrentMode(s.Mode.Normal)}}E.edgePairings={"(":{left:"( ",right:" )",removeSpace:!0,movement:()=>new c.MoveAroundParentheses},")":{left:"(",right:")",removeSpace:!1,movement:()=>new c.MoveAroundParentheses},"[":{left:"[ ",right:" ]",removeSpace:!0,movement:()=>new c.MoveAroundSquareBracket},"]":{left:"[",right:"]",removeSpace:!1,movement:()=>new c.MoveAroundSquareBracket},"{":{left:"{ ",right:" }",removeSpace:!0,movement:()=>new c.MoveAroundCurlyBrace},"}":{left:"{",right:"}",removeSpace:!1,movement:()=>new c.MoveAroundCurlyBrace},">":{left:"<",right:">",removeSpace:!1,movement:()=>new c.MoveAroundCaret},'"':{left:'"',right:'"',removeSpace:!1,movement:()=>new c.MoveAroundDoubleQuotes(!1)},"'":{left:"'",right:"'",removeSpace:!1,movement:()=>new c.MoveAroundSingleQuotes(!1)},"`":{left:"`",right:"`",removeSpace:!1,movement:()=>new c.MoveAroundBacktick(!1)},"<":{left:"",right:"",removeSpace:!1,movement:()=>new c.MoveAroundTag},"*":{left:"*",right:"*",removeSpace:!1,movement:()=>new h.SelectInnerWord,extraChars:1},b:{left:"(",right:")",removeSpace:!1,movement:()=>new c.MoveAroundParentheses},r:{left:"[",right:"]",removeSpace:!1,movement:()=>new c.MoveAroundSquareBracket},B:{left:"{",right:"}",removeSpace:!1,movement:()=>new c.MoveAroundCurlyBrace},a:{left:"<",right:">",removeSpace:!1,movement:()=>new c.MoveAroundCaret},t:{left:"",right:"",removeSpace:!1,movement:()=>new c.MoveAroundTag},_:{left:"_",right:"_",removeSpace:!1,movement:()=>new h.SelectInnerWord}}},641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldWrapKey=void 0;const n=r(7536),i=r(4379);t.shouldWrapKey=(e,t)=>{let r;if("<left>"===t)r=[i.Mode.Insert,i.Mode.Replace].includes(e)?"[":"<";else if("<right>"===t)r=[i.Mode.Insert,i.Mode.Replace].includes(e)?"]":">";else if(["<BS>","<C-BS>","<S-BS>"].includes(t))r="b";else if(" "===t)r="s";else{if(!["h","l","~"].includes(t))throw new Error(`shouldWrapKey called with unexpected key='${t}'`);r=t}return n.configuration.whichwrap.split(",").includes(r)}},7541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commandLine=void 0;const n=r(8739),i=r(7549),o=r(9163),s=r(4379),a=r(5845),c=r(9220),u=r(3259),l=r(7536),d=r(7125),h=r(1149);t.commandLine=new class{constructor(){this.logger=a.Logger.get("CommandLine"),this.commandLineHistoryIndex=0,this.lastKeyPressed="",this.autoCompleteIndex=0,this.autoCompleteItems=[],this.preCompleteCharacterPos=0,this.preCompleteCommand="",this.previousMode=s.Mode.Normal}get historyEntries(){var e;return(null===(e=this.history)||void 0===e?void 0:e.get())||[]}async load(e){return this.history=new o.CommandLineHistory(e),this.history.load()}async Run(e,t){if(e&&0!==e.length){if(e.startsWith(":")&&(e=e.slice(1)),this.history.add(e),this.commandLineHistoryIndex=this.history.get().length,!e.startsWith("reg")){const t=new h.RecordedState;t.registerName=":",t.commandList=e.split(""),d.Register.setReadonlyRegister(":",t)}try{const r=n.parse(e);if(l.configuration.enableNeovim&&r.command&&r.command.neovimCapable()&&t.nvim){const{statusBarText:r,error:n}=await t.nvim.run(t,e);c.StatusBar.setText(t,r,n)}else await r.execute(t)}catch(r){if(r instanceof u.VimError)if(r.code===u.ErrorCode.NotAnEditorCommand&&l.configuration.enableNeovim&&t.nvim){const{statusBarText:r}=await t.nvim.run(t,e);c.StatusBar.setText(t,r,!0)}else c.StatusBar.setText(t,r.toString(),!0);else this.logger.error(`Error executing cmd=${e}. err=${r}.`)}}}async PromptAndRun(e,t){const r=await i.window.showInputBox(this.getInputBoxOptions(e));await this.Run(r,t)}getInputBoxOptions(e){return{prompt:"Vim command line",value:e,ignoreFocusOut:!1,valueSelection:[e.length,e.length]}}async showHistory(e){return this.history.add(e),i.window.showQuickPick(this.history.get().slice().reverse(),{placeHolder:"Vim command history",ignoreFocusOut:!1})}}},281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BangCommand=void 0;const n=r(7549),i=r(694),o=r(4880),s=r(2659);class a extends i.CommandBase{constructor(e){super(),this._arguments=e}neovimCapable(){return!0}getReplaceDiff(e){const t=e.split("\n"),r=t.length-1,n=t[0].match(/^\s*/),i=n?n[0].length:0;return o.PositionDiff.exactCharacter({lineOffset:-r,character:i})}async execute(e){await s.externalCommand.run(this._arguments.command)}async executeWithRange(e,t){const[r,i]=t.resolve(e),o=new n.Position(r,0),a=new n.Position(i,0).getLineEnd(),c=e.document.getText(new n.Range(o,a)),u=await s.externalCommand.run(this._arguments.command,c),l=this.getReplaceDiff(u);e.recordedState.transformer.addTransformation({type:"replaceText",text:u,range:new n.Range(o,a),diff:l})}}t.BangCommand=a},653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDeleteCommand=void 0;const n=r(7549),i=r(3259),o=r(694);class s extends o.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){if(e.document.isDirty&&!this.arguments.bang)throw i.VimError.fromCode(i.ErrorCode.NoWriteSinceLastChange);if(void 0!==this.arguments.tabPosition)try{await n.commands.executeCommand(`workbench.action.openEditorAtIndex${this.arguments.tabPosition}`)}catch(e){throw i.VimError.fromCode(i.ErrorCode.NoBuffersDeleted)}await n.commands.executeCommand("workbench.action.closeActiveEditor")}}t.BufferDeleteCommand=s},3776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseCommand=void 0;const n=r(7549),i=r(3259),o=r(694);class s extends o.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){if(e.document.isDirty&&!this.arguments.bang)throw i.VimError.fromCode(i.ErrorCode.NoWriteSinceLastChange);if(1===n.window.visibleTextEditors.length)throw i.VimError.fromCode(i.ErrorCode.CannotCloseLastWindow);const t=e.editor.viewColumn;await n.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==n.window.activeTextEditor&&n.window.activeTextEditor.viewColumn===t&&await n.commands.executeCommand("workbench.action.previousEditor")}}t.CloseCommand=s},2839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyCommand=void 0;const n=r(7549),i=r(4880),o=r(3259),s=r(9220),a=r(694),c=r(8955);class u extends a.CommandBase{constructor(e){super(),this.dest=e}static parse(e){if(""===e.trim())return new u;const t=new c.Scanner(e),r=parseInt(t.nextWord(),10);if(isNaN(r)||!t.isAtEof)throw o.VimError.fromCode(o.ErrorCode.TrailingCharacters);return new u(r)}neovimCapable(){return!0}copyLines(e,t,r){var a,c;if(void 0===this.dest||this.dest<0||this.dest>e.document.lineCount)return void s.StatusBar.displayError(e,o.VimError.fromCode(o.ErrorCode.InvalidAddress));r<t&&([t,r]=[r,t]);const u=e.document.getText(new n.Range(new n.Position(t,0),new n.Position(r,0).getLineEnd()));let l,d;0===this.dest?(l=u+"\n",d=new n.Position(0,0)):(l="\n"+u,d=new n.Position(this.dest-1,0).getLineEnd());const h=u.split("\n"),m=new n.Position(this.dest-1+h.length,null!==(c=null===(a=h[h.length-1].match(/\S/))||void 0===a?void 0:a.index)&&void 0!==c?c:0);e.recordedState.transformer.addTransformation({type:"insertText",position:d,text:l,diff:i.PositionDiff.exactPosition(m)})}async execute(e){const t=e.cursors[0].stop.line;this.copyLines(e,t,t)}async executeWithRange(e,t){const[r,n]=t.resolve(e);this.copyLines(e,r,n)}}t.CopyCommand=u},146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRangeCommand=void 0;const n=r(7549),i=r(7125),o=r(694),s=r(7549);class a extends o.CommandBase{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}deleteRange(e,t,r){let o=new s.Position(e,0),a=new s.Position(t,0).getLineEndIncludingEOL();t<r.document.lineCount-1?a=a.getRightThroughLineBreaks():e>0&&(o=o.getLeftThroughLineBreaks());const c=new n.Range(o,a),u=r.document.getText(c).replace(/^\r?\n/,"").replace(/\r?\n$/,"");r.recordedState.transformer.addTransformation({type:"deleteRange",range:new n.Range(o,a),manuallySetCursorPositions:!0}),r.cursorStopPosition=o.getLineBegin(),this.arguments.register&&(r.recordedState.registerName=this.arguments.register),r.currentRegisterMode=i.RegisterMode.LineWise,i.Register.put(r,u,0,!0)}async execute(e){var t;const r=null!==(t=this.arguments.linesToRemove)&&void 0!==t?t:1,n=e.cursorStartPosition.line,i=n+(r-1);this.deleteRange(n,i,e)}async executeWithRange(e,t){const[r,n]=t.resolve(e);if(this.arguments.linesToRemove)return e.cursorStartPosition=new s.Position(n,0),void await this.execute(e);this.deleteRange(r,n,e)}}t.DeleteRangeCommand=a},9001:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DigraphsCommand=void 0;const n=r(7549),i=r(7536),o=r(9470),s=r(694),a=r(1797);class c extends s.CommandBase{constructor(e){super(),this.arguments=e}makeQuickPicks(e){const t=new Array;for(const r of Object.keys(e)){const[n,i]=e[r];t.push({label:r,description:`${n} (user)`,charCodes:i})}return t}async execute(e){void 0!==this.arguments.arg&&this.arguments.arg.length;const t=this.makeQuickPicks(i.configuration.digraphs).concat(this.makeQuickPicks(o.DefaultDigraphs));n.window.showQuickPick(t).then((async t=>{if(t){const r=String.fromCharCode(...t.charCodes);await a.TextEditor.insert(e.editor,r)}}))}}t.DigraphsCommand=c},9241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileCommand=t.FilePosition=void 0;const n=r(7549),i=r(5845),o=r(5458),s=r(694),a=r(5707),c=r(8967);var u;!function(e){e[e.NewWindowVerticalSplit=0]="NewWindowVerticalSplit",e[e.NewWindowHorizontalSplit=1]="NewWindowHorizontalSplit"}(u=t.FilePosition||(t.FilePosition={}));class l extends s.CommandBase{constructor(e){super(),this.logger=i.Logger.get("File"),this.arguments=e}async execute(e){if(this.arguments.bang)return void await n.commands.executeCommand("workbench.action.files.revert");const t=n.window.activeTextEditor.document.uri,r=t.fsPath;let i=!1;this.arguments.position===u.NewWindowVerticalSplit&&(await n.commands.executeCommand("workbench.action.splitEditorRight"),i=!0),this.arguments.position===u.NewWindowHorizontalSplit&&(await n.commands.executeCommand("workbench.action.splitEditorDown"),i=!0);const s=async()=>{!0===i&&(await n.commands.executeCommand("workbench.action.previousEditor"),await n.commands.executeCommand("workbench.action.closeActiveEditor"))};if(void 0===this.arguments.name)return void(!0===this.arguments.createFileIfNotExists&&(await n.commands.executeCommand("workbench.action.files.newUntitledFile"),await s()));this.arguments.name&&"file"===t.scheme&&(this.arguments.name=c(this.arguments.name));let l=t;if(""===this.arguments.name){if(!0===i)return;const e=await n.window.showOpenDialog({});e&&e.length>0&&(l=e[0])}else{this.arguments.name=this.arguments.name.replace(/^file:\/\//,"");const e=!!n.env.remoteName,{fullPath:i,path:s}=(0,o.getPathDetails)(this.arguments.name,t,e);if(i!==r){const n=(0,o.resolveUri)(i,s.sep,t,e);if(null===n)return;let c=await(0,a.doesFileExist)(n);if(c)l=n;else{const n=i+s.extname(r),u=(0,o.resolveUri)(n,s.sep,t,e);null!==u&&(c=await(0,a.doesFileExist)(u),c&&(l=u))}if(!c){if(!this.arguments.createFileIfNotExists)return void this.logger.error(`${this.arguments.name} does not exist.`);l=n.with({scheme:"untitled"})}}}const d=await n.workspace.openTextDocument(l);n.window.showTextDocument(d),this.arguments.lineNumber&&n.window.activeTextEditor.revealRange(new n.Range(new n.Position(this.arguments.lineNumber,0),new n.Position(this.arguments.lineNumber,0))),await s()}}t.FileCommand=l},6349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileInfoCommand=void 0;const n=r(694),i=r(8965);class o extends n.CommandBase{async execute(e){(0,i.reportFileInfo)(e.cursors[0].start,e)}}t.FileInfoCommand=o},6990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GotoCommand=void 0;const n=r(3259),i=r(694),o=r(8955);class s extends i.CommandBase{constructor(e){super(),this.offset=e}static parse(e){if(""===e.trim())return new s;const t=new o.Scanner(e),r=parseInt(t.nextWord(),10);if(isNaN(r))throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new s(r)}gotoOffset(e,t){e.cursorStopPosition=e.document.positionAt(t)}async execute(e){var t;this.gotoOffset(e,null!==(t=this.offset)&&void 0!==t?t:0)}async executeWithRange(e,t){void 0===this.offset&&(this.offset=t.resolve(e,!1)[1]),this.gotoOffset(e,this.offset)}}t.GotoCommand=s},4012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryCommand=t.HistoryCommandType=void 0;const n=r(694),i=r(9066),o=r(8186);var s;!function(e){e[e.Cmd=0]="Cmd",e[e.Search=1]="Search",e[e.Expr=2]="Expr",e[e.Input=3]="Input",e[e.Debug=4]="Debug",e[e.All=5]="All"}(s=t.HistoryCommandType||(t.HistoryCommandType={}));class a extends n.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){switch(this.arguments.type){case s.Cmd:await(new i.CommandShowCommandHistory).exec(e.cursorStopPosition,e);break;case s.Search:await new i.CommandShowSearchHistory(o.SearchDirection.Forward).exec(e.cursorStopPosition,e);break;case s.Expr:case s.Input:case s.Debug:case s.All:throw new Error("Not implemented")}}}t.HistoryCommand=a},7506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearJumpsCommand=t.JumpsCommand=void 0;const n=r(7549),i=r(694),o=r(9138),s=r(8693);class a{constructor(e,t){this.jump=e,this.label=e.fileName,this.detail=`jump ${t} line ${e.position.line+1} col ${e.position.character}`;try{this.description=e.document.lineAt(e.position).text}catch(e){this.description=void 0}}}class c extends i.CommandBase{constructor(){super(...arguments),this.acceptsRange=!1}async execute(e){const t=o.globalState.jumpTracker;if(t.hasJumps){const r=t.jumps.map(((e,t)=>new a(e,t))),i=await n.window.showQuickPick(r,{canPickMany:!1});i&&void 0!==i.jump.document&&(n.window.showTextDocument(i.jump.document),e.cursors=[new s.Cursor(i.jump.position,i.jump.position)])}else n.window.showInformationMessage("No jumps available")}}t.JumpsCommand=c;class u extends i.CommandBase{constructor(){super(...arguments),this.acceptsRange=!1}async execute(e){o.globalState.jumpTracker.clearJumps()}}t.ClearJumpsCommand=u},1599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteMarksCommand=t.MarksCommand=void 0;const n=r(7549),i=r(694),o=r(8693),s=r(9220),a=r(3259);class c{constructor(e,t){this.picked=!1,this.alwaysShow=!1,this.mark=t,this.label=t.name,t.editor&&t.editor!==e.editor?this.description=t.editor.document.fileName:this.description=e.document.lineAt(t.position).text.trim(),this.detail=`line ${t.position.line} col ${t.position.character}`}}class u extends i.CommandBase{constructor(e){super(),this.acceptsRange=!1,this.marksFilter=e}async execute(e){const t=e.historyTracker.getMarks().filter((e=>!this.marksFilter||this.marksFilter.includes(e.name))).map((t=>new c(e,t)));if(t.length>0){const r=await n.window.showQuickPick(t,{canPickMany:!1});r&&(e.cursors=[new o.Cursor(r.mark.position,r.mark.position)])}else n.window.showInformationMessage("No marks set")}}t.MarksCommand=u;class l extends i.CommandBase{constructor(e){super(),this.acceptsRange=!1,this.numbers="0123456789",this.numberRange=/([0-9])-([0-9])/,this.letterRange=/([a-zA-Z])-([a-zA-Z])/,this.args=e}range(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}async execute(e){if(!this.args)return void s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.ArgumentRequired));if("!"===this.args)return void e.historyTracker.removeLocalMarks();if(!this.args.includes("-"))return void e.historyTracker.removeMarks(this.args.split(""));const t=this.numberRange.exec(this.args);let r=this.letterRange.exec(this.args);if(t||r||!this.args.includes("-")){if(t&&t.length>2){if(parseInt(t[1],10)>parseInt(t[2],10))return void s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.InvalidArgument));const r=this.numbers.indexOf(t[1]),n=this.numbers.indexOf(t[2]);e.historyTracker.removeMarks(this.numbers.substring(r,n+1).split(""))}for(;r&&r.length>2;){if(this.caseMismatch(r[1],r[2]))return void s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.InvalidArgument));const t=r[1]===r[1].toLowerCase()?"abcdefghijklmnopqrstuvwxyz":"ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.indexOf(r[1]),i=t.indexOf(r[2]);if(n>i)return void s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.InvalidArgument));e.historyTracker.removeMarks(t.substring(n,i+1).split("")),this.args=this.args.replace(r[0],""),r=this.letterRange.exec(this.args)}}else s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.InvalidArgument))}caseMismatch(e,t){return e.toLowerCase()===e&&t!==t.toLowerCase()||t.toLowerCase()===t&&e!==e.toLowerCase()}}t.DeleteMarksCommand=l},3151:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NohlCommand=void 0;const n=r(694),i=r(9138),o=r(9220);class s extends n.CommandBase{constructor(){super(...arguments),this.acceptsRange=!1}async execute(e){i.globalState.hl=!1,o.StatusBar.clear(e)}}t.NohlCommand=s},7221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnlyCommand=void 0;const n=r(7549),i=r(694);class o extends i.CommandBase{async execute(e){await Promise.allSettled([n.commands.executeCommand("workbench.action.closeEditorsInOtherGroups"),n.commands.executeCommand("workbench.action.maximizeEditor"),n.commands.executeCommand("workbench.action.closePanel")])}}t.OnlyCommand=o},7629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PutExCommand=void 0;const n=r(694),i=r(7536),o=r(7125),s=r(9220),a=r(3259),c=r(7549),u=r(4944);class l extends n.CommandBase{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async doPut(e,t){const r=this.arguments.register||(i.configuration.useSystemClipboard?"*":'"');if(!o.Register.isValidRegister(r))return void s.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.TrailingCharacters));e.recordedState.registerName=r;const n=this.arguments.bang?new u.PutBeforeFromCmdLine:new u.PutFromCmdLine;n.setInsertionLine(t.line),await n.exec(t,e)}async execute(e){await this.doPut(e,e.cursorStopPosition)}async executeWithRange(e,t){const[r,n]=t.resolve(e);await this.doPut(e,new c.Position(n,0).getLineEnd())}}t.PutExCommand=l},5207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuitCommand=void 0;const n=r(7549),i=r(3259),o=r(694);class s extends o.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){const t=n.window.visibleTextEditors.filter((t=>t.document===e.document)).length>1;if(e.document.isDirty&&!this.arguments.bang&&(!t||this.arguments.quitAll))throw i.VimError.fromCode(i.ErrorCode.NoWriteSinceLastChange);this.arguments.quitAll?await n.commands.executeCommand("workbench.action.closeAllEditors"):this.arguments.bang?await n.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"):await n.commands.executeCommand("workbench.action.closeActiveEditor")}}t.QuitCommand=s},5580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadCommand=void 0;const n=r(1797),i=r(694),o=r(5707),s=r(5509);class a extends i.CommandBase{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async execute(e){const t=await this.getTextToInsert();t&&await n.TextEditor.insert(e.editor,t)}async getTextToInsert(){if(this.arguments.file&&this.arguments.file.length>0)return this.getTextToInsertFromFile();if(this.arguments.cmd&&this.arguments.cmd.length>0)return this.getTextToInsertFromCmd();throw Error("Invalid arguments")}async getTextToInsertFromFile(){try{return await(0,o.readFileAsync)(this.arguments.file,"utf8")}catch(e){throw e}}async getTextToInsertFromCmd(){return s.SUPPORT_READ_COMMAND?new Promise(((e,t)=>{try{Promise.resolve().then((()=>r(3129))).then((r=>r.exec(this.arguments.cmd,((r,n,i)=>{r?t(r):e(n)}))))}catch(e){t(e)}})):""}}t.ReadCommand=a},4018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterCommand=void 0;const n=r(7549),i=r(7125),o=r(1149),s=r(694),a=r(9220),c=r(3259);class u extends s.CommandBase{constructor(e){super(),this.acceptsRange=!1,this.arguments=e}async getRegisterDisplayValue(e){var t;let r=null===(t=await i.Register.get(e))||void 0===t?void 0:t.text;return r instanceof Array?r=r.join("\n").substr(0,100):r instanceof o.RecordedState&&(r=r.actionsRun.map((e=>e.keysPressed.join(""))).join("")),r}async displayRegisterValue(e,t){let r=await this.getRegisterDisplayValue(t);void 0===r?a.StatusBar.displayError(e,c.VimError.fromCode(c.ErrorCode.NothingInRegister,t)):(r=r.replace(/\n/g,"\\n"),n.window.showInformationMessage(`${t} ${r}`))}regSortOrder(e){const t=["-","*","+",".",":","%","#","/","="];if('"'===e)return 0;if(e>="0"&&e<="9")return 10+parseInt(e,10);if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+100;if(t.includes(e))return 1e3+t.indexOf(e);throw new Error(`Unexpected register ${e}`)}async execute(e){if(1===this.arguments.registers.length)await this.displayRegisterValue(e,this.arguments.registers[0]);else{const e=i.Register.getKeys().filter((e=>"_"!==e&&(0===this.arguments.registers.length||this.arguments.registers.includes(e)))).sort(((e,t)=>this.regSortOrder(e)-this.regSortOrder(t))),t=new Array;for(const r of e)t.push({label:r,description:await this.getRegisterDisplayValue(r)});n.window.showQuickPick(t).then((async e=>{if(e){const t=e.description;n.window.showInformationMessage(`${e.label} ${t}`)}}))}}}t.RegisterCommand=u},3437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetOptionsCommand=t.SetOptionOperator=void 0;const n=r(694),i=r(7536),o=r(3259),s=r(9220);var a;!function(e){e[e.Equal=0]="Equal",e[e.Set=1]="Set",e[e.Reset=2]="Reset",e[e.Invert=3]="Invert",e[e.Append=4]="Append",e[e.Subtract=5]="Subtract",e[e.Multiply=6]="Multiply",e[e.Info=7]="Info"}(a=t.SetOptionOperator||(t.SetOptionOperator={}));class c extends n.CommandBase{constructor(e){super(),this.acceptsRange=!1,this.arguments=e}async execute(e){var t;if(!this.arguments.name)throw new Error("Missing argument.");const r=null!==(t=i.optionAliases.get(this.arguments.name))&&void 0!==t?t:this.arguments.name;if(null==i.configuration[r])throw o.VimError.fromCode(o.ErrorCode.UnknownOption,r);switch(this.arguments.operator){case a.Set:i.configuration[r]=!0;break;case a.Reset:i.configuration[r]=!1;break;case a.Equal:i.configuration[r]=this.arguments.value;break;case a.Invert:i.configuration[r]=!i.configuration[r];break;case a.Append:i.configuration[r]+=this.arguments.value;break;case a.Subtract:if("number"==typeof this.arguments.value)i.configuration[r]-=this.arguments.value;else{const e=i.configuration[r];i.configuration[r]=e.split(this.arguments.value).join("")}break;case a.Info:const t=i.configuration[r];if(void 0===t)throw o.VimError.fromCode(o.ErrorCode.UnknownOption,r);s.StatusBar.setText(e,`${r}=${t}`)}}}t.SetOptionsCommand=c},1e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShCommand=void 0;const n=r(694),i=r(7549);class o extends n.CommandBase{async execute(e){i.window.createTerminal().show()}}t.ShCommand=o},8730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmileCommand=void 0;const n=r(7549),i=r(1797),o=r(694);class s extends o.CommandBase{constructor(){super()}async execute(e){await n.commands.executeCommand("workbench.action.files.newUntitledFile"),await i.TextEditor.insert(n.window.activeTextEditor,s.smileText)}}t.SmileCommand=s,s.smileText='\n                               oooo$$$$$$$$$$$$oooo\n                          oo$$$$$$$$$$$$$$$$$$$$$$$$o\n                       oo$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o         o$   $$ o$\n     o $ oo          o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o       $$ $$ $$o$\n    oo $ $ "$      o$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$o       $$$o$$o$\n    "$$$$$$o$     o$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$o    $$$$$$$$\n      $$$$$$$    $$$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$$$$$$$$$$$$$$\n      $$$$$$$$$$$$$$$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$$$$$$  """$$$\n       "$$$""""$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$\n        $$$   o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$o\n       o$$"   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$       $$$o\n       $$$    $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$" "$$$$$$ooooo$$$$o\n      o$$$oooo$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   o$$$$$$$$$$$$$$$$$\n      $$$$$$$$"$$$$   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     $$$$""""""""\n     """"       $$$$    "$$$$$$$$$$$$$$$$$$$$$$$$$$$$"      o$$$\n                "$$$o     """$$$$$$$$$$$$$$$$$$"$$"         $$$\n                  $$$o          "$$""$$$$$$""""           o$$$\n                   $$$$o                                o$$$"\n                    "$$$$o      o$$$$$$o"$$$$o        o$$$$\n                      "$$$$$oo     ""$$$$o$$$$$o   o$$$$""\n                         ""$$$$$oooo  "$$$o$$$$$$$$$"""\n                            ""$$$$$$$oo $$$$$$$$$$\n                                    """"$$$$$$$$$$$\n                                        $$$$$$$$$$$$\n                                         $$$$$$$$$$"\n                                          "$$$""""'},7338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortCommand=void 0;const n=r(7549),i=r(4880),o=r(4379),s=r(694);class a extends s.CommandBase{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async execute(e){if((0,o.isVisualMode)(e.currentMode)){const{start:t,end:r}=e.editor.selection;await this.sortLines(e,t.line,r.line)}else await this.sortLines(e,0,e.document.lineCount-1)}async sortLines(e,t,r){var o,s;let a=[];for(let n=t;n<=r&&n<e.document.lineCount;n++)a.push(e.document.lineAt(n).text);const c=a[a.length-1].length;if(this.arguments.unique){const e=new Set,t=[];for(const r of a){const n=this.arguments.ignoreCase?r.toLowerCase():r;e.has(n)||(e.add(n),t.push(r))}a=t}const u=this.arguments.ignoreCase?a.sort(((e,t)=>e.localeCompare(t))):a.sort();this.arguments.reverse&&u.reverse();const l=u.join("\n");e.recordedState.transformer.addTransformation({type:"replaceText",range:new n.Range(t,0,r,c),text:l,diff:i.PositionDiff.exactPosition(new n.Position(t,null!==(s=null===(o=u[0].match(/\S/))||void 0===o?void 0:o.index)&&void 0!==s?s:0))})}async executeWithRange(e,t){const[r,n]=t.resolve(e);await this.sortLines(e,r,n)}}t.SortCommand=a},7718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteCommand=t.SubstituteFlags=void 0;const n=r(7549),i=r(694),o=r(9401),s=r(8186),a=r(3752),c=r(3259),u=r(7536),l=r(4530),d=r(9138),h=r(7549),m=r(9220);var f;!function(e){e[e.None=0]="None",e[e.KeepPreviousFlags=1]="KeepPreviousFlags",e[e.ConfirmEach=2]="ConfirmEach",e[e.SuppressError=4]="SuppressError",e[e.ReplaceAll=8]="ReplaceAll",e[e.IgnoreCase=16]="IgnoreCase",e[e.NoIgnoreCase=32]="NoIgnoreCase",e[e.PrintCount=64]="PrintCount",e[e.PrintLastMatchedLine=128]="PrintLastMatchedLine",e[e.PrintLastMatchedLineWithNumber=256]="PrintLastMatchedLineWithNumber",e[e.PrintLastMatchedLineWithList=512]="PrintLastMatchedLineWithList",e[e.UsePreviousPattern=1024]="UsePreviousPattern"}(f=t.SubstituteFlags||(t.SubstituteFlags={}));class p extends i.CommandBase{constructor(e){super(),this.arguments=e,this.abort=!1}neovimCapable(){return 0==(this.arguments.flags&f.ConfirmEach)}getRegex(e,t){let r="";if(u.configuration.gdefault||u.configuration.substituteGlobalFlag?e.flags&f.ReplaceAll||(r+="g"):e.flags&f.ReplaceAll&&(r+="g"),e.flags&f.IgnoreCase&&(r+="i"),void 0===e.pattern){const t=d.globalState.substituteState;if(void 0===t||""===t.searchPattern)throw c.VimError.fromCode(c.ErrorCode.NoPreviousRegularExpression);e.pattern=t.searchPattern,e.replace=t.replaceString}else{if(""===e.pattern){const t=d.globalState.searchState;if(void 0===t||""===t.searchString)throw c.VimError.fromCode(c.ErrorCode.NoPreviousRegularExpression);e.pattern=t.searchString}d.globalState.substituteState=new a.SubstituteState(e.pattern,e.replace),d.globalState.searchState=new s.SearchState(s.SearchDirection.Forward,t.cursorStopPosition,e.pattern,{isRegex:!0},t.currentMode)}return new RegExp(e.pattern,r)}async replaceTextAtLine(e,t,r){const i=r.document.lineAt(e).text,s=i.match(t);if(!s)return 0;let a=0;if(this.arguments.flags&f.ConfirmEach){let c=i;const u=new RegExp(t.source,t.flags.replace("g",""));let l=0;for(const t of s){if(this.abort)break;if(l=c.indexOf(t,l),await this.confirmReplacement(this.arguments.replace,e,r,t,l)){a++;const t=c.length;c=c.slice(0,l)+c.slice(l).replace(u,this.arguments.replace),r.recordedState.transformer.addTransformation({type:"replaceText",text:c,range:new n.Range(new h.Position(e,0),new h.Position(e,t)),cursorIndex:0}),d.globalState.jumpTracker.recordJump(new o.Jump({document:r.document,position:new h.Position(e,0)}),o.Jump.fromStateNow(r))}l+=this.arguments.replace.length}}else{a=s.length;const c=i.replace(t,this.arguments.replace);r.recordedState.transformer.addTransformation({type:"replaceText",text:c,range:new n.Range(new h.Position(e,0),new h.Position(e,i.length)),diff:new h.Position(e,0).subtract(new h.Position(e,c.length)),cursorIndex:0}),d.globalState.jumpTracker.recordJump(new o.Jump({document:r.document,position:new h.Position(e,0)}),o.Jump.fromStateNow(r))}return a}async confirmReplacement(e,t,r,i,o){const s=new n.CancellationTokenSource,a=["y","n","a","q","l"];let c="";const u=[new n.Range(t,o,t,o+i.length)];r.editor.revealRange(new n.Range(t,0,t,0)),r.editor.setDecorations(l.decoration.searchHighlight,u);const d=`Replace with ${e} (${a.join("/")})?`;return await n.window.showInputBox({ignoreFocusOut:!0,prompt:d,placeHolder:a.join("/"),validateInput:e=>(a.includes(e)&&(c=e,s.cancel()),d)},s.token),"q"!==c&&"l"!==c&&c?"a"===c&&(this.arguments.flags=this.arguments.flags&~f.ConfirmEach):this.abort=!0,"y"===c||"a"===c||"l"===c}async execute(e){const t=this.getRegex(this.arguments,e),r=e.editor.selection,n=r.start.isBefore(r.end)?r.start.line:r.end.line;if(!this.abort){const r=await this.replaceTextAtLine(n,t,e);this.setStatusBarText(e,r,1,t)}}async executeWithRange(e,t){let[r,n]=t.resolve(e);this.arguments.count&&this.arguments.count>=0&&(r=n,n=n+this.arguments.count-1);const i=this.getRegex(this.arguments,e);let o=0,s=0;for(let t=r;t<=n&&t<e.document.lineCount&&!this.abort;t++){const r=await this.replaceTextAtLine(t,i,e);r>0&&(s+=r,o++)}this.setStatusBarText(e,s,o,i)}setStatusBarText(e,t,r,n){0===t?m.StatusBar.displayError(e,c.VimError.fromCode(c.ErrorCode.PatternNotFound,n.source)):t>u.configuration.report&&m.StatusBar.setText(e,`${t} substitution${t>1?"s":""} on ${r} line${r>1?"s":""}`)}}t.SubstituteCommand=p},394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabCommand=t.Tab=void 0;const n=r(5622),i=r(7549),o=r(694);var s;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.First=2]="First",e[e.Last=3]="Last",e[e.Absolute=4]="Absolute",e[e.New=5]="New",e[e.Close=6]="Close",e[e.Only=7]="Only",e[e.Move=8]="Move"}(s=t.Tab||(t.Tab={}));class a extends o.CommandBase{constructor(e){super(),this.arguments=e}async executeCommandWithCount(e,t){for(let r=0;r<e;r++)await i.commands.executeCommand(t)}async execute(e){switch(this.arguments.tab){case s.Absolute:void 0!==this.arguments.count&&this.arguments.count>=0&&await i.commands.executeCommand("workbench.action.openEditorAtIndex",this.arguments.count);break;case s.Next:if(void 0!==this.arguments.count&&this.arguments.count<=0)break;await this.executeCommandWithCount(this.arguments.count||1,"workbench.action.nextEditorInGroup");break;case s.Previous:if(void 0!==this.arguments.count&&this.arguments.count<=0)break;await this.executeCommandWithCount(this.arguments.count||1,"workbench.action.previousEditorInGroup");break;case s.First:await i.commands.executeCommand("workbench.action.openEditorAtIndex1");break;case s.Last:await i.commands.executeCommand("workbench.action.lastEditorInGroup");break;case s.New:if(void 0!==this.arguments.file&&""!==this.arguments.file){const e=n.isAbsolute(this.arguments.file),t=void 0!==i.workspace.workspaceFolders&&i.workspace.workspaceFolders.length>0,r=i.window.activeTextEditor.document.uri.fsPath;let o;if(e)o=this.arguments.file;else if(t){const e=i.workspace.workspaceFolders[0].uri.path;o=n.join(e,this.arguments.file)}else o=n.join(n.dirname(r),this.arguments.file);o!==r&&await i.commands.executeCommand("vscode.open",i.Uri.file(o))}else await i.commands.executeCommand("workbench.action.files.newUntitledFile");break;case s.Close:if(void 0===this.arguments.count){await i.commands.executeCommand("workbench.action.closeActiveEditor");break}if(0===this.arguments.count)break;break;case s.Only:await i.commands.executeCommand("workbench.action.closeOtherEditors");break;case s.Move:{const{count:e,direction:t}=this.arguments;let r;r=void 0!==t?{to:t,by:"tab",value:e}:0===e?{to:"first"}:void 0===e?{to:"last"}:{to:"position",by:"tab",value:e+1},await i.commands.executeCommand("moveActiveEditor",r);break}}}}t.TabCommand=a},1613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndoCommand=void 0;const n=r(694),i=r(9066),o=r(7549);class s extends n.CommandBase{async execute(e){await(new i.CommandUndo).exec(new o.Position(0,0),e)}}t.UndoCommand=s},5536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VsCodeCommand=void 0;const n=r(3259),i=r(9220),o=r(7549),s=r(694),a=r(8955);class c extends s.CommandBase{constructor(e){super(),this.acceptsRange=!1,this.command=e}static parse(e){const t=new a.Scanner(e);return t.skipWhiteSpace(),new c(t.isAtEof?void 0:t.nextWord())}async execute(e){this.command?await o.commands.executeCommand(this.command):i.StatusBar.displayError(e,n.VimError.fromCode(n.ErrorCode.ArgumentRequired))}}t.VsCodeCommand=c},9611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WallCommand=void 0;const n=r(7549),i=r(694);class o extends i.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){await n.workspace.saveAll(!1)}}t.WallCommand=o},9500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteCommand=void 0;const n=r(5707),i=r(694),o=r(5622),s=r(7549),a=r(5845),c=r(9220);class u extends i.CommandBase{constructor(e){super(),this.logger=a.Logger.get("Write"),this.arguments=e}async execute(e){if(this.arguments.opt)this.logger.warn("not implemented");else if(this.arguments.file)this.logger.warn("not implemented");else if(this.arguments.append)this.logger.warn("not implemented");else if(this.arguments.cmd)this.logger.warn("not implemented");else if(e.document.isUntitled||"file"!==e.document.uri.scheme)await this.background(s.commands.executeCommand("workbench.action.files.save"));else try{return await n.accessAsync(e.document.fileName,n.constants.W_OK),this.save(e)}catch(t){if(this.arguments.bang)try{return await n.chmodAsync(e.document.fileName,666),this.save(e)}catch(t){c.StatusBar.setText(e,t.message)}else c.StatusBar.setText(e,t.message)}}async save(e){await this.background(e.document.save().then((()=>{const t='"'+o.basename(e.document.fileName)+'" '+e.document.lineCount+"L "+e.document.getText().length+"C written";c.StatusBar.setText(e,t)}),(t=>c.StatusBar.setText(e,t))))}async background(e){this.arguments.bgWrite||await e}}t.WriteCommand=u},7372:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitCommand=void 0;const n=r(694),i=r(5207),o=r(9500);class s extends n.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){const t={opt:this.arguments.opt,optValue:this.arguments.optValue,bang:this.arguments.bang,file:this.arguments.file,range:this.arguments.range},r=new o.WriteCommand(t);await r.execute(e);const n={bang:!1,range:this.arguments.range},s=new i.QuitCommand(n);await s.execute(e)}}t.WriteQuitCommand=s},7061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitAllCommand=void 0;const n=r(9611),i=r(694),o=r(5207);class s extends i.CommandBase{constructor(e){super(),this.arguments=e}async execute(e){const t={bang:this.arguments.bang},r={bang:!1},i=new n.WallCommand(t);await i.execute(e),r.quitAll=!0;const s=new o.QuitCommand(r);await s.execute(e)}}t.WriteQuitAllCommand=s},8939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YankCommand=void 0;const n=r(7549),i=r(3176),o=r(7125),s=r(694),a=r(8955);class c extends s.CommandBase{constructor(e){super(),this.arguments=e}static parse(e){if(!e||!e.trim())return new c({});const t=new a.Scanner(e),r=t.nextWord(),n=t.nextWord();let i,o;return isNaN(+r)?(i=r,o=isNaN(+n)?void 0:+n):o=+r,new c({register:i,linesToYank:o})}async yank(e,t,r){e.currentRegisterMode=o.RegisterMode.LineWise,this.arguments.register&&(e.recordedState.registerName=this.arguments.register);const n=e.cursorStopPosition;await(new i.YankOperator).run(e,t.getLineBegin(),r.getLineEnd()),e.cursorStopPosition=n}async execute(e){var t;const r=null!==(t=this.arguments.linesToYank)&&void 0!==t?t:1,n=e.cursorStartPosition,i=r?n.getDown(r-1).getLineEnd():e.cursorStopPosition;await this.yank(e,n,i)}async executeWithRange(e,t){const[r,i]=t.resolve(e);if(this.arguments.linesToYank)return e.cursorStartPosition=new n.Position(i,0),void await this.execute(e);await this.yank(e,new n.Position(r,0),new n.Position(i,0))}}t.YankCommand=c},6962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lex=void 0;const n=r(8955),i=r(7701);function o(e,t){const r=t.emit();return r.length>0?new i.Token(e,r):null}function s(e,t){for(;!e.isAtEof;)switch(e.next()){case",":case";":t.push(o(i.TokenType.Comma,e));continue;case"%":t.push(o(i.TokenType.Percent,e));continue;case"$":t.push(o(i.TokenType.Dollar,e));continue;case".":t.push(o(i.TokenType.Dot,e));continue;case"/":return d;case"?":return h;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(t.length<1)return c(i.TokenType.LineNumber);{const e=t[t.length-1].type;return e===i.TokenType.Plus||e===i.TokenType.Minus?c(i.TokenType.Offset):c(i.TokenType.LineNumber)}case"+":t.push(o(i.TokenType.Plus,e));continue;case"-":t.push(o(i.TokenType.Minus,e));continue;case"*":e.ignore(),t.push(new i.Token(i.TokenType.SelectionFirstLine,"<")),t.push(new i.Token(i.TokenType.Comma,",")),t.push(new i.Token(i.TokenType.SelectionLastLine,">"));continue;case"'":return a;case"!":return t.push(o(i.TokenType.CommandName,e)),l;case" ":e.ignore();continue;default:return u}return null}function a(e,t){if(e.isAtEof)return null;const r=e.next();switch(r){case"<":t.push(o(i.TokenType.SelectionFirstLine,e));break;case">":t.push(o(i.TokenType.SelectionLastLine,e));break;default:/[a-zA-Z]/.test(r)?(e.emit(),t.push(new i.Token(i.TokenType.Mark,r))):e.backup()}return s}function c(e){return(t,r)=>{for(;;){if(t.isAtEof)return r.push(o(e,t)),null;if(!/[0-9]/.test(t.next()))return t.backup(),r.push(o(e,t)),s}}}function u(e,t){for(;;){if(e.isAtEof){t.push(o(i.TokenType.CommandName,e));break}const r=e.next().toLowerCase();if(!(r>="a"&&r<="z"))return e.backup(),t.push(o(i.TokenType.CommandName,e)),l}return null}function l(e,t){for(;!e.isAtEof;)e.next();const r=o(i.TokenType.CommandArgs,e);return r&&t.push(r),null}function d(e,t){e.skip("/");let r=!1,n="";for(;!e.isAtEof;){const t=e.next();if("/"===t&&!r)break;"\\"!==t?(r=!1,n+="\\"!==t?t:"\\\\"):r=!0}return t.push(new i.Token(i.TokenType.ForwardSearch,n)),e.ignore(),e.isAtEof||e.skip("/"),s}function h(e,t){e.skip("?");let r=!1,n="";for(;!e.isAtEof;){const t=e.next();if("?"===t&&!r)break;"\\"!==t?(r=!1,n+="\\"!==t?t:"\\\\"):r=!0}return t.push(new i.Token(i.TokenType.ReverseSearch,n)),e.ignore(),e.isAtEof||e.skip("?"),s}t.lex=function(e){const t=new n.Scanner(e),r=[];let i=s;for(;i;)i=i(t,r);return r}},694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandBase=t.CommandLine=t.LineRange=void 0;const n=r(3259),i=r(7701);class o{constructor(){this.left=[],this.right=[]}addToken(e){if(e.type!==i.TokenType.Comma)if(this.separator){if(this.right.length>0)switch(e.type){case i.TokenType.Offset:case i.TokenType.Plus:case i.TokenType.Minus:break;default:throw Error("Trailing characters")}this.right.push(e)}else{if(this.left.length>0)switch(e.type){case i.TokenType.Offset:case i.TokenType.Plus:case i.TokenType.Minus:break;default:throw Error("Trailing characters")}this.left.push(e)}else this.separator=e}get isEmpty(){return 0===this.left.length&&0===this.right.length&&!this.separator}toString(){var e,t;return this.left.toString()+(null!==(t=null===(e=this.separator)||void 0===e?void 0:e.content)&&void 0!==t?t:"")+this.right.toString()}resolve(e,t=!0){var r,n;if(this.left.length>0&&this.left[0].type===i.TokenType.Percent)return[0,e.document.lineCount-1];const s=null!==(r=o.resolveLineRef(this.left,e,t))&&void 0!==r?r:e.cursorStopPosition.line,a=null!==(n=o.resolveLineRef(this.right,e,t))&&void 0!==n?n:s;return a<s?[a,s]:[s,a]}static resolveLineRef(e,t,r){if(0===e.length)return;let n,o;const s=e[0];switch(s.type){case i.TokenType.Percent:return t.document.lineCount-1;case i.TokenType.Dollar:n=t.document.lineCount-1;break;case i.TokenType.Plus:case i.TokenType.Minus:case i.TokenType.Dot:n=t.editor.selection.active.line,o=s.type===i.TokenType.Dot?void 0:s.type;break;case i.TokenType.LineNumber:n=Number.parseInt(s.content,10)-1;break;case i.TokenType.SelectionFirstLine:n=Math.min.apply(null,t.editor.selections.map((e=>e.start.isBeforeOrEqual(e.end)?e.start.line:e.end.line)));break;case i.TokenType.SelectionLastLine:n=Math.max.apply(null,t.editor.selections.map((e=>e.start.isAfter(e.end)?e.start.line:e.end.line)));break;case i.TokenType.Mark:n=t.historyTracker.getMark(s.content).position.line;break;default:throw new Error("Not Implemented")}for(let t=1;t<e.length;++t){const r=e[t];switch(o){case i.TokenType.Plus:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:n+=1,o=r.type;break;case i.TokenType.Offset:n+=Number.parseInt(r.content,10),o=void 0;break;default:throw Error("Trailing characters")}break;case i.TokenType.Minus:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:n-=1,o=r.type;break;case i.TokenType.Offset:n-=Number.parseInt(r.content,10),o=void 0;break;default:throw Error("Trailing characters")}break;case void 0:switch(r.type){case i.TokenType.Minus:case i.TokenType.Plus:o=r.type;break;default:throw Error("Trailing characters")}}}switch(o){case i.TokenType.Plus:n+=1;break;case i.TokenType.Minus:n-=1}return r&&(n=Math.max(0,n),n=Math.min(t.document.lineCount-1,n)),n}}t.LineRange=o,t.CommandLine=class{constructor(){this.range=new o}get isEmpty(){return this.range.isEmpty&&!this.command}toString(){var e,t;return":"+this.range.toString()+" "+(null!==(t=null===(e=this.command)||void 0===e?void 0:e.toString())&&void 0!==t?t:"")}async execute(e){if(this.command)if(this.range.isEmpty)await this.command.execute(e);else{if(!this.command.acceptsRange)throw n.VimError.fromCode(n.ErrorCode.NoRangeAllowed);await this.command.executeWithRange(e,this.range)}else{const[t,r]=this.range.resolve(e);e.cursorStartPosition=e.cursorStopPosition=e.cursorStopPosition.with({line:r}).obeyStartOfLine(e.document)}}},t.CommandBase=class{constructor(){this.acceptsRange=!0}neovimCapable(){return!1}async executeWithRange(e,t){await this.execute(e)}}},8739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const n=r(6962),i=r(694),o=r(7701),s=r(5845),a=r(3259),c=r(2078),u=s.Logger.get("Parser");function l(e,t){for(;;){const r=e.next();switch(r.type){case o.TokenType.Eof:return;case o.TokenType.Dot:case o.TokenType.Dollar:case o.TokenType.Percent:case o.TokenType.Comma:case o.TokenType.LineNumber:case o.TokenType.SelectionFirstLine:case o.TokenType.SelectionLastLine:case o.TokenType.Mark:case o.TokenType.Offset:case o.TokenType.Plus:case o.TokenType.Minus:t.range.addToken(r);continue;case o.TokenType.CommandName:return e.backup(),d;default:return void u.warn(`Parser: skipping token Token(${r.type},{${r.content}})`)}}}function d(e,t){for(;!e.isAtEof;){const r=e.next();switch(r.type){case o.TokenType.CommandName:const n=(0,c.getParser)(r.content);if(!n)throw a.VimError.fromCode(a.ErrorCode.NotAnEditorCommand,e.input);const i=e.next(),s=i.type===o.TokenType.CommandArgs?i.content:"";return void(t.command=n(s));default:throw new Error("Not implemented")}}return e.isAtEof?void 0:(e.backup(),d)}t.parse=function(e){const t=new i.CommandLine;let r=l;const n=new h(e);for(;r;)r=r(n,t);return t};class h{constructor(e){this.tokens=[],this.pos=0,this.input=e,this.tokens=(0,n.lex)(e)}next(){if(this.pos>=this.tokens.length)return this.pos=this.tokens.length,new o.Token(o.TokenType.Eof,"__EOF__");const e=this.tokens[this.pos];return this.pos++,e}backup(){this.pos--}get isAtEof(){return this.pos>=this.tokens.length}}},8955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scanner=void 0;class r{constructor(e){this.start=0,this.pos=0,this.input=e}next(){if(this.isAtEof)return this.pos=this.input.length,r.EOF;const e=this.input[this.pos];return this.pos++,e}nextWhile(e){if(this.isAtEof)return"";for(;;){const t=this.next();if(t===r.EOF)break;if(!e(t)){this.backup();break}}return this.emit()}nextWord(e=[" ","\t"]){if(this.skipRun(e),this.isAtEof)return this.pos=this.input.length,r.EOF;let t,n="";for(;!this.isAtEof&&(t=this.next(),t!==r.EOF&&!e.includes(t));)n+=t;return t&&e.includes(t)&&this.backup(),this.ignore(),n}get isAtEof(){return this.pos>=this.input.length}ignore(){this.start=this.pos}emit(){const e=this.input.substring(this.start,this.pos);return this.ignore(),e}remaining(){for(;!this.isAtEof;)this.next();return this.emit()}backup(){this.pos--}skip(e){if(this.isAtEof)return;let t=this.next();for(;!this.isAtEof&&t===e;)t=this.next();this.backup(),this.ignore()}skipRun(e){if(!this.isAtEof){for(;!this.isAtEof;){const t=this.next();if(!e.includes(t))break}this.backup(),this.ignore()}}skipWhiteSpace(){if(this.isAtEof)return;let e=null;for(;!this.isAtEof&&(e=this.next()," "===e||"\t"===e););e!==r.EOF&&" "!==e&&"\t"!==e&&this.backup(),this.ignore()}expect(e){if(!this.input.substring(this.pos).startsWith(e))throw new Error("Unexpected character.");this.pos+=e.length}expectOneOf(e){const t=e.filter((e=>this.input.substr(this.pos).startsWith(e)));if(1!==t.length){if(t.length>1)throw new Error("Too many matches.");throw new Error("Unexpected character.")}this.pos+=t[0].length}}t.Scanner=r,r.EOF="__EOF__"},2078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParser=t.commandParsers=void 0;const n=r(2119),i=r(6746),o=r(2131),s=r(7341),a=r(766),c=r(1101),u=r(4363),l=r(8825),d=r(8626),h=r(8556),m=r(2327),f=r(6716),p=r(6010),g=r(1554),v=r(8736),y=r(1363),w=r(175),b=r(8435),C=r(694),S=r(9833),x=r(7732),M=r(3151),E=r(7221),_=r(8730),k=r(1613),A=r(1895),R=r(7506),P=r(9220),T=r(1e3),B=r(6990),L=r(8939),O=r(2839),$=r(5536);t.commandParsers={"!":{parser:A.parseBangCommand},bdelete:{abbrev:"bd",parser:x.parseBufferDeleteCommandArgs},bfirst:{abbrev:"bf",parser:void 0},blast:{abbrev:"bl",parser:void 0},bmodified:{abbrev:"bm",parser:void 0},bnext:{abbrev:"bn",parser:m.parseTabNCommandArgs},bNext:{abbrev:"bN",parser:m.parseTabPCommandArgs},bprevious:{abbrev:"bp",parser:m.parseTabPCommandArgs},brewind:{abbrev:"br",parser:void 0},buffers:{parser:void 0},center:{abbrev:"ce",parser:void 0},clearjumps:{abbrev:"cle",parser:()=>new R.ClearJumpsCommand},close:{abbrev:"clo",parser:n.parseCloseCommandArgs},copy:{abbrev:"co",parser:O.CopyCommand.parse},delete:{abbrev:"d",parser:i.parseDeleteRangeLinesCommandArgs},delmarks:{abbrev:"delm",parser:w.parseMarksRemoveCommandArgs},digraphs:{abbrev:"dig",parser:o.parseDigraphCommandArgs},display:{abbrev:"di",parser:u.parseRegisterCommandArgs},edit:{abbrev:"e",parser:s.parseEditFileCommandArgs},enew:{abbrev:"ene",parser:s.parseEditNewFileCommandArgs},file:{abbrev:"f",parser:y.parseFileInfoCommandArgs},files:{parser:void 0},global:{abbrev:"g",parser:void 0},goto:{abbrev:"go",parser:B.GotoCommand.parse},help:{abbrev:"h",parser:void 0},history:{abbrev:"his",parser:S.parseHistoryCommandArgs},jumps:{abbrev:"ju",parser:()=>new R.JumpsCommand},left:{abbrev:"le",parser:void 0},ls:{parser:void 0},marks:{parser:w.parseMarksCommandArgs},move:{abbrev:"m",parser:void 0},new:{parser:s.parseEditNewFileInNewHorizontalWindowCommandArgs},nohlsearch:{abbrev:"noh",parser:()=>new M.NohlCommand},normal:{abbrev:"norm",parser:void 0},only:{abbrev:"on",parser:()=>new E.OnlyCommand},put:{abbrev:"pu",parser:b.parsePutExCommandArgs},qall:{abbrev:"qa",parser:a.parseQuitAllCommandArgs},quit:{abbrev:"q",parser:a.parseQuitCommandArgs},quitall:{abbrev:"quita",parser:a.parseQuitAllCommandArgs},read:{abbrev:"r",parser:c.parseReadCommandArgs},registers:{abbrev:"reg",parser:u.parseRegisterCommandArgs},right:{abbrev:"ri",parser:void 0},set:{abbrev:"se",parser:l.parseOptionsCommandArgs},shell:{abbrev:"sh",parser:()=>new T.ShCommand},smile:{parser:()=>new _.SmileCommand},sort:{abbrev:"sor",parser:d.parseSortCommandArgs},source:{abbrev:"so",parser:void 0},split:{abbrev:"sp",parser:s.parseEditFileInNewHorizontalWindowCommandArgs},substitute:{abbrev:"s",parser:h.parseSubstituteCommandArgs},t:{parser:O.CopyCommand.parse},tabclose:{abbrev:"tabc",parser:m.parseTabCloseCommandArgs},tabedit:{abbrev:"tabe",parser:m.parseTabNewCommandArgs},tabfirst:{abbrev:"tabfir",parser:m.parseTabFirstCommandArgs},tablast:{abbrev:"tabl",parser:m.parseTabLastCommandArgs},tabmove:{abbrev:"tabm",parser:m.parseTabMovementCommandArgs},tabnew:{parser:m.parseTabNewCommandArgs},tabnext:{abbrev:"tabn",parser:m.parseTabNCommandArgs},tabNext:{abbrev:"tabN",parser:m.parseTabPCommandArgs},tabonly:{abbrev:"tabo",parser:m.parseTabOnlyCommandArgs},tabprevious:{abbrev:"tabp",parser:m.parseTabPCommandArgs},undo:{abbrev:"u",parser:()=>new k.UndoCommand},vglobal:{abbrev:"v",parser:void 0},vnew:{abbrev:"vne",parser:s.parseEditNewFileInNewVerticalWindowCommandArgs},vscode:{abbrev:"vsc",parser:$.VsCodeCommand.parse},vsplit:{abbrev:"vs",parser:s.parseEditFileInNewVerticalWindowCommandArgs},wall:{abbrev:"wa",parser:f.parseWallCommandArgs},wq:{parser:g.parseWriteQuitCommandArgs},wqall:{abbrev:"wqa",parser:v.parseWriteQuitAllCommandArgs},write:{abbrev:"w",parser:p.parseWriteCommandArgs},x:{parser:g.parseWriteQuitCommandArgs},xall:{abbrev:"xa",parser:v.parseWriteQuitAllCommandArgs},yank:{abbrev:"y",parser:L.YankCommand.parse}},t.getParser=function(e){var r;if(""!==e)for(const n of Object.keys(t.commandParsers)){const i=t.commandParsers[n],o=null!==(r=i.parser)&&void 0!==r?r:e=>new F(n,i);if(void 0!==i.abbrev){if(e.startsWith(i.abbrev)&&n.startsWith(e))return o}else if(e===n)return o}};class F extends C.CommandBase{constructor(e,t){super(),this.fullName=e,this.parserMapping=t}neovimCapable(){return!0}async execute(e){const t=this.parserMapping.abbrev?`${this.parserMapping.abbrev}[${this.fullName.substr(this.parserMapping.abbrev.length)}]`:this.fullName;P.StatusBar.setText(e,`Command :${t} is not yet implemented`,!0)}}},1895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBangCommand=void 0;const n=r(281);t.parseBangCommand=function(e){return new n.BangCommand({command:e})}},7732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBufferDeleteCommandArgs=void 0;const n=r(653),i=r(8955);t.parseBufferDeleteCommandArgs=function(e){if(!e)return new n.BufferDeleteCommand({});const t={},r=new i.Scanner(e);"!"===r.next()&&(t.bang=!0,r.ignore());const o=r.remaining();return t.tabPosition=o.trim(),new n.BufferDeleteCommand(t)}},2119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCloseCommandArgs=void 0;const n=r(3259),i=r(3776),o=r(8955);t.parseCloseCommandArgs=function(e){if(!e)return new i.CloseCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.CloseCommand(t)}},6746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDeleteRangeLinesCommandArgs=void 0;const n=r(146),i=r(8955);t.parseDeleteRangeLinesCommandArgs=function(e){if(!e||!e.trim())return new n.DeleteRangeCommand({});const t=new i.Scanner(e),r=t.nextWord(),o=t.nextWord();let s,a;return isNaN(+r)?(s=r,a=isNaN(+o)?void 0:+o):a=+r,new n.DeleteRangeCommand({register:s,linesToRemove:a})}},2131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDigraphCommandArgs=void 0;const n=r(9001),i=r(8955);t.parseDigraphCommandArgs=function(e){return e&&e.trim()?new n.DigraphsCommand({arg:new i.Scanner(e).nextWord()}):new n.DigraphsCommand({})}},7341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEditNewFileInNewHorizontalWindowCommandArgs=t.parseEditNewFileInNewVerticalWindowCommandArgs=t.parseEditFileInNewHorizontalWindowCommandArgs=t.parseEditFileInNewVerticalWindowCommandArgs=t.parseEditNewFileCommandArgs=t.parseEditFileCommandArgs=void 0;const n=r(9241),i=r(8955);t.parseEditFileCommandArgs=function(e){if(!e||!e.trim())return new n.FileCommand({name:"",createFileIfNotExists:!0});const t=new i.Scanner(e),r="!"===t.next();if(t.isAtEof)return new n.FileCommand({name:"",bang:r,createFileIfNotExists:!0});const o=t.remaining();return new n.FileCommand({name:o.trim(),bang:r,createFileIfNotExists:!0})},t.parseEditNewFileCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0})},t.parseEditFileInNewVerticalWindowCommandArgs=function(e){let t="";return e&&(t=new i.Scanner(e).nextWord()),new n.FileCommand({name:t,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditFileInNewHorizontalWindowCommandArgs=function(e){let t="";return e&&(t=new i.Scanner(e).nextWord()),new n.FileCommand({name:t,position:n.FilePosition.NewWindowHorizontalSplit})},t.parseEditNewFileInNewVerticalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowVerticalSplit})},t.parseEditNewFileInNewHorizontalWindowCommandArgs=function(){return new n.FileCommand({name:void 0,createFileIfNotExists:!0,position:n.FilePosition.NewWindowHorizontalSplit})}},1363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFileInfoCommandArgs=void 0;const n=r(6349);t.parseFileInfoCommandArgs=function(e){return new n.FileInfoCommand}},9833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHistoryCommandArgs=void 0;const n=r(4012),i=r(8955);t.parseHistoryCommandArgs=function(e){const t={type:n.HistoryCommandType.Cmd};if(e){const r=new i.Scanner(e);r.skipWhiteSpace();const o=r.nextWord();("/"===o||o.startsWith("s")&&"search".startsWith(o))&&(t.type=n.HistoryCommandType.Search)}return new n.HistoryCommand(t)}},175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMarksRemoveCommandArgs=t.parseMarksCommandArgs=void 0;const n=r(1599);t.parseMarksCommandArgs=function(e){return e&&e.trim()?new n.MarksCommand(e.split("")):new n.MarksCommand},t.parseMarksRemoveCommandArgs=function(e){return e?new n.DeleteMarksCommand(e.trimStart()):new n.DeleteMarksCommand}},8435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePutExCommandArgs=void 0;const n=r(7629),i=r(8955);t.parsePutExCommandArgs=function(e){if(!e)return new n.PutExCommand({});const t={},r=new i.Scanner(e);return"!"===r.next()?(t.bang=!0,r.ignore()):r.backup(),r.skipWhiteSpace(),r.isAtEof||(t.register=r.nextWord()),new n.PutExCommand(t)}},766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuitAllCommandArgs=t.parseQuitCommandArgs=void 0;const n=r(3259),i=r(5207),o=r(8955);function s(e){if(!e)return new i.QuitCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.QuitCommand(t)}t.parseQuitCommandArgs=s,t.parseQuitAllCommandArgs=function(e){const t=s(e);return t.arguments.quitAll=!0,t}},1101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseReadCommandArgs=void 0;const n=r(5580),i=r(8955);t.parseReadCommandArgs=function(e){if(!e||!e.trim())throw Error("Expected arguments.");const t={},r=new i.Scanner(e);if(r.skipWhiteSpace(),"!"===r.next()){if(r.ignore(),r.skipWhiteSpace(),t.cmd=r.remaining(),!t.cmd||0===t.cmd.length)throw Error("Expected shell command.")}else if(t.file=r.remaining(),!t.file||0===t.file.length)throw Error("Expected file path.");return new n.ReadCommand(t)}},4363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRegisterCommandArgs=void 0;const n=r(4018),i=r(8955);t.parseRegisterCommandArgs=function(e){if(!e||!e.trim())return new n.RegisterCommand({registers:[]});const t=new i.Scanner(e),r=[];let o=t.nextWord();for(;o!==i.Scanner.EOF;)r.push(o),o=t.nextWord();return new n.RegisterCommand({registers:r})}},8825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionsCommandArgs=t.parseOption=void 0;const n=r(3437),i=r(8955);function o(e){const t=new i.Scanner(null!=e?e:"");if(t.skipWhiteSpace(),t.isAtEof)return{};const r=t.nextWord("?!&=:^+-".split(""));if(r.startsWith("no"))return{name:r.substring(2,r.length),operator:n.SetOptionOperator.Reset};if(r.startsWith("inv"))return{name:r.substring(3,r.length),operator:n.SetOptionOperator.Invert};if(t.skipWhiteSpace(),t.isAtEof)return{name:r,operator:n.SetOptionOperator.Set};const o=t.next(),s={name:r,value:t.nextWord([])};switch(o){case"=":case":":s.operator=n.SetOptionOperator.Equal;break;case"!":s.operator=n.SetOptionOperator.Invert;break;case"^":s.operator=n.SetOptionOperator.Multiply;break;case"+":s.operator=n.SetOptionOperator.Append;break;case"-":s.operator=n.SetOptionOperator.Subtract;break;case"?":s.operator=n.SetOptionOperator.Info;break;case"&":s.operator=n.SetOptionOperator.Reset;break;default:throw new Error(`Unsupported operator (${o}).`)}return s}t.parseOption=o,t.parseOptionsCommandArgs=function(e){return new n.SetOptionsCommand(o(e))}},8626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSortCommandArgs=void 0;const n=r(7338),i=r(8955);t.parseSortCommandArgs=function(e){if(!e||!e.trim())return new n.SortCommand({reverse:!1,ignoreCase:!1,unique:!1});const t=new i.Scanner(e),r="!"===t.next(),o=t.nextWord(),s=o.includes("i"),a=o.includes("u");return new n.SortCommand({reverse:r,ignoreCase:s,unique:a})}},8556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSubstituteCommandArgs=void 0;const n=r(7718),i=r(8955),o=r(3259),s={b:"\b",r:"\r",n:"\n",t:"\t","&":"$&",0:"$0",1:"$1",2:"$2",3:"$3",4:"$4",5:"$5",6:"$6",7:"$7",8:"$8",9:"$9"};t.parseSubstituteCommandArgs=function(e){try{let t,r,o,a,c;if(!e||!e.trim())return new n.SubstituteCommand({pattern:void 0,replace:"",flags:n.SubstituteFlags.None});const u=e[0];if(/^[^\w\s\\|"]{1}$/g.exec(u)){if(1===e.length)return new n.SubstituteCommand({pattern:"",replace:"",flags:n.SubstituteFlags.None});let o;if(c=new i.Scanner(e.substr(1,e.length-1)),[t,o]=function(e,t){let r="";for(;!e.isAtEof;){let n=e.next();if(n===t)return[r,!0];"\\"===n?e.isAtEof?r+="\\\\":(n=e.next(),r+=n===t?t:"\\"+n):r+=n}return[r,!1]}(c,u),!o)return new n.SubstituteCommand({pattern:t,replace:"",flags:n.SubstituteFlags.None});r=function(e,t){let r="";for(;!e.isAtEof;){let n=e.next();if(n===t)return r;"\\"===n?e.isAtEof?r+="\\":(n=e.next(),n===t?r+=t:s.hasOwnProperty(n)?r+=s[n]:r+=n):r+=n}return r}(c,u)}else t=void 0,r="",c=new i.Scanner(e);return c.skipWhiteSpace(),o=function(e){let t=0,r=0;for(;!e.isAtEof;){switch(e.next()){case"&":if(0!==r)return n.SubstituteFlags.None;t|=n.SubstituteFlags.KeepPreviousFlags;break;case"c":t|=n.SubstituteFlags.ConfirmEach;break;case"e":t|=n.SubstituteFlags.SuppressError;break;case"g":t|=n.SubstituteFlags.ReplaceAll;break;case"i":t|=n.SubstituteFlags.IgnoreCase;break;case"I":t|=n.SubstituteFlags.NoIgnoreCase;break;case"n":t|=n.SubstituteFlags.PrintCount;break;case"p":t|=n.SubstituteFlags.PrintLastMatchedLine;break;case"#":t|=n.SubstituteFlags.PrintLastMatchedLineWithNumber;break;case"l":t|=n.SubstituteFlags.PrintLastMatchedLineWithList;break;case"r":t|=n.SubstituteFlags.UsePreviousPattern;break;default:return e.backup(),t}r++}return t}(c),c.skipWhiteSpace(),a=function(e){let t="";for(;!e.isAtEof;)t+=e.next();const r=Number.parseInt(t,10);return Number.isInteger(r)?r:-1}(c),new n.SubstituteCommand({pattern:t,replace:r,flags:o,count:a})}catch(e){throw o.VimError.fromCode(o.ErrorCode.PatternNotFound)}}},2327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTabMovementCommandArgs=t.parseTabOnlyCommandArgs=t.parseTabCloseCommandArgs=t.parseTabNewCommandArgs=t.parseTabLastCommandArgs=t.parseTabFirstCommandArgs=t.parseTabPCommandArgs=t.parseTabNCommandArgs=void 0;const n=r(394),i=r(8955),o=r(3259),s=e=>"0"<=e&&e<="9";function a(e){if(!e)return;const t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return;const r=t.nextWhile(s);t.skipWhiteSpace();const n=Number.parseInt(r,10);if(t.isAtEof&&Number.isInteger(n)&&n>=0)return n;throw o.VimError.fromCode(o.ErrorCode.InvalidArgument)}t.parseTabNCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Next,count:a(e)})},t.parseTabPCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Previous,count:a(e)})},t.parseTabFirstCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.First})},t.parseTabLastCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Last})},t.parseTabNewCommandArgs=function(e){let t="";return e&&(t=new i.Scanner(e).nextWord()),new n.TabCommand({tab:n.Tab.New,file:t})},t.parseTabCloseCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Close,count:a(e)})},t.parseTabOnlyCommandArgs=function(e){return new n.TabCommand({tab:n.Tab.Only})},t.parseTabMovementCommandArgs=function(e){const{count:t,direction:r}=function(e){if(!e)return{count:void 0};const t=new i.Scanner(e);if(t.skipWhiteSpace(),t.isAtEof)return{count:void 0};const r=t.next(),n="-"===r?"left":"+"===r?"right":void 0;void 0===n?t.backup():t.ignore();const a=t.nextWhile(s);if(t.skipWhiteSpace(),t.isAtEof){const e=0===a.length?1:Number.parseInt(a,10);if(Number.isInteger(e)&&(e>0||void 0===n&&0===e))return{count:e,direction:n}}throw o.VimError.fromCode(o.ErrorCode.InvalidArgument)}(e);return new n.TabCommand({tab:n.Tab.Move,count:t,direction:r})}},6716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWallCommandArgs=void 0;const n=r(3259),i=r(9611),o=r(8955);t.parseWallCommandArgs=function(e){if(!e)return new i.WallCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.WallCommand(t)}},6010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteCommandArgs=void 0;const n=r(9500),i=r(8955);t.parseWriteCommandArgs=function(e){if(!e)return new n.WriteCommand({bgWrite:!0});const t={bgWrite:!0},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":if(r.start>0){for(r.ignore();!r.isAtEof;)r.next();t.cmd=r.emit().trim()||void 0;continue}t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)e=r.next()," "!==e&&"\t"!==e||r.backup();const n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented.")}}return new n.WriteCommand(t)}},1554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteQuitCommandArgs=void 0;const n=r(7372),i=r(8955);t.parseWriteQuitCommandArgs=function(e){if(!e)return new n.WriteQuitCommand({});const t={},r=new i.Scanner(e);for(;r.skipWhiteSpace(),!r.isAtEof;){let e=r.next();switch(e){case"!":t.bang=!0,r.ignore();continue;case"+":for(r.expect("+"),r.ignore(),r.expectOneOf(["bin","nobin","ff","enc"]),t.opt=r.emit(),r.expect("="),r.ignore();!r.isAtEof;)e=r.next()," "!==e&&"\t"!==e||r.backup();const n=r.emit();if(!n)throw new Error("Expected value for option.");t.optValue=n;continue;default:throw new Error("Not implemented")}}return new n.WriteQuitCommand(t)}},8736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWriteQuitAllCommandArgs=void 0;const n=r(3259),i=r(7061),o=r(8955);t.parseWriteQuitAllCommandArgs=function(e){if(!e)return new i.WriteQuitAllCommand({});const t={},r=new o.Scanner(e),s=r.next();if("!"===s)t.bang=!0,r.ignore();else if(" "!==s)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);if(r.skipWhiteSpace(),!r.isAtEof)throw n.VimError.fromCode(n.ErrorCode.TrailingCharacters);return new i.WriteQuitAllCommand(t)}},7701:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TokenType=void 0,(r=t.TokenType||(t.TokenType={}))[r.Unknown=0]="Unknown",r[r.Eof=1]="Eof",r[r.LineNumber=2]="LineNumber",r[r.Dot=3]="Dot",r[r.Dollar=4]="Dollar",r[r.Percent=5]="Percent",r[r.Comma=6]="Comma",r[r.Plus=7]="Plus",r[r.Minus=8]="Minus",r[r.CommandName=9]="CommandName",r[r.CommandArgs=10]="CommandArgs",r[r.ForwardSearch=11]="ForwardSearch",r[r.ReverseSearch=12]="ReverseSearch",r[r.Offset=13]="Offset",r[r.SelectionFirstLine=14]="SelectionFirstLine",r[r.SelectionLastLine=15]="SelectionLastLine",r[r.Mark=16]="Mark",t.Token=class{constructor(e,t){this.type=e,this.content=t}}},7497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PairMatcher=void 0;const n=r(7549);class i{static findPairedChar(e,t,r,o,s,a,c){let u=e.line;const l=e.character,d=a.document.lineCount,h=a.document.lineAt(e).text[e.character];if(c&&a.cursorStartPosition.isEqual(a.cursorStopPosition)&&h===t)return e;for(;i.keepSearching(u,d,s);){let i=a.document.lineAt(u).text.split("");const c=i.length;for(u===e.line&&(i=s?i.slice(l+1,c):i.slice(0,l));!(i.length<=0||o<=-1);){let e;if(e=s?i.shift():i.pop(),e===r)o++;else{if(e!==t)continue;o--}}if(o<=-1){let e;return e=s?Math.max(0,c-i.length-1):i.length,new n.Position(u,e)}s?u++:u--}}static keepSearching(e,t,r){return r?e<=t-1:e>=0}static nextPairedChar(e,t,r,n){const o=this.pairings[t];if(void 0===o||o.directionless)return;const s=o.match,a=t;return i.findPairedChar(e,s,a,0,o.isNextMatchForward,r,n)}}t.PairMatcher=i,i.pairings={"(":{match:")",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"{":{match:"}",isNextMatchForward:!0,matchesWithPercentageMotion:!0},"[":{match:"]",isNextMatchForward:!0,matchesWithPercentageMotion:!0},")":{match:"(",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"}":{match:"{",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"]":{match:"[",isNextMatchForward:!1,matchesWithPercentageMotion:!0},"<":{match:">",isNextMatchForward:!0},">":{match:"<",isNextMatchForward:!1},'"':{match:'"',isNextMatchForward:!1,directionless:!0},"'":{match:"'",isNextMatchForward:!1,directionless:!0},"`":{match:"`",isNextMatchForward:!1,directionless:!0}}},3672:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteMatcher=void 0,function(e){e[e.Opening=0]="Opening",e[e.Closing=1]="Closing"}(r||(r={}));class n{constructor(e,t){this.quoteMap=[];let i=!0;for(let o=0;o<t.length;o++)t[o]!==n.escapeChar?t[o]===e&&(this.quoteMap[o]=i?r.Opening:r.Closing,i=!i):o+=1}surroundingQuotes(e){var t;const n=this.quoteMap[e];if(n===r.Opening){const t=this.getNextQuote(e);return void 0!==t?[e,t]:void 0}if(n===r.Closing)return[this.getPrevQuote(e),e];{const r=null!==(t=this.getPrevQuote(e))&&void 0!==t?t:this.getNextQuote(e);if(void 0!==r){const e=this.getNextQuote(r);if(void 0!==e)return[r,e]}}}getNextQuote(e){for(let t=e+1;t<this.quoteMap.length;t++)if(void 0!==this.quoteMap[t])return t}getPrevQuote(e){for(let t=e-1;t>=0;t--)if(void 0!==this.quoteMap[t])return t}}t.QuoteMatcher=n,n.escapeChar="\\"},2041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagMatcher=void 0;const n=r(1797);class i{constructor(e,t,r){let o=i.TAG_REGEX.exec(e);const s=[];for(;o;)o[i.CLOSE_FORWARD_SLASH]||s.push({name:o[i.TAG_NAME],type:o[i.OPEN_FORWARD_SLASH]?"close":"open",startPos:o.index,endPos:i.TAG_REGEX.lastIndex}),o=i.TAG_REGEX.exec(e);const a=[],c=[];for(const e of s)if("open"===e.type)a.push(e);else for(let t=a.length-1;t>=0;t--){const r=a[t];if("open"===r.type&&r.name===e.name){c.push({tag:r.name,openingTagStart:r.startPos,openingTagEnd:r.endPos,closingTagStart:e.startPos,closingTagEnd:e.endPos}),a.splice(t);break}}const u=n.TextEditor.getFirstNonWhitespaceCharOnLine(r.document,r.cursorStartPosition.line),l=r.cursorStartPosition.character<u.character?u:r.cursorStartPosition,d=r.document.offsetAt(l),h=t,m=c.filter((e=>d>=e.openingTagStart&&h<e.closingTagEnd));if(!m.length)return;const f=this.determineRelevantTag(m,d,0!==r.cursorStartPosition.compareTo(r.cursorStopPosition));f&&(this.openStart=f.openingTagStart,this.closeEnd=f.closingTagEnd,d===f.openingTagEnd&&h+1===f.closingTagStart?(this.openEnd=this.openStart,this.closeStart=this.closeEnd):(this.openEnd=f.openingTagEnd,this.closeStart=f.closingTagStart))}determineRelevantTag(e,t,r){const n=e[0];return r&&t===n.openingTagStart?e[1]:n}findOpening(e){return e?this.openStart:this.openEnd}findClosing(e){return e?this.closeEnd:this.closeStart}}t.TagMatcher=i,i.TAG_REGEX=/\<(\/)?([^\>\<\s\/]+)(?:[^\>\<]*?)(\/)?\>/g,i.OPEN_FORWARD_SLASH=1,i.TAG_NAME=2,i.CLOSE_FORWARD_SLASH=3},8693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cursor=void 0;class r{constructor(e,t){this.start=e,this.stop=t}isValid(e){return this.start.isValid(e)&&this.stop.isValid(e)}static FromVSCodeSelection(e){return new r(e.start,e.end)}equals(e){return this.start.isEqual(e.start)&&this.stop.isEqual(e.stop)}withNewStop(e){return new r(this.start,e)}withNewStart(e){return new r(e,this.stop)}toString(){return`[${this.start.toString()} | ${this.stop.toString()}]`}}t.Cursor=r},4880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sorted=t.laterOf=t.earlierOf=t.PositionDiff=void 0;const n=r(7549),i=r(7536),o=r(1797),s=r(3434),a=r(6993),c=r(8019),u=r(7549);var l;!function(e){e[e.ExactPosition=0]="ExactPosition",e[e.Offset=1]="Offset",e[e.ExactCharacter=2]="ExactCharacter",e[e.ObeyStartOfLine=3]="ObeyStartOfLine",e[e.EndOfLine=4]="EndOfLine"}(l||(l={}));class d{constructor(e,t,r){this.type=e,this.line=t,this.character=r}static identity(){return d.offset({line:0,character:0})}static offset({line:e=0,character:t=0}){return new d(l.Offset,e,t)}static exactPosition(e){return new d(l.ExactPosition,e.line,e.character)}static startOfLine(){return new d(l.ObeyStartOfLine,0,0)}static endOfLine(){return new d(l.EndOfLine,0,0)}static exactCharacter({lineOffset:e,character:t}){return new d(l.ExactCharacter,null!=e?e:0,t)}toString(){switch(this.type){case l.Offset:return`[ Diff: Offset ${this.line} ${this.character} ]`;case l.ExactCharacter:return`[ Diff: ExactCharacter ${this.line} ${this.character} ]`;case l.ExactPosition:return`[ Diff: ExactPosition ${this.line} ${this.character} ]`;case l.ObeyStartOfLine:return`[ Diff: ObeyStartOfLine ${this.line} ]`;case l.EndOfLine:return`[ Diff: EndOfLine ${this.line} ]`;default:throw this.type,new Error(`Unknown PositionDiffType: ${this.type}`)}}}t.PositionDiff=d,t.earlierOf=function(e,t){return e.isBefore(t)?e:t},t.laterOf=function(e,t){return e.isBefore(t)?t:e},t.sorted=function(e,t){return e.isBefore(t)?[e,t]:[t,e]},u.Position.prototype.toString=function(){return`[${this.line}, ${this.character}]`},u.Position.prototype.add=function(e,t,r=!0){if(t.type===l.ExactPosition)return new u.Position(t.line,t.character);const n=(0,s.clamp)(this.line+t.line,0,e.lineCount-1);let i;if(t.type===l.Offset)i=this.character+t.character;else if(t.type===l.ExactCharacter)i=t.character;else if(t.type===l.ObeyStartOfLine)i=this.obeyStartOfLine(e).character;else{if(t.type!==l.EndOfLine)throw new Error(`Unknown PositionDiffType: ${t.type}`);i=this.getLineEnd().character}const o=new u.Position(n,Math.max(i,0));return r?e.validatePosition(o):o},u.Position.prototype.subtract=function(e){return d.offset({line:this.line-e.line,character:this.character-e.character})},u.Position.prototype.withColumn=function(e){return e=(0,s.clamp)(e,0,o.TextEditor.getLineLength(this.line)),new u.Position(this.line,e)},u.Position.prototype.getLeft=function(e=1){return new u.Position(this.line,Math.max(this.character-e,0))},u.Position.prototype.getRight=function(e=1){return new u.Position(this.line,Math.min(this.character+e,o.TextEditor.getLineLength(this.line)))},u.Position.prototype.getDown=function(e=1){if(n.window.activeTextEditor){const t=Math.min(this.line+e,o.TextEditor.getLineCount()-1);return new u.Position(t,Math.min(this.character,o.TextEditor.getLineLength(t)))}return this.translate({lineDelta:e})},u.Position.prototype.getUp=function(e=1){const t=Math.max(this.line-e,0);return new u.Position(t,Math.min(this.character,o.TextEditor.getLineLength(t)))},u.Position.prototype.getLeftThroughLineBreaks=function(e=!0){return this.isLineBeginning()?0===this.line?this:e?this.getUp().getLineEnd():this.getUp().getLineEnd().getLeft():this.getLeft()},u.Position.prototype.getRightThroughLineBreaks=function(e=!1){if(this.isAtDocumentEnd())return this;if(this.line<o.TextEditor.getLineCount()-1){if((e?this:this.getRight()).isLineEnd())return this.with({character:0}).getDown()}else if(!e&&this.character===o.TextEditor.getLineLength(this.line)-1)return this;return this.getRight()},u.Position.prototype.getOffsetThroughLineBreaks=function(e){let t=new u.Position(this.line,this.character);if(e<0)for(let r=0;r<-e;r++)t=t.getLeftThroughLineBreaks();else for(let r=0;r<e;r++)t=t.getRightThroughLineBreaks();return t},u.Position.prototype.prevWordStart=function(e,t){var r,n;return(0,c.prevWordStart)(e,this,null!==(r=null==t?void 0:t.wordType)&&void 0!==r?r:c.WordType.Normal,null!==(n=null==t?void 0:t.inclusive)&&void 0!==n&&n)},u.Position.prototype.nextWordStart=function(e,t){var r,n;return(0,c.nextWordStart)(e,this,null!==(r=null==t?void 0:t.wordType)&&void 0!==r?r:c.WordType.Normal,null!==(n=null==t?void 0:t.inclusive)&&void 0!==n&&n)},u.Position.prototype.prevWordEnd=function(e,t){var r;return(0,c.prevWordEnd)(e,this,null!==(r=null==t?void 0:t.wordType)&&void 0!==r?r:c.WordType.Normal)},u.Position.prototype.nextWordEnd=function(e,t){var r,n;return(0,c.nextWordEnd)(e,this,null!==(r=null==t?void 0:t.wordType)&&void 0!==r?r:c.WordType.Normal,null!==(n=null==t?void 0:t.inclusive)&&void 0!==n&&n)},u.Position.prototype.getSentenceBegin=function(e){return(0,a.getSentenceBegin)(this,e)},u.Position.prototype.getSentenceEnd=function(){return(0,a.getSentenceEnd)(this)},u.Position.prototype.getLineBegin=function(){return new u.Position(this.line,0)},u.Position.prototype.getLineBeginRespectingIndent=function(e){return i.configuration.autoindent?o.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line):this.getLineBegin()},u.Position.prototype.getLineEnd=function(){return new u.Position(this.line,o.TextEditor.getLineLength(this.line))},u.Position.prototype.getLineEndIncludingEOL=function(){return new u.Position(this.line,o.TextEditor.getLineLength(this.line)+1)},u.Position.prototype.getLeftIfEOL=function(){return this.character===o.TextEditor.getLineLength(this.line)?this.getLeft():this},u.Position.prototype.advancePositionByText=function(e){const t=[];let r=e.indexOf("\n",0);for(;r>=0;)t.push(r),r=e.indexOf("\n",r+1);return 0===t.length?new u.Position(this.line,this.character+e.length):new u.Position(this.line+t.length,e.length-(t[t.length-1]+1))},u.Position.prototype.isLineBeginning=function(){return 0===this.character},u.Position.prototype.isLineEnd=function(){return this.character>=o.TextEditor.getLineLength(this.line)},u.Position.prototype.isFirstWordOfLine=function(e){return o.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line).character===this.character},u.Position.prototype.isAtDocumentBegin=function(){return 0===this.line&&this.isLineBeginning()},u.Position.prototype.isAtDocumentEnd=function(){return this.line===o.TextEditor.getLineCount()-1&&this.isLineEnd()},u.Position.prototype.isInLeadingWhitespace=function(e){return/^\s+$/.test(e.getText(new n.Range(this.getLineBegin(),this)))},u.Position.prototype.obeyStartOfLine=function(e){return i.configuration.startofline?o.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line):this},u.Position.prototype.isValid=function(e){try{const t=o.TextEditor.getLineCount(e)||1;if(this.line>=t)return!1;const r=o.TextEditor.getLineLength(this.line);if(this.character>r+1)return!1}catch(e){return!1}return!0}},6346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumericString=void 0;class r{constructor(e,t,r,n,i,o){this.value=e,this.radix=t,this.numLength=r,this.prefix=n,this.suffix=i,this.negative=o}static parse(e){let t=-1,n=-1,i=-1,o=!1;for(const{regex:s,radix:a}of r.matchings){const r=s.exec(e);null!=r&&(i<0||r.index<t||r.index===t&&r[0].length>n)&&(t=r.index,n=r[0].length,i=a,o="-"===r[1])}if(i<0)return;const s=t+n,a=e.slice(0,t),c=e.slice(t,s),u=e.slice(s,e.length);let l=parseInt(c,i);const d=n-r.numPrefix[i].length-(o?1:0);let h=!1;return 10!==i&&o&&(l=-l,h=!0),{num:new r(l,i,d,a,u,h),suffixOffset:s}}toString(){if(10!==this.radix){const e=4294967295;for(;this.value<0;)this.value=e+this.value+1}let e=Math.abs(this.value).toString(this.radix);if(10!==this.radix){const t=this.numLength-e.length;t>0&&(e="0".repeat(t)+e)}const t=(this.negative||this.value<0?"-":"")+r.numPrefix[this.radix]+e;return this.prefix+t+this.suffix}}t.NumericString=r,r.numPrefix={8:"0",10:"",16:"0x"},r.matchings=[{regex:/(-)?0[0-7]+/,radix:8},{regex:/(-)?\d+/,radix:10},{regex:/(-)?0x[\da-fA-F]+/,radix:16}]},4490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lineCompletionProvider=t.getCompletionsForCurrentLine=void 0;const n=r(7549),i=r(1797),o=(e,t,r)=>{const n=e=>{let n=r?t-e:e-t;return n<0&&(n=t+Math.abs(n)),n};return e.getText().split("\n").map(((e,t)=>({sortPriority:n(t),text:e.replace(/^[ \t]*/,"")}))).sort(((e,t)=>e.sortPriority>t.sortPriority?1:-1))};t.getCompletionsForCurrentLine=(e,t)=>((e,t,r)=>{const i=[];for(const s of(e=>[...n.workspace.textDocuments].sort(((t,r)=>t.fileName===e?-1:r.fileName===e?1:0)))(t)){let n=0,a=!1;s.fileName===t&&(n=r.line,a=!0);for(const t of o(s,n,a))!i.includes(t.text)&&t.text&&t.text.startsWith(e)&&t.text!==e&&i.push(t.text)}return i})(t.getText(new n.Range(i.TextEditor.getFirstNonWhitespaceCharOnLine(t,e.line),e)),t.fileName,e),t.lineCompletionProvider={showLineCompletionsQuickPick:async(e,r)=>{const o=(0,t.getCompletionsForCurrentLine)(e,r.document);if(!o)return;const s=await n.window.showQuickPick(o);s&&(r.recordedState.transformer.delete(new n.Range(i.TextEditor.getFirstNonWhitespaceCharOnLine(r.document,e.line),e.getLineEnd())),r.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:s}))}}},7536:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.configuration=t.optionAliases=t.extensionVersion=void 0;const i=r(7549),o=r(2253),s=r(4627),a=r(3856),c=r(3018),u=r(4530),l=r(1765),d=r(4147),h=r(5509);t.extensionVersion=d.version,t.optionAliases=new Map([["ai","autoindent"],["et","expandtab"],["gd","gdefault"],["hi","history"],["hls","hlsearch"],["ic","ignorecase"],["is","incsearch"],["isk","iskeyword"],["js","joinspaces"],["mmd","maxmapdepth"],["nu","number"],["rnu","relativenumber"],["sc","showcmd"],["scr","scroll"],["scs","smartcase"],["smd","showmode"],["sol","startofline"],["to","timeout"],["ts","tabstop"],["tw","textwidth"],["ws","wrapscan"],["ww","whichwrap"]]);class m{constructor(){this.leaderDefault="\\",this.cursorTypeMap={line:i.TextEditorCursorStyle.Line,block:i.TextEditorCursorStyle.Block,underline:i.TextEditorCursorStyle.Underline,"line-thin":i.TextEditorCursorStyle.LineThin,"block-outline":i.TextEditorCursorStyle.BlockOutline,"underline-thin":i.TextEditorCursorStyle.UnderlineThin},this.handleKeys=[],this.useSystemClipboard=!1,this.useCtrlKeys=!1,this.overrideCopy=!0,this.textwidth=80,this.hlsearch=!1,this.ignorecase=!0,this.smartcase=!0,this.autoindent=!0,this.joinspaces=!0,this.camelCaseMotion={enable:!0},this.replaceWithRegister=!1,this.smartRelativeLine=!1,this.sneak=!1,this.sneakUseIgnorecaseAndSmartcase=!1,this.sneakReplacesF=!1,this.surround=!0,this.argumentObjectSeparators=[","],this.argumentObjectOpeningDelimiters=["(","["],this.argumentObjectClosingDelimiters=[")","]"],this.easymotion=!1,this.easymotionMarkerBackgroundColor="#0000",this.easymotionMarkerForegroundColorOneChar="#ff0000",this.easymotionMarkerForegroundColorTwoChar="#ffa500",this.easymotionMarkerForegroundColorTwoCharFirst="#ffb400",this.easymotionMarkerForegroundColorTwoCharSecond="#b98300",this.easymotionIncSearchForegroundColor="#7fbf00",this.easymotionDimColor="#777777",this.easymotionMarkerWidthPerChar=8,this.easymotionDimBackground=!0,this.easymotionMarkerFontFamily="Consolas",this.easymotionMarkerFontSize="14",this.easymotionMarkerFontWeight="bold",this.easymotionMarkerMargin=0,this.easymotionKeys="hklyuiopnm,qwertzxcvbasdgjf;",this.easymotionJumpToAnywhereRegex="\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]",this.autoSwitchInputMethod={enable:!1,defaultIM:"",obtainIMCmd:"",switchIMCmd:""},this.timeout=1e3,this.maxmapdepth=1e3,this.showcmd=!0,this.showmodename=!0,this.leader=this.leaderDefault,this.history=50,this.incsearch=!0,this.startInInsertMode=!1,this.statusBarColorControl=!1,this.statusBarColors={normal:"#005f5f",insert:"#5f0000",visual:"#5f00af",visualline:"#005f87",visualblock:"#86592d",replace:"#000000"},this.debug={silent:!1,loggingLevelForAlert:"error",loggingLevelForConsole:"error"},this.searchHighlightColor="",this.searchHighlightTextColor="",this.highlightedyank={enable:!1,color:"rgba(250, 240, 170, 0.5)",textColor:"",duration:200},this.boundKeyCombinations=[],this.visualstar=!1,this.mouseSelectionGoesIntoVisualMode=!0,this.changeWordIncludesWhitespace=!1,this.foldfix=!1,this.disableExtension=!1,this.enableNeovim=!1,this.neovimPath="",this.neovimUseConfigFile=!1,this.neovimConfigPath="",this.vimrc={enable:!1,path:""},this.digraphs={},this.gdefault=!1,this.substituteGlobalFlag=!1,this.whichwrap="b,s",this.startofline=!0,this.showMarksInGutter=!1,this.report=2,this.wrapscan=!0,this.scroll=0,this.cursorStylePerMode={normal:void 0,insert:void 0,visual:void 0,visualline:void 0,visualblock:void 0,replace:void 0},this.insertModeKeyBindings=[],this.insertModeKeyBindingsNonRecursive=[],this.normalModeKeyBindings=[],this.normalModeKeyBindingsNonRecursive=[],this.operatorPendingModeKeyBindings=[],this.operatorPendingModeKeyBindingsNonRecursive=[],this.visualModeKeyBindings=[],this.visualModeKeyBindingsNonRecursive=[],this.commandLineModeKeyBindings=[],this.commandLineModeKeyBindingsNonRecursive=[],this.insertModeKeyBindingsMap=new Map,this.normalModeKeyBindingsMap=new Map,this.operatorPendingModeKeyBindingsMap=new Map,this.visualModeKeyBindingsMap=new Map,this.commandLineModeKeyBindingsMap=new Map}async load(){const e=o.Globals.isTesting?o.Globals.mockConfiguration:this.getConfiguration("vim");for(const t in this){let r=e[t];null!=r&&(r.constructor.name===Object.name&&(r=m.unproxify(r)),this[t]=r)}h.SUPPORT_VIMRC&&this.vimrc.enable&&await Promise.resolve().then((()=>r(1971))).then((e=>e.vimrc.load(this))),this.leader=s.Notation.NormalizeKey(this.leader,this.leaderDefault),this.clearKeyBindingsMaps();const n=await c.configurationValidator.validate(t.configuration);this.boundKeyCombinations=[];for(const e of d.contributes.keybindings){if(e.when.includes("listFocus"))continue;if(e.command.startsWith("notebook"))continue;let t=e.key;"darwin"===l.platform?t=e.mac||t:"linux"===l.platform&&(t=e.linux||t),this.boundKeyCombinations.push({key:s.Notation.NormalizeKey(t,this.leader),command:e.command})}u.decoration.load(this);for(const e of this.boundKeyCombinations){let t=!0;const r=this.handleKeys[e.key];void 0!==r?t=r:this.useCtrlKeys||"C-"!==e.key.slice(1,3)||(t=!("<C-c>"!==e.key||!this.overrideCopy)),a.VSCodeContext.set(`vim.use${e.key}`,t)}return a.VSCodeContext.set("vim.overrideCopy",this.overrideCopy),a.VSCodeContext.set("vim.overrideCtrlC",this.overrideCopy||this.useCtrlKeys),n}getConfiguration(e=""){var t;const r=null===(t=i.window.activeTextEditor)||void 0===t?void 0:t.document,n=r?{uri:r.uri,languageId:r.languageId}:void 0;return i.workspace.getConfiguration(e,n)}cursorStyleFromString(e){return this.cursorTypeMap[e]}clearKeyBindingsMaps(){this.normalModeKeyBindingsMap=new Map,this.insertModeKeyBindingsMap=new Map,this.visualModeKeyBindingsMap=new Map,this.commandLineModeKeyBindingsMap=new Map,this.operatorPendingModeKeyBindingsMap=new Map}get editorCursorStyle(){return this.cursorStyleFromString(this.editorCursorStyleRaw)}set editorCursorStyle(e){}getScrollLines(e){return 0===this.scroll?Math.ceil((e[0].end.line-e[0].start.line)/2):this.scroll}getCursorStyleForMode(e){const t=this.cursorStylePerMode[e.toLowerCase()];if(t)return this.cursorStyleFromString(t)}static unproxify(e){const t={};for(const r in e){const n=e[r];null!=n&&(t[r]=n)}return t}}function f(e){return(t,r)=>{Object.defineProperty(t,r,{get(){let t=this["_"+r];return void 0!==t&&""!==t||(t=this.getConfiguration("editor").get(e.settingName,e.defaultValue),e.map&&void 0!==t&&(t=e.map.get(t))),t},set(t){if(this["_"+r]=t,void 0!==t&&""!==t&&!o.Globals.isTesting){if(e.map)for(const[r,n]of e.map.entries())if(t===n){t=r;break}this.getConfiguration("editor").update(e.settingName,t,i.ConfigurationTarget.Global)}},enumerable:!0,configurable:!0})}}n([f({settingName:"tabSize",defaultValue:8})],m.prototype,"tabstop",void 0),n([f({settingName:"cursorStyle",defaultValue:"line"})],m.prototype,"editorCursorStyleRaw",void 0),n([f({settingName:"insertSpaces",defaultValue:!1})],m.prototype,"expandtab",void 0),n([f({settingName:"lineNumbers",defaultValue:!0,map:new Map([["on",!0],["off",!1],["relative",!1],["interval",!1]])})],m.prototype,"number",void 0),n([f({settingName:"lineNumbers",defaultValue:!1,map:new Map([["on",!1],["off",!1],["relative",!0],["interval",!1]])})],m.prototype,"relativenumber",void 0),n([f({settingName:"wordSeparators",defaultValue:"/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-"})],m.prototype,"iskeyword",void 0),n([f({settingName:"wordWrap",defaultValue:!1,map:new Map([["on",!0],["off",!1],["wordWrapColumn",!0],["bounded",!0]])})],m.prototype,"wrap",void 0),t.configuration=new m},3018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurationValidator=void 0;const n=r(9518);t.configurationValidator=new class{constructor(){this.validators=[]}registerValidator(e){this.validators.push(e)}async validate(e){const t=new n.ValidatorResults;for(const r of this.validators){const n=await r.validate(e);n.hasError&&r.disable(e),t.concat(n)}return t}}},4530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decoration=void 0;const n=r(7549);t.decoration=new class{constructor(){this._markDecorationCache=new Map}_createMarkDecoration(e){const t=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px" height="30px">',"<style>text { font-family: sans-serif; font-size: 0.8em; }</style>",'<path fill="rgb(3,102,214)" d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"/>',`<text x="50%" y="40%" fill="rgb(200,200,200)" text-anchor="middle" dominant-baseline="middle">${e}</text>`,"</svg>"].join(""),r=n.Uri.parse(`data:image/svg+xml;utf8,${encodeURI(t)}`,!0);return n.window.createTextEditorDecorationType({isWholeLine:!1,gutterIconPath:r,gutterIconSize:"cover"})}set default(e){this._default&&this._default.dispose(),this._default=e}get default(){return this._default}set searchHighlight(e){this._searchHighlight&&this._searchHighlight.dispose(),this._searchHighlight=e}get searchHighlight(){return this._searchHighlight}get easyMotionIncSearch(){return this._easyMotionIncSearch}set easyMotionIncSearch(e){this._easyMotionIncSearch&&this._easyMotionIncSearch.dispose(),this._easyMotionIncSearch=e}get easyMotionDimIncSearch(){return this._easyMotionDimIncSearch}set easyMotionDimIncSearch(e){this._easyMotionDimIncSearch&&this._easyMotionDimIncSearch.dispose(),this._easyMotionDimIncSearch=e}getOrCreateMarkDecoration(e){const t=this.getMarkDecoration(e);if(t)return t;{const t=this._createMarkDecoration(e);return this._markDecorationCache.set(e,t),t}}getMarkDecoration(e){return this._markDecorationCache.get(e)}allMarkDecorations(){return this._markDecorationCache.values()}set insertModeVirtualCharacter(e){this._insertModeVirtualCharacter&&this._insertModeVirtualCharacter.dispose(),this._insertModeVirtualCharacter=e}get insertModeVirtualCharacter(){return this._insertModeVirtualCharacter}set operatorPendingModeCursor(e){this._operatorPendingModeCursor&&this._operatorPendingModeCursor.dispose(),this._operatorPendingModeCursor=e}get operatorPendingModeCursor(){return this._operatorPendingModeCursor}set operatorPendingModeCursorChar(e){this._operatorPendingModeCursorChar&&this._operatorPendingModeCursorChar.dispose(),this._operatorPendingModeCursorChar=e}get operatorPendingModeCursorChar(){return this._operatorPendingModeCursorChar}load(e){this.default=n.window.createTextEditorDecorationType({backgroundColor:new n.ThemeColor("editorCursor.foreground"),borderColor:new n.ThemeColor("editorCursor.foreground"),dark:{color:"rgb(81,80,82)"},light:{color:"rgb(255, 255, 255)"},borderStyle:"solid",borderWidth:"1px"});const t=e.searchHighlightColor?e.searchHighlightColor:new n.ThemeColor("editor.findMatchHighlightBackground");this.searchHighlight=n.window.createTextEditorDecorationType({backgroundColor:t,color:e.searchHighlightTextColor,overviewRulerColor:new n.ThemeColor("editorOverviewRuler.findMatchForeground")}),this.easyMotionIncSearch=n.window.createTextEditorDecorationType({color:e.easymotionIncSearchForegroundColor,fontWeight:e.easymotionMarkerFontWeight}),this.easyMotionDimIncSearch=n.window.createTextEditorDecorationType({color:e.easymotionDimColor}),this.insertModeVirtualCharacter=n.window.createTextEditorDecorationType({color:"transparent",before:{color:"currentColor",backgroundColor:new n.ThemeColor("editor.background"),borderColor:new n.ThemeColor("editor.background"),margin:"0 -1ch 0 0",height:"100%"}}),this.operatorPendingModeCursor=n.window.createTextEditorDecorationType({before:{color:"transparent",margin:"0 -1ch 0 0;\n        position: absolute;\n        bottom: 0;\n        line-height: 0;",height:"50%",backgroundColor:new n.ThemeColor("editorCursor.foreground")}}),this.operatorPendingModeCursorChar=n.window.createTextEditorDecorationType({color:"black",before:{color:"currentcolor",margin:"0 -1ch 0 0;\n        position: absolute;\n        mix-blend-mode: exclusion;",height:"100%"}})}}},9518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorResults=void 0,t.ValidatorResults=class{constructor(){this.errors=new Array}append(e){this.errors.push(e)}concat(e){this.errors=this.errors.concat(e.get())}get(){return this.errors}get numErrors(){return this.errors.filter((e=>"error"===e.level)).length}get hasError(){return this.numErrors>0}get numWarnings(){return this.errors.filter((e=>"warning"===e.level)).length}get hasWarning(){return this.numWarnings>0}}},4627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notation=void 0;class r{static ToControlCharacter(e){return"<tab>"===e?"\t":e}static IsControlKey(e){return e=e.toLocaleUpperCase(),this.isSurroundedByAngleBrackets(e)&&"<BS>"!==e&&"<S-BS>"!==e&&"<TAB>"!==e}static NormalizeKey(e,t){if("string"!=typeof e)return e;if(1===e.length)return e;if(e=e.toLocaleLowerCase(),this.isSurroundedByAngleBrackets(e)||(e=`<${e}>`),"<leader>"===e)return t;if(["<up>","<down>","<left>","<right>"].includes(e))return e;for(const[t,r]of this.notationMap)e=e.replace(t,r);return this.shiftedLetterRegex.test(e)&&(e=e[3].toUpperCase()),e}static printableKey(e,t){const r=this.NormalizeKey(e,t);return" "===r?"<space>":"\n"===r?"<enter>":r}static isSurroundedByAngleBrackets(e){return e.startsWith("<")&&e.endsWith(">")}}t.Notation=r,r.notationMap=[[/ctrl\+|c\-/gi,"C-"],[/cmd\+|d\-/gi,"D-"],[/shift\+|s\-/gi,"S-"],[/escape|esc/gi,"Esc"],[/backspace|bs/gi,"BS"],[/delete|del/gi,"Del"],[/home/gi,"Home"],[/end/gi,"End"],[/insert/gi,"Insert"],[/<space>/gi," "],[/<cr>|<enter>|<return>/gi,"\n"]],r.shiftedLetterRegex=/<S-[a-zA-Z]>/},9769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Remapper=t.Remappers=void 0;const n=r(7549),i=r(5845),o=r(4379),s=r(7541),a=r(7536),c=r(9220),u=r(3259),l=r(3403);t.Remappers=class{constructor(){this.remappers=[new m,new f,new g,new v,new p]}get isPotentialRemap(){return this.remappers.some((e=>e.isPotentialRemap))}async sendKey(e,t){for(const r of this.remappers)if(await r.sendKey(e,t))return!0;return!1}};class d{constructor(e,t){this.logger=i.Logger.get("Remapper"),this._isPotentialRemap=!1,this.hasPotentialRemap=!1,this.configKey=e,this.remappedModes=t}get isPotentialRemap(){return this._isPotentialRemap}async sendKey(e,t){var r,n,i;const{vimState:s,remapState:h}=t;this._isPotentialRemap=!1;const m=s.recordedState.allowPotentialRemapOnFirstKey;let f=[],p=!0;if(!this.remappedModes.includes(s.currentModeIncludingPseudoModes))return!1;const g=a.configuration[this.configKey];if(e[e.length-1]===l.SpecialKeys.TimeoutFinished&&(e=e.slice(0,e.length-1),p=!1),0===e.length)return!0;this.logger.debug(`trying to find matching remap. keys=${e}. mode=${o.Mode[s.currentMode]}. keybindings=${this.configKey}.`);let v=this.findMatchingRemap(g,e,s.currentMode),y=d.hasPotentialRemap(e,g);if(this._isPotentialRemap=y&&p&&m,!v&&(this.hasAmbiguousRemap||this.hasPotentialRemap)&&(!y||!p)&&e.length>1&&(this.hasAmbiguousRemap&&(v=this.hasAmbiguousRemap,y=!1,this._isPotentialRemap=!1,f=s.recordedState.commandList.slice(v.before.length),this.hasAmbiguousRemap=void 0),!v)){if(p||(e.push(l.SpecialKeys.TimeoutFinished),this.logger.debug(`${this.configKey}. timeout finished, handling timed out buffer keys without allowing a new timeout.`)),this.logger.debug(`${this.configKey}. potential remap broken. resending keys without allowing a potential remap on first key. keys=${e}`),this.hasPotentialRemap=!1,s.recordedState.allowPotentialRemapOnFirstKey=!1,s.recordedState.resetCommandList(),h.wasPerformingRemapThatFinishedWaitingForTimeout){const r=h.wasPerformingRemapThatFinishedWaitingForTimeout.after.length,n=e.slice(r);e=e.slice(0,r);try{h.isCurrentlyPerformingRecursiveRemapping=!0,await t.handleMultipleKeyEvents(e)}catch(e){e instanceof u.ForceStopRemappingError&&this.logger.debug(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{h.isCurrentlyPerformingRecursiveRemapping=!1,h.wasPerformingRemapThatFinishedWaitingForTimeout=!1,await t.handleMultipleKeyEvents(n)}}else await t.handleMultipleKeyEvents(e);return!0}if(y&&p&&m)return v?(this.hasAmbiguousRemap=v,this.logger.debug(`${this.configKey}. ambiguous match found. before=${v.before}. after=${v.after}. command=${v.commands}. waiting for other key or timeout to finish.`)):(this.hasPotentialRemap=!0,this.logger.debug(`${this.configKey}. potential remap found. waiting for other key or timeout to finish.`)),s.recordedState.bufferedKeys=[...e],s.recordedState.bufferedKeysTimeoutObj=setTimeout((()=>{t.handleKeyEvent(l.SpecialKeys.TimeoutFinished)}),a.configuration.timeout),!0;if(v){if(!p){const e={...v};e.after=null===(r=v.after)||void 0===r?void 0:r.slice(0),null===(n=e.after)||void 0===n||n.push(l.SpecialKeys.TimeoutFinished),v=e}this.hasAmbiguousRemap=void 0,this.hasPotentialRemap=!1;let e=!1;const o=h.isCurrentlyPerformingRemapping;o||(h.mapDepth=0),v.recursive?(h.isCurrentlyPerformingRecursiveRemapping=!0,(null===(i=v.after)||void 0===i?void 0:i.join("").startsWith(v.before.join("")))&&(e=!0)):h.isCurrentlyPerformingNonRecursiveRemapping=!0,h.mapDepth++,this.logger.debug(`${this.configKey}. match found. before=${v.before}. after=${v.after}. command=${v.commands}. remainingKeys=${f}. mapDepth=${h.mapDepth}.`);let d=!1;try{if(h.mapDepth>=a.configuration.maxmapdepth){const e=u.VimError.fromCode(u.ErrorCode.RecursiveMapping);throw c.StatusBar.displayError(s,e),u.ForceStopRemappingError.fromVimError(e)}if(h.mapDepth%10==0){const e=e=>new Promise((t=>setTimeout(t,e)));await e(0)}h.remapUsedACharacter=!1,await this.handleRemapping(v,t,e)}catch(e){if(!(e instanceof u.ForceStopRemappingError))throw this.logger.debug(`${this.configKey}. error found in the middle of remapping, ignoring the rest of the remap. error: ${e}`),e;if(d=!0,o)throw e;this.logger.debug(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{if(!o&&h.isCurrentlyPerformingRecursiveRemapping&&(void 0!==s.recordedState.bufferedKeysTimeoutObj&&(h.wasPerformingRemapThatFinishedWaitingForTimeout={...v}),h.isCurrentlyPerformingRecursiveRemapping=!1,h.forceStopRecursiveRemapping=!1),o||s.historyTracker.finishCurrentStep(),h.isCurrentlyPerformingNonRecursiveRemapping=!1,f.length>0&&(!d||!o))if(h.wasPerformingRemapThatFinishedWaitingForTimeout){let e="";f[f.length-1]===l.SpecialKeys.TimeoutFinished&&(e=f.pop());const r=h.wasPerformingRemapThatFinishedWaitingForTimeout.after.slice(v.before.length),n=f.slice(r.length);f=f.slice(0,f.length-n.length),e&&(f.push(e),0!==n.length&&n.push(e));try{h.isCurrentlyPerformingRecursiveRemapping=!0,await t.handleMultipleKeyEvents(f)}catch(e){this.logger.debug(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{h.isCurrentlyPerformingRecursiveRemapping=!1,h.wasPerformingRemapThatFinishedWaitingForTimeout=!1,n.length>0&&await t.handleMultipleKeyEvents(n)}}else await t.handleMultipleKeyEvents(f)}return!0}return this.hasPotentialRemap=!1,this.hasAmbiguousRemap=void 0,!1}async handleRemapping(e,t,r){const{vimState:i,remapState:o}=t;if(i.recordedState.resetCommandList(),e.after&&(r?(o.isCurrentlyPerformingNonRecursiveRemapping=!0,await t.handleKeyEvent(e.after[0]),o.isCurrentlyPerformingNonRecursiveRemapping=!1,await t.handleMultipleKeyEvents(e.after.slice(1))):await t.handleMultipleKeyEvents(e.after)),e.commands){const r=i.recordedState.count||1;i.recordedState.count=0;for(let o=0;o<r;o++)for(const r of e.commands){let e,o;"string"==typeof r?(e=r,o=[]):(e=r.command,o=r.args),":"===e.slice(0,1)?(await s.commandLine.Run(e.slice(1,e.length),t.vimState),await t.updateView()):o?await n.commands.executeCommand(e,o):await n.commands.executeCommand(e),c.StatusBar.setText(i,`${e} ${null!=o?o:""}`)}}}findMatchingRemap(e,t,r){if(0===e.size)return;const n=d.getRemappedKeysLengthRange(e),i=t.length,o=t.join("");for(let r=i;r>=n[0];r--){const n=t.slice(-r).join("");if(this.logger.verbose(`key=${t}. keySlice=${n}.`),e.has(n)){const t=o.slice(0,o.length-n.length);if(t.length>0&&!/^[0-9]+$/.test(t)){this.logger.verbose(`key sequences need to match precisely. precedingKeys=${t}.`);break}return e.get(n)}}}static getRemappedKeysLengthRange(e){if(0===e.size)return[0,0];const t=Array.from(e.values()).map((e=>e.before.length));return[Math.min(...t),Math.max(...t)]}static hasPotentialRemap(e,t,r=!1){const n=e.join(""),i=/^<([^>]+)>/;if(""!==n)for(const e of t.keys())if(e.startsWith(n)&&(e!==n||r)){if(n.startsWith("<")&&!i.test(n)&&i.test(e))continue;return!0}return!1}}function h(e){return`${e}ModeKeyBindingsMap`}t.Remapper=d;class m extends d{constructor(){super(h("insert"),[o.Mode.Insert,o.Mode.Replace])}}class f extends d{constructor(){super(h("normal"),[o.Mode.Normal])}}class p extends d{constructor(){super(h("operatorPending"),[o.Mode.OperatorPendingMode])}}class g extends d{constructor(){super(h("visual"),[o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock])}}class v extends d{constructor(){super(h("commandLine"),[o.Mode.CommandlineInProgress,o.Mode.SearchInProgressMode])}}},5794:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcherConfigurationValidator=void 0;const n=r(9518),i=r(5707),o=r(2253),s=r(3018);class a{async validate(e){const t=new n.ValidatorResults,r=e.autoSwitchInputMethod;return!r.enable||o.Globals.isTesting||(r.switchIMCmd.includes("{im}")||t.append({level:"error",message:"vim.autoSwitchInputMethod.switchIMCmd is incorrect, it should contain the placeholder {im}."}),void 0===r.obtainIMCmd||""===r.obtainIMCmd?t.append({level:"error",message:"vim.autoSwitchInputMethod.obtainIMCmd is empty."}):await(0,i.existsAsync)(this.getRawCmd(r.obtainIMCmd))||t.append({level:"error",message:`Unable to find ${r.obtainIMCmd}. Check your 'vim.autoSwitchInputMethod.obtainIMCmd' in VSCode setting.`}),void 0===r.defaultIM||""===r.defaultIM?t.append({level:"error",message:"vim.autoSwitchInputMethod.defaultIM is empty."}):await(0,i.existsAsync)(this.getRawCmd(r.switchIMCmd))||t.append({level:"error",message:`Unable to find ${r.switchIMCmd}. Check your 'vim.autoSwitchInputMethod.switchIMCmd' in VSCode setting.`})),Promise.resolve(t)}disable(e){e.autoSwitchInputMethod.enable=!1}getRawCmd(e){return e.split(" ")[0]}}t.InputMethodSwitcherConfigurationValidator=a,s.configurationValidator.registerValidator(new a)},6815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimValidator=void 0;const n=r(9518),i=r(3129),o=r(5622),s=r(5747),a=r(3018),c=r(1765);class u{validate(e){const t=new n.ValidatorResults;if(e.enableNeovim){let r=!1;try{if(""===e.neovimPath){const t=c.env.PATH;t&&t.split(o.delimiter).forEach((t=>{let n="nvim";"win32"===c.platform&&(n+=".exe");const i=o.join(t,n);if((0,s.existsSync)(i))return e.neovimPath=i,void(r=!0)}))}(0,i.execFileSync)(e.neovimPath,["--version"])}catch(n){let i=`Invalid neovimPath. ${n.message}.`;r&&(i+=`Tried to parse PATH ${e.neovimPath}.`),t.append({level:"error",message:i})}if(e.neovimUseConfigFile&&""!==e.neovimConfigPath&&!(0,s.existsSync)(e.neovimConfigPath)){const r="No config file found in neovimConfigPath. Neovim will search its default config path.";e.neovimConfigPath="",t.append({level:"warning",message:r})}}return Promise.resolve(t)}disable(e){e.enableNeovim=!1}}t.NeovimValidator=u,a.configurationValidator.registerValidator(new u)},9519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemappingValidator=void 0;const n=r(7549),i=r(4627),o=r(9518),s=r(3018),a=r(6804);class c{async validate(e){const t=new o.ValidatorResults,r=["insertModeKeyBindings","insertModeKeyBindingsNonRecursive","normalModeKeyBindings","normalModeKeyBindingsNonRecursive","operatorPendingModeKeyBindings","operatorPendingModeKeyBindingsNonRecursive","visualModeKeyBindings","visualModeKeyBindingsNonRecursive","commandLineModeKeyBindings","commandLineModeKeyBindingsNonRecursive"];for(const n of r){const r=e[n];for(const t of a.PluginDefaultMappings.getPluginDefaultMappings(n,e))r.push(t);const o=-1===n.indexOf("NonRecursive"),s=n.replace("NonRecursive","");let c=e[s+"Map"];c||(c=new Map);for(let n=r.length-1;n>=0;n--){const s=r[n];s.recursive=o;const a=await this.isRemappingValid(s);if(t.concat(a),a.hasError){r.splice(n,1);continue}s.before&&s.before.forEach(((t,r)=>s.before[r]=i.Notation.NormalizeKey(t,e.leader))),s.after&&s.after.forEach(((t,r)=>s.after[r]=i.Notation.NormalizeKey(t,e.leader)));const u=s.before.join("");c.has(u)?t.append({level:"warning",message:`${s.before}. Duplicate remapped key for ${u}.`}):c.set(u,s)}e[s+"Map"]=c}return t}disable(e){}async isRemappingValid(e){const t=new o.ValidatorResults;if(e.after||e.commands||t.append({level:"error",message:`${e.before} missing 'after' key or 'command'.`}),e.before instanceof Array||t.append({level:"error",message:`Remapping of '${e.before}' should be a string array.`}),void 0===e.recursive&&t.append({level:"error",message:`Remapping of '${e.before}' missing 'recursive' info.`}),!e.after||e.after instanceof Array||t.append({level:"error",message:`Remapping of '${e.after}' should be a string array.`}),e.commands)for(const r of e.commands){let n;"string"==typeof r?n=r:r.command?(n=r.command,await this.isCommandValid(n)||t.append({level:"warning",message:`${n} does not exist.`})):t.append({level:"error",message:`Remapping of '${e.before}' has wrong "commands" structure. Should be 'string[] | { "command": string, "args": any[] }[]'.`})}return t}async isCommandValid(e){return!!e.startsWith(":")||(await this.getCommandMap()).has(e)}async getCommandMap(){return null==this.commandMap&&(this.commandMap=new Map((await n.commands.getCommands(!0)).map((e=>[e,!0])))),this.commandMap}}t.RemappingValidator=c,s.configurationValidator.registerValidator(new c)},2594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimrcValidator=void 0;const n=r(9518),i=r(3018);class o{async validate(e){return new n.ValidatorResults}disable(e){}}t.VimrcValidator=o,i.configurationValidator.registerValidator(new o)},1971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vimrc=t.VimrcImpl=void 0;const n=r(6486),i=r(5707),o=r(2087),s=r(5622),a=r(7549),c=r(1718),u=r(7549),l=r(7536),d=r(5845);class h{get vimrcPath(){return this._vimrcPath}static buildSource(e){const t=h.SOURCE_REG_REX.exec(e);if(!t||t.length<3)return;t[1];const r=t[2];return h.expandHome(r)}static async loadConfig(e,t){try{const r=await a.commands.getCommands(),n=(await i.readFileAsync(t,"utf8")).split(/\r?\n/);for(const t of n){if(t.trimLeft().startsWith('"'))continue;const n=this.buildSource(t);if(n){if(!await i.existsAsync(n)){h.logger.warn(`Unable to find "${n}" file for configuration.`);continue}h.logger.debug(`Loading "${n}" file for configuration.`),await h.loadConfig(e,n);continue}const o=await c.vimrcKeyRemappingBuilder.build(t,r);if(o){h.addRemapToConfig(e,o);continue}const s=await c.vimrcKeyRemappingBuilder.buildUnmapping(t);if(s){h.removeRemapFromConfig(e,s);continue}const a=await c.vimrcKeyRemappingBuilder.buildClearMapping(t);a&&h.clearRemapsFromConfig(e,a)}}catch(e){u.window.showWarningMessage(`vimrc file "${t}" is broken, err=${e}`)}}async load(e){const t=e.vimrc.path?h.expandHome(e.vimrc.path):await h.findDefaultVimrc();t?await i.existsAsync(t)?(this._vimrcPath=t,h.removeAllRemapsFromConfig(e),await h.loadConfig(e,this._vimrcPath)):u.window.showWarningMessage(`No .vimrc found at ${t}.`,"Create it").then((async e=>{if("Create it"===e){const e=await a.window.showSaveDialog({defaultUri:a.Uri.file(t)});e&&(await i.writeFileAsync(e.fsPath,"","utf-8"),l.configuration.getConfiguration("vim").update("vimrc.path",e.fsPath,!0),await a.workspace.openTextDocument(e),await a.window.showTextDocument(e))}})):await u.window.showWarningMessage("No .vimrc found. Please set `vim.vimrc.path.`")}static addRemapToConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"map":return[e.normalModeKeyBindings,e.visualModeKeyBindings,e.operatorPendingModeKeyBindings];case"nmap":case"nma":case"nm":return[e.normalModeKeyBindings];case"vmap":case"vma":case"vm":case"xmap":case"xma":case"xm":return[e.visualModeKeyBindings];case"imap":case"ima":case"im":return[e.insertModeKeyBindings];case"cmap":case"cma":case"cm":return[e.commandLineModeKeyBindings];case"omap":case"oma":case"om":return[e.operatorPendingModeKeyBindings];case"lmap":case"lma":case"lm":case"map!":return[e.insertModeKeyBindings,e.commandLineModeKeyBindings];case"noremap":case"norema":case"norem":case"nore":case"nor":case"no":return[e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindingsNonRecursive];case"nnoremap":case"nnorema":case"nnorem":case"nnore":case"nnor":case"nno":case"nn":return[e.normalModeKeyBindingsNonRecursive];case"vnoremap":case"vnorema":case"vnorem":case"vnore":case"vnor":case"vno":case"vn":case"xnoremap":case"xnorema":case"xnorem":case"xnore":case"xnor":case"xno":case"xn":return[e.visualModeKeyBindingsNonRecursive];case"inoremap":case"inorema":case"inorem":case"inore":case"inor":case"ino":return[e.insertModeKeyBindingsNonRecursive];case"cnoremap":case"cnorema":case"cnorem":case"cnore":case"cnor":case"cno":return[e.commandLineModeKeyBindingsNonRecursive];case"onoremap":case"onorema":case"onorem":case"onore":case"onor":case"ono":return[e.operatorPendingModeKeyBindingsNonRecursive];case"lnoremap":case"lnorema":case"lnorem":case"lnore":case"lnor":case"lno":case"ln":case"noremap!":case"norema!":case"norem!":case"nore!":case"nor!":case"no!":return[e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindingsNonRecursive];default:return void h.logger.warn(`Encountered an unrecognized mapping type: '${t.keyRemappingType}'`)}})();null==r||r.forEach((e=>{e.some((e=>n.isEqual(e.before,t.keyRemapping.before)))||e.push(t.keyRemapping)}))}static removeRemapFromConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"unmap":case"unma":case"unm":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"nunmap":case"nunma":case"nunm":case"nun":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive];case"vunmap":case"vunma":case"vunm":case"vun":case"vu":case"xunmap":case"xunma":case"xunm":case"xun":case"xu":return[e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive];case"iunmap":case"iunma":case"iunm":case"iun":case"iu":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive];case"cunmap":case"cunma":case"cunm":case"cun":case"cu":return[e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];case"ounmap":case"ounma":case"ounm":case"oun":case"ou":return[e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"lunmap":case"lunma":case"lunm":case"lun":case"lu":case"unmap!":case"unma!":case"unm!":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];default:return void h.logger.warn(`Encountered an unrecognized unmapping type: '${t.keyRemappingType}'`)}})();return!!r&&(r.forEach((e=>{n.remove(e,(e=>"vimrc"===e.source&&n.isEqual(e.before,t.keyRemapping.before)))})),!0)}static clearRemapsFromConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"mapclear":case"mapclea":case"mapcle":case"mapcl":case"mapc":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"nmapclear":case"nmapclea":case"nmapcle":case"nmapcl":case"nmapc":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive];case"vmapclear":case"vmapclea":case"vmapcle":case"vmapcl":case"vmapc":case"xmapclear":case"xmapclea":case"xmapcle":case"xmapcl":case"xmapc":return[e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive];case"imapclear":case"imapclea":case"imapcle":case"imapcl":case"imapc":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive];case"cmapclear":case"cmapclea":case"cmapcle":case"cmapcl":case"cmapc":return[e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];case"omapclear":case"omapclea":case"omapcle":case"omapcl":case"omapc":return[e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"lmapclear":case"lmapclea":case"lmapcle":case"lmapcl":case"lmapc":case"mapclear!":case"mapclea!":case"mapcle!":case"mapcl!":case"mapc!":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];default:return void h.logger.warn(`Encountered an unrecognized clearMapping type: '${t.keyRemappingType}'`)}})();return!!r&&(r.forEach((e=>{n.remove(e,(e=>"vimrc"===e.source))})),!0)}static removeAllRemapsFromConfig(e){const t=[e.normalModeKeyBindings,e.operatorPendingModeKeyBindings,e.visualModeKeyBindings,e.insertModeKeyBindings,e.commandLineModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindingsNonRecursive];for(const e of t)n.remove(e,(e=>"vimrc"===e.source))}static async findDefaultVimrc(){let e=s.join(o.homedir(),".vimrc");return await i.existsAsync(e)?e:(e=s.join(o.homedir(),"_vimrc"),await i.existsAsync(e)?e:(e=s.join(o.homedir(),".config/","nvim/","init.vim"),await i.existsAsync(e)?e:void 0))}static expandHome(e){const t=e.match(/(?<=^(?:~|\$HOME)).*/);return!t||t.length>1?e:s.join(o.homedir(),t[0])}}t.VimrcImpl=h,h.logger=d.Logger.get("VimRC"),h.SOURCE_REG_REX=/^(source)\s+(.+)/i,t.vimrc=new h},1718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vimrcKeyRemappingBuilder=void 0;class r{async build(e,t){const n=r.KEY_REMAPPING_REG_EX.exec(e);if(!n||n.length<4)return;const i=n[1],o=n[2],s=n[3],a=s.match(r.VIM_COMMAND_REG_EX);let c;return c=t.includes(s)?{commands:[s]}:a?{commands:[a[1]]}:{after:r.buildKeyList(s)},{keyRemapping:{before:r.buildKeyList(o),source:"vimrc",...c},keyRemappingType:i}}async buildUnmapping(e){const t=r.KEY_UNREMAPPING_REG_EX.exec(e);if(!t||t.length<3)return;const n=t[1],i=t[2];return{keyRemapping:{before:r.buildKeyList(i),source:"vimrc"},keyRemappingType:n}}async buildClearMapping(e){const t=r.KEY_CLEAR_REMAPPING_REG_EX.exec(e);if(t&&!(t.length<2))return{keyRemapping:{before:["<Nop>"],source:"vimrc"},keyRemappingType:t[1]}}static buildKeyList(e){const t=[];let n=null;do{n=r.KEY_LIST_REG_EX.exec(e),n&&t.push(n[0])}while(n);return t}}r.KEY_REMAPPING_REG_EX=/^(map!?|smap|[nvxoilc]m(?:a(?:p)?)?|(?:[nvxl]no?r?|[oic]nor?|snor)(?:e(?:m(?:a(?:p)?)?)?)?|no(?:r(?:e(?:m(?:a(?:p)?)?)?)?)?!?)\s+(?!.*(?:<expr>|<script>))(?:(?:<buffer>|<silent>|<nowait>|<special>)\s?)*([\S]+)\s+(?!.*<Plug>|.*<SID>)([\S ]+)$/i,r.KEY_UNREMAPPING_REG_EX=/^(unm(?:a(?:p)?)?!?|[nvxoilc]u(?:n(?:m(?:a(?:p)?)?)?)?|sunm(?:a(?:p)?)?)\s+(?:(?:<buffer>|<silent>|<nowait>|<special>)\s?)*([\S]+)$/i,r.KEY_CLEAR_REMAPPING_REG_EX=/^(mapc(?:l(?:e(?:a(?:r)?)?)?)?!?|[nvxsoilc]mapc(?:l(?:e(?:a(?:r)?)?)?)?)$/i,r.KEY_LIST_REG_EX=/(<[^<>]+>|.)/g,r.VIM_COMMAND_REG_EX=/^(:.+)<[Cc][Rr]>$/,t.vimrcKeyRemappingBuilder=new r},7301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorIdentity=void 0;class r{constructor(e){this.fileName=e}static fromEditor(e){var t,n;return new r(null!==(n=null===(t=null==e?void 0:e.document)||void 0===t?void 0:t.fileName)&&void 0!==n?n:"")}isEqual(e){return this.fileName===e.fileName}toString(){return this.fileName}}t.EditorIdentity=r},3259:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ForceStopRemappingError=t.VimError=t.ErrorMessage=t.ErrorCode=void 0,function(e){e[e.InvalidAddress=14]="InvalidAddress",e[e.MarkNotSet=20]="MarkNotSet",e[e.NoAlternateFile=23]="NoAlternateFile",e[e.NoInsertedTextYet=29]="NoInsertedTextYet",e[e.NoFileName=32]="NoFileName",e[e.NoPreviousCommand=34]="NoPreviousCommand",e[e.NoPreviousRegularExpression=35]="NoPreviousRegularExpression",e[e.NoWriteSinceLastChange=37]="NoWriteSinceLastChange",e[e.ErrorWritingToFile=208]="ErrorWritingToFile",e[e.RecursiveMapping=223]="RecursiveMapping",e[e.NoStringUnderCursor=348]="NoStringUnderCursor",e[e.NothingInRegister=353]="NothingInRegister",e[e.InvalidRegisterName=354]="InvalidRegisterName",e[e.SearchHitTop=384]="SearchHitTop",e[e.SearchHitBottom=385]="SearchHitBottom",e[e.CannotCloseLastWindow=444]="CannotCloseLastWindow",e[e.ArgumentRequired=471]="ArgumentRequired",e[e.InvalidArgument=474]="InvalidArgument",e[e.NoRangeAllowed=481]="NoRangeAllowed",e[e.PatternNotFound=486]="PatternNotFound",e[e.TrailingCharacters=488]="TrailingCharacters",e[e.NotAnEditorCommand=492]="NotAnEditorCommand",e[e.NoBuffersDeleted=516]="NoBuffersDeleted",e[e.UnknownOption=518]="UnknownOption",e[e.AtStartOfChangeList=662]="AtStartOfChangeList",e[e.AtEndOfChangeList=663]="AtEndOfChangeList",e[e.ChangeListIsEmpty=664]="ChangeListIsEmpty",e[e.NoPreviouslyUsedRegister=748]="NoPreviouslyUsedRegister"}(r=t.ErrorCode||(t.ErrorCode={})),t.ErrorMessage={14:"Invalid address",20:"Mark not set",23:"No alternate file",29:"No inserted text yet",32:"No file name",34:"No previous command",35:"No previous regular expression",37:"No write since last change (add ! to override)",208:"Error writing to file",223:"Recursive mapping",348:"No string under cursor",353:"Nothing in register",354:"Invalid register name",384:"Search hit TOP without match for",385:"Search hit BOTTOM without match for",444:"Cannot close last window",471:"Argument required",474:"Invalid argument",481:"No range allowed",486:"Pattern not found",488:"Trailing characters",492:"Not an editor command",516:"No buffers were deleted",518:"Unknown option",662:"At start of changelist",663:"At end of changelist",664:"changelist is empty",748:"No previously used register"};class n extends Error{constructor(e,t){super(),this.code=e,this.message=t}static fromCode(e,i){if(t.ErrorMessage[e])return i&&(i=e===r.NothingInRegister?` ${i}`:`: ${i}`),new n(e,t.ErrorMessage[e]+(null!=i?i:""));throw new Error("unknown error code: "+e)}toString(){return`E${this.code}: ${this.message}`}}t.VimError=n;class i extends Error{constructor(e="StopRemapping"){super(e)}static fromVimError(e){return new i(e.toString())}}t.ForceStopRemappingError=i},2253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Globals=void 0;class r{}t.Globals=r,r.isTesting=!1},9163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandLineHistory=t.SearchHistory=t.HistoryFile=void 0;const n=r(5845),i=r(7536),o=r(2253),s=r(6123);class a{constructor(e,t){this.logger=n.Logger.get("HistoryFile"),this.base=new s.HistoryBase(e,t,o.Globals.extensionStoragePath,this.logger)}get historyFilePath(){return this.base.historyKey}async add(e){return this.base.add(e,i.configuration.history)}get(){return this.base.get(i.configuration.history)}clear(){this.base.clear()}async load(){await this.base.load()}}t.HistoryFile=a,t.SearchHistory=class extends a{constructor(e){super(e,".search_history")}},t.CommandLineHistory=class extends a{constructor(e){super(e,".cmdline_history")}}},1214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryTracker=void 0;const n=r(2027),i=r(7549),o=r(1797),s=r(9220),a=r(7549),c=r(9401),u=r(9138),l=r(4379),d=r(3259),h=r(5845),m=r(4880),f=new n.diff_match_patch;f.Diff_Timeout=1;const p=h.Logger.get("HistoryTracker");class g{constructor(e,t,r){this.start=e,this.before=t,this.after=r}static insert(e,t){return new g(e,"",t)}static delete(e,t){return new g(e,t,"")}static replace(e,t,r){return new g(e,t,r)}reversed(){return g.replace(this.start,this.after,this.before)}async do(e){await o.TextEditor.replace(e,this.beforeRange,this.after)}async undo(e){await o.TextEditor.replace(e,this.afterRange,this.before)}get beforeRange(){return new i.Range(this.start,this.start.advancePositionByText(this.before))}get afterRange(){return new i.Range(this.start,this.start.advancePositionByText(this.after))}}class v{constructor(e){var t,r,n;this.isFinished=!1,this.marks=[],this.changes=null!==(t=e.changes)&&void 0!==t?t:[],this.marks=null!==(r=e.marks)&&void 0!==r?r:[],this.cameFromU=null!==(n=e.cameFromU)&&void 0!==n&&n,this.timestamp=new Date}merge(e){if(this.changes.length<2)return;const t=[];let r=this.changes[0];for(const n of this.changes.slice(1)){if(r.before.length+r.after.length===0){if(!(t.length>0)){r=n;continue}r=t.pop()}const i=r.afterRange.intersection(n.beforeRange);if(i){const[t,o]=r.start.isBeforeOrEqual(n.start)?[r,n]:[n,r],s=e.offsetAt(i.end)-e.offsetAt(i.start);r=g.replace(t.start,t.before+o.before.slice(s),t.after.slice(0,t.after.length-s)+o.after)}else t.push(r),r=n}t.push(r),this.changes=t}howLongAgo(){const e=(new Date).getTime()-this.timestamp.getTime(),t=Math.floor(e/1e3);return 1===t?"1 second ago":t>=100?`${this.timestamp.getHours()}:${this.timestamp.getMinutes().toString().padStart(2,"0")}:${this.timestamp.getSeconds().toString().padStart(2,"0")}`:`${t} seconds ago`}}v.globalMarks=[];class y{constructor(){this.historySteps=[],this.currentStepIndex=-1,this.initialMarks=[]}getHistoryStepAtIndex(e){return this.historySteps[e]}getCurrentHistoryStepIndex(){return this.currentStepIndex}getStackDepth(){return this.historySteps.length}getCurrentHistoryStep(){if(-1!==this.currentStepIndex)return this.historySteps[this.currentStepIndex]}stepForward(){if(this.currentStepIndex!==this.historySteps.length-1)return this.currentStepIndex++,this.getCurrentHistoryStep()}stepBackward(){const e=this.getCurrentHistoryStep();return e&&this.currentStepIndex--,e}pushChange(e){var t;let r=this.getCurrentHistoryStep();(void 0===r||r.isFinished)&&(this.currentStepIndex++,this.historySteps.splice(this.currentStepIndex),r=new v({marks:null!==(t=null==r?void 0:r.marks)&&void 0!==t?t:this.initialMarks}),this.historySteps.push(r)),r.changes.push(e)}pushHistoryStep(e){this.currentStepIndex++,this.historySteps.splice(this.currentStepIndex+1),this.historySteps.push(e)}getCurrentMarkList(){var e;const t=this.getCurrentHistoryStep();return null!==(e=null==t?void 0:t.marks)&&void 0!==e?e:this.initialMarks}removeMarks(e){const t=this.getCurrentHistoryStep();void 0===e?t?t.marks=[]:this.initialMarks=[]:t?t.marks=t.marks.filter((t=>!e.includes(t.name))):this.initialMarks=this.initialMarks.filter((t=>!e.includes(t.name)))}}class w{constructor(){this.changeLocations=[]}addChangePosition(e){this.changeLocations.length>0&&this.changeLocations[this.changeLocations.length-1].line===e.line?this.changeLocations[this.changeLocations.length-1]=e:this.changeLocations.push(e),this.index=void 0}nextChangePosition(){return void 0===this.index?0===this.changeLocations.length?d.VimError.fromCode(d.ErrorCode.ChangeListIsEmpty):(this.index=this.changeLocations.length-1,this.changeLocations[this.index]):this.index<this.changeLocations.length-1?(this.index++,this.changeLocations[this.index]):d.VimError.fromCode(d.ErrorCode.AtEndOfChangeList)}prevChangePosition(){return void 0===this.index?0===this.changeLocations.length?d.VimError.fromCode(d.ErrorCode.ChangeListIsEmpty):(this.index=this.changeLocations.length-1,this.changeLocations[this.index]):this.index>0?(this.index--,this.changeLocations[this.index]):d.VimError.fromCode(d.ErrorCode.AtStartOfChangeList)}}t.HistoryTracker=class{constructor(e){this.vimState=e,this.undoStack=new y,this.changeList=new w,this.previousDocumentState={text:this.getDocumentText(),versionNumber:this.getDocumentVersion()},this.lastContentChanges=[],this.currentContentChanges=[]}getDocumentText(){var e,t;return null!==(t=null===(e=this.vimState.editor)||void 0===e?void 0:e.document.getText())&&void 0!==t?t:""}getDocumentVersion(){var e,t;return null!==(t=null===(e=this.vimState.editor)||void 0===e?void 0:e.document.version)&&void 0!==t?t:-1}updateAndReturnMarks(){var e,t;const r=this.getAllCurrentDocumentMarks(),n=[];for(const e of r)n.push({...e});for(const r of null!==(t=null===(e=this.undoStack.getCurrentHistoryStep())||void 0===e?void 0:e.changes)&&void 0!==t?t:[])for(const e of n){let t=r.start;for(const n of r.before.replace(/\r/g,""))t.isBefore(e.position)&&("\n"===n?e.position=new a.Position(Math.max(e.position.line-1,0),e.position.character):t.line===e.position.line&&(e.position=new a.Position(e.position.line,Math.max(e.position.character-1,0)))),t="\n"===n?new a.Position(Math.max(t.line-1,0),99999):new a.Position(t.line,Math.max(t.character-1,0));t=r.start;for(const n of r.after.replace(/\r/g,""))t.isBeforeOrEqual(e.position)&&("\n"===n?e.position=new a.Position(e.position.line+1,e.position.character):t.line===e.position.line&&(e.position=new a.Position(e.position.line,e.position.character+1))),t="\n"===n?new a.Position(t.line+1,0):new a.Position(t.line,t.character+1)}const i=o.TextEditor.getDocumentEnd(this.vimState.document);for(const e of n)e.position.isAfter(i)&&(e.position=i);return n}getMarkList(e){return e?v.globalMarks:this.undoStack.getCurrentMarkList()}getAllCurrentDocumentMarks(){const e=v.globalMarks.filter((e=>e.editor===i.window.activeTextEditor));return[...this.getLocalMarks(),...e]}addMark(e,t){if("'"===t||"`"===t)return u.globalState.jumpTracker.recordJump(c.Jump.fromStateNow(this.vimState));const r=t.toUpperCase()===t,n={position:e,name:t,isUppercaseMark:r,editor:r?i.window.activeTextEditor:void 0};this.putMarkInList(n)}putMarkInList(e){const t=this.getMarkList(e.isUppercaseMark),r=t.findIndex((t=>t.name===e.name));-1!==r?t[r]=e:t.push(e)}getMark(e){return this.getMarkList(e.toUpperCase()===e).find((t=>t.name===e))}removeLocalMarks(){this.undoStack.removeMarks()}removeMarks(e){0!==e.length&&(this.undoStack.removeMarks(e),v.globalMarks=v.globalMarks.filter((t=>""===t.name||!e.includes(t.name))))}getLocalMarks(){return[...this.undoStack.getCurrentMarkList()]}getGlobalMarks(){return[...v.globalMarks]}getMarks(){return[...this.getLocalMarks(),...v.globalMarks]}addChange(e=!1){if(this.getDocumentVersion()===this.previousDocumentState.versionNumber)return;if(void 0===this.nextStepStartPosition){const e=this.vimState.cursorsInitialState[0];this.nextStepStartPosition=(0,m.earlierOf)(e.start,e.stop),p.debug(`Set nextStepStartPosition to ${this.nextStepStartPosition}`)}if(!e&&(this.vimState.currentMode===l.Mode.Insert||this.vimState.currentMode===l.Mode.Replace))return;const t=this.getDocumentText();if(t===this.previousDocumentState.text)return;const r=f.diff_main(this.previousDocumentState.text,t);f.diff_cleanupEfficiency(r);let i=new a.Position(0,0);for(const e of r){const[t,r]=e,o=t===n.DIFF_INSERT,s=t===n.DIFF_DELETE;(o||s)&&this.undoStack.pushChange(o?g.insert(i,r):g.delete(i,r)),s||(i=i.advancePositionByText(r))}this.previousDocumentState={text:t,versionNumber:this.getDocumentVersion()}}ignoreChange(){this.previousDocumentState={text:this.getDocumentText(),versionNumber:this.getDocumentVersion()}}finishCurrentStep(){var e;const t=this.undoStack.getCurrentHistoryStep();if(t&&!t.isFinished){t.isFinished=!0,t.timestamp=new Date,null!==(e=t.cursorStart)&&void 0!==e||(t.cursorStart=this.nextStepStartPosition),this.nextStepStartPosition=void 0,t.merge(this.vimState.document),t.marks=this.updateAndReturnMarks();const r=t.changes;if(r){const e=r[0].after?r[0].afterRange.end.getLeft():r[0].start;this.changeList.addChangePosition(e)}p.debug(`Finished history step with ${r.length} change(s)`)}}async goBackHistoryStep(){const e=this.undoStack.stepBackward();if(void 0===e)return;for(const t of e.changes.slice(0).reverse())await t.undo(this.vimState.editor);this.ignoreChange();const t=1===e.changes.length?"1 change":`${e.changes.length} changes`;return s.StatusBar.setText(this.vimState,`${t}; before #${this.undoStack.getCurrentHistoryStepIndex()+1}  ${e.howLongAgo()}`),e.cursorStart}async goForwardHistoryStep(){const e=this.undoStack.stepForward();if(void 0===e)return;for(const t of e.changes)await t.do(this.vimState.editor);this.ignoreChange();const t=1===e.changes.length?"1 change":`${e.changes.length} changes`;return s.StatusBar.setText(this.vimState,`${t}; after #${this.undoStack.getCurrentHistoryStepIndex()}  ${e.howLongAgo()}`),e.cursorStart}async goBackHistoryStepsOnLine(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;let t=!1;const r=[];let n=e.changes[e.changes.length-1];const i=n.afterRange.end.line;for(let e=this.undoStack.getCurrentHistoryStepIndex();e>=0;e--){const o=this.undoStack.getHistoryStepAtIndex(e);for(let e of[...o.changes].reverse()){const o=[...e.after.matchAll(/\n/g)];if(o.length>0&&e.start.line+o.length===i)e=g.insert(new a.Position(e.start.line+1,0),e.after.slice(e.after.lastIndexOf("\n"))),t=!0;else if(o.length>0||e.start.line!==i){t=!0;break}if(r.push(e),n=e,t)break}if(o.cameFromU&&(t=!0),t)break}if(r.length>0){for(const e of r)await e.undo(this.vimState.editor);const e=new v({marks:this.undoStack.getCurrentMarkList(),changes:r.map((e=>e.reversed())).reverse(),cameFromU:!0});this.nextStepStartPosition=n.start,this.undoStack.pushHistoryStep(e),this.finishCurrentStep()}return this.ignoreChange(),null==n?void 0:n.start}getLastChangeEndPosition(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;const t=e.changes.length;return 0!==t?e.changes[t-1].afterRange.end:void 0}getLastHistoryStartPosition(){var e;return null===(e=this.undoStack.getCurrentHistoryStep())||void 0===e?void 0:e.cursorStart}getLastChangeStartPosition(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;const t=e.changes;return 0!==t.length?t[t.length-1].start:void 0}nextChangeInChangeList(){return this.changeList.nextChangePosition()}prevChangeInChangeList(){return this.changeList.prevChangePosition()}toString(){let e="";for(let t=0;t<this.undoStack.getStackDepth();t++){const r=this.undoStack.getHistoryStepAtIndex(t);e+=r.changes.map((e=>`${e.before.replace(/\n/g,"\\n")} => ${e.after.replace(/\n/g,"\\n")}`)).join(""),t===this.undoStack.getCurrentHistoryStepIndex()&&(e+="+"),r.isFinished&&(e+=""),e+="| "}return e}}},9401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jump=void 0;class r{constructor({document:e,position:t}){this.document=e,this.position=t}get fileName(){return this.document.fileName}static fromStateNow(e){return new r({document:e.document,position:e.cursorStopPosition})}static fromStateBefore(e){return new r({document:e.document,position:e.cursorsInitialState[0].stop})}isSamePosition(e){return this.fileName===e.fileName&&this.position.isEqual(e.position)}}t.Jump=r},7637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JumpTracker=void 0;const n=r(7549),i=r(9241),o=r(9401),s=r(5707),a=r(7549);t.JumpTracker=class{constructor(){this._jumps=[],this._currentJumpNumber=0,this.isJumpingThroughHistory=!1}get jumps(){return this._jumps}get currentJumpNumber(){return this._currentJumpNumber}get currentJump(){return this._jumps[this._currentJumpNumber]||null}get hasJumps(){return this._jumps.length>0}get end(){return this._jumps[this._jumps.length-1]}recordJump(e,t){t&&e.isSamePosition(t)||this.pushJump(e,t)}handleFileJump(e,t){this.isJumpingThroughHistory?this.isJumpingThroughHistory=!1:t.document.isClosed||this.pushJump(e,t)}async performFileJump(e,t){if(this.isJumpingThroughHistory=!0,e.document)await n.window.showTextDocument(e.document);else if(await(0,s.existsAsync)(e.fileName))await new i.FileCommand({name:e.fileName,lineNumber:e.position.line,createFileIfNotExists:!1}).execute(t);else{const t=n.window.visibleTextEditors.filter((t=>t.document.fileName===e.fileName))[0];t&&await n.window.showTextDocument(t.document,e.position.character,!1)}}async jumpForward(e,t){await this.jumpThroughHistory(this.recordJumpForward.bind(this),e,t)}async jumpBack(e,t){await this.jumpThroughHistory(this.recordJumpBack.bind(this),e,t)}async jumpThroughHistory(e,t,r){let n=new o.Jump({document:r.document,position:t});const i=r.recordedState.count||1;for(let t=0;t<i;t++)n=e(o.Jump.fromStateNow(r));n&&(n.fileName!==r.document.fileName?await this.performFileJump(n,r):r.cursorStopPosition=n.position)}recordJumpBack(e){if(!this.hasJumps)return e;if(this._currentJumpNumber<=0)return this._jumps[0];const t=this._jumps[this._currentJumpNumber-1];return this._currentJumpNumber===this._jumps.length?(this.recordJump(e,t),this._currentJumpNumber=this._currentJumpNumber-2):this._currentJumpNumber=this._currentJumpNumber-1,t}recordJumpForward(e){return this.hasJumps?this._currentJumpNumber>=this._jumps.length?e:(this._currentJumpNumber=Math.min(this._currentJumpNumber+1,this._jumps.length-1),this._jumps[this._currentJumpNumber]):e}handleTextAdded(e,t,r){const n=r.split("").filter((e=>"\n"===e)).length;this._jumps.forEach(((r,i)=>{if(r.fileName===e.fileName&&r.position.line>t.start.line){const e=new a.Position(r.position.line+n,r.position.character);this.changePositionForJumpNumber(i,r,e)}}))}handleTextDeleted(e,t){const r=t.end.line-t.start.line;for(let n=this._jumps.length-1;n>=0;n--){const i=this._jumps[n];if(i.fileName===e.fileName&&i.position.line>t.start.line){const e=i.position.line-Math.min(i.position.line-t.start.line,r),o=new a.Position(e,i.position.character);this.changePositionForJumpNumber(n,i,o)}}this.removeDuplicateJumps()}clearJumps(){this._jumps.splice(0,this._jumps.length),this._currentJumpNumber=0}pushJump(e,t){e&&this.clearJumpsOnSameLine(e),!e||t&&e.isSamePosition(t)||(100===this._jumps.length&&this._jumps.splice(0,1),this._jumps.push(e)),this._currentJumpNumber=this._jumps.length}changePositionForJumpNumber(e,t,r){this._jumps.splice(e,1,new o.Jump({document:t.document,position:r}))}clearJumpsOnSameLine(e){this._jumps=this._jumps.filter((t=>t===e||!(t.fileName===e.fileName&&t.position.line===e.position.line)))}removeDuplicateJumps(){const e={};for(let t=this._jumps.length-1;t>=0;t--){const r=this._jumps[t];e[r.fileName]||(e[r.fileName]=[]),e[r.fileName].includes(r.position.line)?this._jumps.splice(t,1):e[r.fileName].push(r.position.line)}}}},4379:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualBlockGetBottomRightPosition=t.visualBlockGetTopLeftPosition=t.getCursorStyle=t.isStatusBarMode=t.isVisualMode=t.VSCodeVimCursorType=t.Mode=void 0;const n=r(7549),i=r(7549);var o,s;!function(e){e[e.Normal=0]="Normal",e[e.Insert=1]="Insert",e[e.Visual=2]="Visual",e[e.VisualBlock=3]="VisualBlock",e[e.VisualLine=4]="VisualLine",e[e.SearchInProgressMode=5]="SearchInProgressMode",e[e.CommandlineInProgress=6]="CommandlineInProgress",e[e.Replace=7]="Replace",e[e.EasyMotionMode=8]="EasyMotionMode",e[e.EasyMotionInputMode=9]="EasyMotionInputMode",e[e.SurroundInputMode=10]="SurroundInputMode",e[e.OperatorPendingMode=11]="OperatorPendingMode",e[e.Disabled=12]="Disabled"}(o=t.Mode||(t.Mode={})),function(e){e[e.Block=0]="Block",e[e.Line=1]="Line",e[e.LineThin=2]="LineThin",e[e.Underline=3]="Underline",e[e.TextDecoration=4]="TextDecoration",e[e.Native=5]="Native",e[e.UnderlineThin=6]="UnderlineThin"}(s=t.VSCodeVimCursorType||(t.VSCodeVimCursorType={})),t.isVisualMode=function(e){return[o.Visual,o.VisualLine,o.VisualBlock].includes(e)},t.isStatusBarMode=function(e){return[o.SearchInProgressMode,o.CommandlineInProgress].includes(e)},t.getCursorStyle=function(e){switch(e){case s.Block:return n.TextEditorCursorStyle.Block;case s.Line:return n.TextEditorCursorStyle.Line;case s.LineThin:return n.TextEditorCursorStyle.LineThin;case s.Underline:return n.TextEditorCursorStyle.Underline;case s.UnderlineThin:return n.TextEditorCursorStyle.UnderlineThin;case s.TextDecoration:return n.TextEditorCursorStyle.LineThin;case s.Native:default:return n.TextEditorCursorStyle.Block}},t.visualBlockGetTopLeftPosition=function(e,t){return new i.Position(Math.min(e.line,t.line),Math.min(e.character,t.character))},t.visualBlockGetBottomRightPosition=function(e,t){return new i.Position(Math.max(e.line,t.line),Math.max(e.character,t.character))}},5923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandler=void 0;const n=r(7549),i=r(785),o=r(3193),s=r(4008),a=r(9401),c=r(5845),u=r(4379),l=r(7497),d=r(4880),h=r(8693),m=r(1149),f=r(7125),p=r(9769),g=r(9220),v=r(1797),y=r(3259),w=r(1513),b=r(3856),C=r(7541),S=r(7536),x=r(4530),M=r(3434),E=r(9066),_=r(6167),k=r(3677),A=r(9138),R=r(4627),P=r(7301),T=r(3403),B=r(3176),L=r(6953),O=r(7549),$=r(8145),F=r(1765),D=r(3345);class I{constructor(e,t){this.focusChanged=!1,this.disposables=[],this.handlerMap=e,this.remappers=new p.Remappers,this.vimState=new w.VimState(t,new D.EasyMotion),this.remapState=new $.RemapState,this.disposables.push(this.vimState)}get currentMode(){return this._currentMode}async setCurrentMode(e){await this.vimState.setCurrentMode(e),this._currentMode=e}static async create(e,t=n.window.activeTextEditor){const r=new I(e,t);return await r.vimState.load(),await r.setCurrentMode(S.configuration.startInInsertMode?u.Mode.Insert:u.Mode.Normal),r.syncCursors(),r}syncCursors(){if(this.vimState.editor){const{selections:e}=this.vimState.editor;this.vimState.cursorStartPosition.isEqual(e[0].anchor)&&this.vimState.cursorStopPosition.isEqual(e[0].active)||(this.vimState.desiredColumn=e[0].active.character),this.vimState.cursors=e.map((({active:e,anchor:t})=>e.isBefore(t)?new h.Cursor(t.getLeft(),e):new h.Cursor(t,e)))}}async handleSelectionChange(e){if(void 0===n.window.activeTextEditor||e.textEditor.document!==n.window.activeTextEditor.document)return;const t=e.selections[0];I.logger.debug(`Selections: Handling Selection Change! Selection: ${t.anchor.toString()}, ${t.active}, SelectionsLength: ${e.selections.length}`);const r=()=>e.selections.every((e=>this.vimState.cursors.every((t=>!e.contains(new n.Range(t.start,t.stop))))));if((e.selections.length!==this.vimState.cursors.length||this.vimState.isMultiCursor)&&this.vimState.currentMode!==u.Mode.VisualBlock){const t=[u.Mode.Normal];return r()||t.push(u.Mode.Insert,u.Mode.Replace),this.vimState.cursors=e.textEditor.selections.map((e=>new h.Cursor(e.anchor.isAfter(e.active)?e.anchor.getLeft():e.anchor,e.active))),e.selections.some((e=>!e.anchor.isEqual(e.active)))&&t.includes(this.vimState.currentMode)&&await this.setCurrentMode(u.Mode.Visual),this.updateView({drawSelection:!1,revealRange:!1})}if(e.kind!==n.TextEditorSelectionChangeKind.Mouse){if(t){if(e.kind===n.TextEditorSelectionChangeKind.Command){const e=[u.Mode.Normal,u.Mode.Visual];if(r()||e.push(u.Mode.Insert,u.Mode.Replace),e.includes(this.vimState.currentMode)){if(this.vimState.currentMode===u.Mode.Visual)return I.logger.debug("Selections: Updating Visual Selection!"),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,void await this.updateView({drawSelection:!1,revealRange:!1});if(!t.active.isEqual(t.anchor))return I.logger.debug("Selections: Creating Visual Selection from command!"),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,await this.setCurrentMode(u.Mode.Visual),void await this.updateView({drawSelection:!1,revealRange:!1})}}if((0,u.isVisualMode)(this.vimState.currentMode))return;const i=(0,d.laterOf)(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);if(e.textEditor.document.validatePosition(i).isBefore(i));else if(e.kind===n.TextEditorSelectionChangeKind.Keyboard&&this.vimState.cursorStopPosition.isEqual(this.vimState.cursorStartPosition)&&this.vimState.cursorStopPosition.getRight().isLineEnd()&&this.vimState.cursorStopPosition.getLineEnd().isEqual(t.active))return;I.logger.debug(`Selections: Changing Cursors from selection handler... ${t.anchor.toString()}, ${t.active}`),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,await this.updateView({drawSelection:!1,revealRange:!1})}return}if((0,u.isStatusBarMode)(this.vimState.currentMode))return;let i=!1;if(t){let e=t.active;if(e.character>=e.getLineEnd().character&&t.isEmpty?this.vimState.currentMode!==u.Mode.Insert&&(this.vimState.lastClickWasPastEol=!0,e=e.withColumn(Math.max(e.getLineEnd().character-1,0)),await this.setCurrentMode(u.Mode.Normal),i=!0):t.isEmpty&&(this.vimState.lastClickWasPastEol=!1),this.vimState.cursorStopPosition=e,this.vimState.cursorStartPosition=e,this.vimState.desiredColumn=e.character,t.anchor.line===t.active.line&&t.anchor.character>=e.getLineEnd().character-1&&t.active.character>=e.getLineEnd().character-1);else if(t.anchor.isEqual(t.active))this.vimState.currentMode!==u.Mode.Insert&&await this.setCurrentMode(u.Mode.Normal);else{let r=new O.Position(t.anchor.line,t.anchor.character);if(r.character>r.getLineEnd().character&&(r=new O.Position(r.line,r.getLineEnd().character)),this.vimState.cursorStartPosition=r,r.isAfter(e)&&(this.vimState.cursorStartPosition=this.vimState.cursorStartPosition.getLeft()),this.vimState.lastClickWasPastEol){const e=new O.Position(t.anchor.line,t.anchor.character+1);this.vimState.editor.selection=new n.Selection(e,t.end),this.vimState.cursorStartPosition=r,this.vimState.lastClickWasPastEol=!1}S.configuration.mouseSelectionGoesIntoVisualMode&&!(0,u.isVisualMode)(this.vimState.currentMode)&&this.currentMode!==u.Mode.Insert&&await this.setCurrentMode(u.Mode.Visual)}this.updateView({drawSelection:i,revealRange:!1})}}async handleMultipleKeyEvents(e){for(const t of e)await this.handleKeyEvent(t)}async handleKeyEvent(e){const t=Number(new Date),r=R.Notation.printableKey(e,S.configuration.leader);if(this.remapState.forceStopRecursiveRemapping)return;I.logger.debug(`handling key=${r}.`),(e===T.SpecialKeys.TimeoutFinished||this.vimState.recordedState.bufferedKeys.length>0)&&this.vimState.recordedState.bufferedKeysTimeoutObj&&(clearTimeout(this.vimState.recordedState.bufferedKeysTimeoutObj),this.vimState.recordedState.bufferedKeysTimeoutObj=void 0,this.vimState.recordedState.commandList=[...this.vimState.recordedState.bufferedKeys],this.vimState.recordedState.bufferedKeys=[]),S.configuration.overrideCopy&&("<D-c>"===e&&(e="<copy>"),"<C-c>"===e&&"darwin"!==F.platform&&(S.configuration.useCtrlKeys&&this.vimState.currentMode!==u.Mode.Visual&&this.vimState.currentMode!==u.Mode.VisualBlock&&this.vimState.currentMode!==u.Mode.VisualLine||(e="<copy>"))),"<C-d>"===e&&!0!==S.configuration.handleKeys["<C-d>"]&&(e="<D-d>"),this.vimState.cursorsInitialState=this.vimState.cursors,this.vimState.recordedState.commandList.push(e);const n=this.vimState.currentMode,i=this.vimState.currentModeIncludingPseudoModes,o=g.StatusBar.getText(),s=this.vimState.recordedState.waitingForAnotherActionKey;let a=!1,c=!1;try{const t="0"===e&&this.vimState.recordedState.actionsRun[this.vimState.recordedState.actionsRun.length-1]instanceof E.CommandNumber;this.remapState.isCurrentlyPerformingNonRecursiveRemapping||t||this.vimState.recordedState.waitingForAnotherActionKey||(a=await this.remappers.sendKey(this.vimState.recordedState.commandList,this)),this.vimState.recordedState.allowPotentialRemapOnFirstKey=!0,a||(e===T.SpecialKeys.TimeoutFinished&&(this.vimState.recordedState.commandList.pop(),e=this.vimState.recordedState.commandList[this.vimState.recordedState.commandList.length-1]),void 0!==e&&(c=await this.handleKeyAsAnAction(e)))}catch(t){if(this.vimState.selectionsChanged.ignoreIntermediateSelections=!1,!(t instanceof y.VimError))throw t instanceof y.ForceStopRemappingError?t:t instanceof Error?(t.message=`Failed to handle key=${e}. ${t.message}`,t):new Error(`Failed to handle key=${e} due to an unknown error.`);if(g.StatusBar.displayError(this.vimState,t),this.vimState.recordedState=new m.RecordedState,this.remapState.isCurrentlyPerformingRemapping)throw y.ForceStopRemappingError.fromVimError(t)}if(this.remapState.lastKeyPressedTimestamp=t,g.StatusBar.updateShowCmd(this.vimState),g.StatusBar.getText()===o){const e=this.vimState.currentMode!==n&&this.vimState.currentMode!==u.Mode.Normal||void 0!==this.vimState.macro;g.StatusBar.clear(this.vimState,e)}if(this.vimState.recordedState.resetCommandList(),I.logger.debug(`handleKeyEvent('${r}') took ${Number(new Date)-t}ms`),this.remapState.isCurrentlyPerformingRemapping&&this.vimState.lastMovementFailed)throw this.vimState.lastMovementFailed=!1,new y.ForceStopRemappingError("Last movement failed");this.vimState.lastMovementFailed=!1,c||((this.vimState.currentMode===u.Mode.Insert||this.vimState.currentMode===u.Mode.Replace)&&(this.vimState.recordedState.bufferedKeys.length>0||this.vimState.recordedState.waitingForAnotherActionKey||this.vimState.recordedState.waitingForAnotherActionKey!==s)||this.vimState.currentModeIncludingPseudoModes!==i)&&await this.updateView({drawSelection:!1,revealRange:!1})}async handleKeyAsAnAction(e){if(n.window.activeTextEditor!==this.vimState.editor)return I.logger.warn("Current window is not active"),!1;this.vimState.historyTracker.addChange();const t=this.vimState.recordedState;t.actionKeys.push(e);const r=(0,i.getRelevantAction)(t.actionKeys,this.vimState);switch(r){case i.KeypressState.NoPossibleMatch:return this.vimState.currentMode===u.Mode.Insert?this.vimState.recordedState.actionKeys=[]:this.vimState.recordedState=new m.RecordedState,this.vimState.recordedState.waitingForAnotherActionKey=!1,!1;case i.KeypressState.WaitingOnKeys:return this.vimState.recordedState.waitingForAnotherActionKey=!0,!1}!this.remapState.remapUsedACharacter&&this.remapState.isCurrentlyPerformingRecursiveRemapping&&(this.remapState.remapUsedACharacter=!0,this.remapState.mapDepth=0),this.vimState.recordedState.waitingForAnotherActionKey=!1,t.actionsRunPressedKeys.push(...t.actionKeys);let o=r;if(0===t.actionsRun.length)t.actionsRun.push(r);else{const n=t.actionsRun[t.actionsRun.length-1],i=r instanceof s.CommandInsertInInsertMode||r instanceof s.CommandBackspaceInInsertMode||r instanceof s.CommandInsertPreviousText||r instanceof s.InsertCharAbove||r instanceof s.InsertCharBelow;if(n instanceof E.DocumentContentChangeAction)r instanceof s.CommandEscInsertMode||n.keysPressed.push(e),i?o=void 0:(n.addChanges(this.vimState.historyTracker.currentContentChanges,this.vimState.cursorStopPosition),this.vimState.historyTracker.currentContentChanges=[],t.actionsRun.push(r));else if(i){this.vimState.historyTracker.currentContentChanges=[];const r=new E.DocumentContentChangeAction(this.vimState.cursorStopPosition);r.keysPressed.push(e),t.actionsRun.push(r),o=r}else t.actionsRun.push(r)}return void 0===this.vimState.macro||!o||o instanceof E.CommandQuitRecordMacro||this.vimState.macro.actionsRun.push(o),await this.runAction(t,r),this.vimState.currentMode===u.Mode.Insert&&(t.isInsertion=!0),await this.updateView(),r.isJump&&A.globalState.jumpTracker.recordJump(a.Jump.fromStateBefore(this.vimState),a.Jump.fromStateNow(this.vimState)),!0}async runAction(e,t){this.vimState.selectionsChanged.ignoreIntermediateSelections=!0,this.vimState.currentMode===u.Mode.Visual&&(this.vimState.cursors=this.vimState.cursors.map((e=>e.start.isBefore(e.stop)?e.withNewStop(e.stop.getLeftThroughLineBreaks(!0)):e))),this.vimState.cursors=this.vimState.cursors.map((e=>new h.Cursor(this.vimState.document.validatePosition(e.start),this.vimState.document.validatePosition(e.stop))));let r=!1,s=!1;if(t instanceof o.BaseMovement)e=await this.executeMovement(t),s=!0;else if(t instanceof i.BaseCommand){await t.execCount(this.vimState.cursorStopPosition,this.vimState);const e=this.vimState.recordedState.transformer;await(0,k.executeTransformations)(this,e.transformations),t.isCompleteAction&&(s=!0),t.canBeRepeatedWithDot&&(r=!0)}else{if(!(t instanceof B.BaseOperator))throw new Error("Unknown action type");e.operatorCount=e.count}const a=this.currentMode;if(this.vimState.currentMode!==this.currentMode&&(await this.setCurrentMode(this.vimState.currentMode),this.vimState.currentMode===u.Mode.Normal&&a!==u.Mode.SearchInProgressMode&&a!==u.Mode.EasyMotionInputMode&&a!==u.Mode.EasyMotionMode&&(r=!0)),"ready"===e.getOperatorState(this.vimState.currentMode)){const e=this.vimState.recordedState.operator;e&&(await this.executeOperator(),this.vimState.recordedState.hasRunOperator=!0,r=e.canBeRepeatedWithDot,s=!0)}if(this.vimState.currentMode!==this.currentMode&&(await this.setCurrentMode(this.vimState.currentMode),this.vimState.currentMode===u.Mode.Normal&&(r=!0)),r=r&&this.vimState.currentMode===u.Mode.Normal||this.createUndoPointForBrackets(),r&&(A.globalState.previousFullAction=this.vimState.recordedState,e.isInsertion&&f.Register.setReadonlyRegister(".",e)),t instanceof B.BaseOperator&&!s||t.preservesDesiredColumn()||(t instanceof o.BaseMovement?t.setsDesiredColumnToEOL&&!e.operator?this.vimState.desiredColumn=Number.POSITIVE_INFINITY:this.vimState.desiredColumn=this.vimState.cursorStopPosition.character:this.vimState.currentMode!==u.Mode.VisualBlock&&(this.vimState.desiredColumn=this.vimState.cursorStopPosition.character)),this.vimState.currentMode===u.Mode.Visual&&(this.vimState.cursors=this.vimState.cursors.map((e=>e.start.isBeforeOrEqual(e.stop)?e.withNewStop(e.stop.isLineEnd()?e.stop.getRightThroughLineBreaks():e.stop.getRight()):e))),s&&this.vimState.currentMode===u.Mode.Normal&&(this.vimState.recordedState=new m.RecordedState,this.vimState.returnToInsertAfterCommand&&(this.vimState.actionCount>0?await this.setCurrentMode(u.Mode.Insert):this.vimState.actionCount++)),this.focusChanged||this.vimState.historyTracker.addChange(),!r||this.vimState.isReplayingMacro||this.remapState.isCurrentlyPerformingRemapping||this.vimState.historyTracker.finishCurrentStep(),e.actionKeys=[],this.vimState.currentRegisterMode=void 0,this.currentMode===u.Mode.Normal&&(this.vimState.cursors=this.vimState.cursors.map((e=>new h.Cursor(e.stop,e.stop)))),!this.vimState.document.isClosed&&this.vimState.editor===n.window.activeTextEditor){const e=v.TextEditor.getDocumentEnd(this.vimState.document),t=this.vimState.document.lineCount;this.vimState.cursors=this.vimState.cursors.map((r=>{if(r.start.line>=t&&(r=r.withNewStart(e)),r.stop.line>=t&&(r=r.withNewStop(e)),this.vimState.currentMode===u.Mode.Normal||(0,u.isVisualMode)(this.vimState.currentMode)){const e=v.TextEditor.getLineLength(r.stop.line),t=v.TextEditor.getLineLength(r.start.line),n=(0,u.isVisualMode)(this.vimState.currentMode)&&e>0?1:0;r.start.character>=t&&(r=r.withNewStart(r.start.withColumn(Math.max(t-1,0)))),r.stop.character>=e+n&&(r=r.withNewStop(r.stop.withColumn(Math.max(e-1,0))))}return r}))}(0,u.isVisualMode)(this.vimState.currentMode)&&!this.vimState.isRunningDotCommand&&(this.vimState.lastVisualSelection={mode:this.vimState.currentMode,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition}),this.vimState.selectionsChanged.ignoreIntermediateSelections=!1}async executeMovement(e){this.vimState.lastMovementFailed=!1;const t=this.vimState.recordedState,r=[];for(let n=0;n<this.vimState.cursors.length;n++){const i=this.vimState.cursorStartPosition,o=this.vimState.cursorStopPosition;e.multicursorIndex=n,this.vimState.cursorStartPosition=this.vimState.cursors[n].start;const s=this.vimState.cursors[n].stop;this.vimState.cursorStopPosition=s;const a=await e.execActionWithCount(s,this.vimState,t.count);this.vimState.cursors[n]=new h.Cursor(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition),this.vimState.cursorStartPosition=i,this.vimState.cursorStopPosition=o,a instanceof O.Position?(this.vimState.cursors[n]=this.vimState.cursors[n].withNewStop(a),(0,u.isVisualMode)(this.currentMode)||this.vimState.recordedState.operator||(this.vimState.cursors[n]=this.vimState.cursors[n].withNewStart(a))):(a.failed&&(this.vimState.recordedState=new m.RecordedState,this.vimState.lastMovementFailed=!0),a.removed?r.push(n):this.vimState.cursors[n]=new h.Cursor(a.start,a.stop))}if(r.length>0)for(let e=r.length-1;e>=0;e--){const t=r[e];0!==t&&this.vimState.cursors.splice(t,1)}if(this.vimState.recordedState.count=0,this.vimState.currentMode!==u.Mode.Normal||t.operator){const e=this.vimState.cursorStopPosition;e.character>v.TextEditor.getLineLength(e.line)&&(this.vimState.cursorStopPosition=e.getLineEnd())}return t}async executeOperator(){const e=this.vimState.recordedState,t=e.operator,r=this.vimState.currentMode,n=this.vimState.currentRegisterMode,i=[];for(let[o,{start:s,stop:a}]of this.vimState.cursors.entries()){t.multicursorIndex=o,s.isAfter(a)&&([s,a]=[a,s]),(0,u.isVisualMode)(r)||n===f.RegisterMode.LineWise||(a=a.getLeftThroughLineBreaks(!0)),this.currentMode===u.Mode.VisualLine&&(s=s.getLineBegin(),a=a.getLineEnd(),this.vimState.currentRegisterMode=f.RegisterMode.LineWise),await this.vimState.setCurrentMode(r),e.operators.length>1&&e.operators.reverse()[0].constructor===e.operators.reverse()[1].constructor?await t.runRepeat(this.vimState,s,e.count):await t.run(this.vimState,s,a);for(const e of this.vimState.recordedState.transformer.transformations)(0,_.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=t.multicursorIndex);const c=new h.Cursor(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);i.push(c)}if(this.vimState.recordedState.transformer.transformations.length>0){const e=this.vimState.recordedState.transformer;await(0,k.executeTransformations)(this,e.transformations)}else this.vimState.cursors=i}async rerunRecordedState(e){const t=[...e.actionsRun];this.vimState.isRunningDotCommand=!0,this.vimState.lastVisualSelection&&(this.vimState.dotCommandPreviousVisualSelection=new n.Selection(this.vimState.lastVisualSelection.start,this.vimState.lastVisualSelection.end)),e=new m.RecordedState,this.vimState.recordedState=e;for(const[r,n]of t.entries()){if(e.actionsRun=t.slice(0,r+1),await this.runAction(e,n),this.vimState.lastMovementFailed)return;await this.updateView()}e.actionsRun=t,this.vimState.isRunningDotCommand=!1}async runMacro(e){let t=new m.RecordedState;this.vimState.recordedState=t,this.vimState.isRunningDotCommand=!0;for(const r of e.actionsRun){const e=a.Jump.fromStateNow(this.vimState);if(this.vimState.cursorsInitialState=this.vimState.cursors,t.actionsRun.push(r),await this.runAction(t,r),0===this.vimState.recordedState.actionsRun.length&&(t=new m.RecordedState,this.vimState.recordedState=t),this.vimState.lastMovementFailed)break;await this.updateView(),r.isJump&&A.globalState.jumpTracker.recordJump(e,a.Jump.fromStateNow(this.vimState))}this.vimState.isRunningDotCommand=!1,this.vimState.cursorsInitialState=this.vimState.cursors}updateSearchHighlights(e){var t,r;let n=[];e&&(n=null!==(r=null===(t=A.globalState.searchState)||void 0===t?void 0:t.getMatchRanges(this.vimState.editor))&&void 0!==r?r:[]),this.vimState.editor.setDecorations(x.decoration.searchHighlight,n)}async updateView(e={drawSelection:!0,revealRange:!0}){var t,r,i;if(e.drawSelection){let e=this.vimState.currentMode;this.vimState.currentMode===u.Mode.SearchInProgressMode?e=null!==(r=null===(t=A.globalState.searchState)||void 0===t?void 0:t.previousMode)&&void 0!==r?r:u.Mode.Normal:this.vimState.currentMode===u.Mode.CommandlineInProgress?e=C.commandLine.previousMode:this.vimState.currentMode===u.Mode.SurroundInputMode&&(e=this.vimState.surround.previousMode);let i=[];for(const t of this.vimState.cursors){let{start:r,stop:o}=t;switch(e){case u.Mode.Visual:r.isAfterOrEqual(o)&&(r=r.getRight()),i.push(new n.Selection(r,o));break;case u.Mode.VisualLine:r.isBeforeOrEqual(o)?i.push(new n.Selection(r.getLineBegin(),o.getLineEnd())):i.push(new n.Selection(r.getLineEnd(),o.getLineBegin()));break;case u.Mode.VisualBlock:for(const e of v.TextEditor.iterateLinesInBlock(this.vimState,t))i.push(new n.Selection(e.start,e.end));break;default:i.push(new n.Selection(o,o))}}if(i=(e=>{const t=[];return e.forEach(((e,r)=>{if(r>0){const r=t[t.length-1];if(e.intersection(r)){let i,o;e.anchor.isBeforeOrEqual(e.active)?(i=e.anchor.isBeforeOrEqual(r.anchor)?e.anchor:r.anchor,o=e.active.isAfterOrEqual(r.active)?e.active:r.active):(i=e.anchor.isAfterOrEqual(r.anchor)?e.anchor:r.anchor,o=e.active.isBeforeOrEqual(r.active)?e.active:r.active),t[t.length-1]=new n.Selection(i,o)}else t.push(e)}else t.push(e)})),t})(i),i.length!==this.vimState.editor.selections.length||i.some(((e,t)=>!e.anchor.isEqual(this.vimState.editor.selections[t].anchor)||!e.active.isEqual(this.vimState.editor.selections[t].active)))){const e=i.reduce(((e,t)=>e+`[${t.anchor.line}, ${t.anchor.character}; ${t.active.line}, ${t.active.character}]`),"");this.vimState.selectionsChanged.ourSelections.push(e),I.logger.debug(`Selections: Adding Selection Change to be Ignored! Hash: ${e}, Selections: ${i[0].anchor.toString()}, ${i[0].active.toString()}`)}this.vimState.editor.selections=i}if(this.vimState.editor.visibleRanges.length>0&&!this.vimState.postponedCodeViewChanges.some((e=>"editorScroll"===e.command))){const t=this.vimState.recordedState.actionsRun[this.vimState.recordedState.actionsRun.length-1]instanceof E.ActionOverrideCmdD;let r;r=t?this.vimState.cursors[this.vimState.cursors.length-1]:this.vimState.cursors[0];const i=e=>e.start.line-r.stop.line>=15,o=e=>r.stop.line-e.end.line>=15,{visibleRanges:s}=this.vimState.editor,a=s.every(i)||s.every(o)?n.TextEditorRevealType.InCenter:n.TextEditorRevealType.Default;if(this.vimState.currentMode===u.Mode.SearchInProgressMode&&A.globalState.searchState&&S.configuration.incsearch){const e=A.globalState.searchState.getNextSearchMatchPosition(this.vimState.editor,this.vimState.cursorStopPosition);if(e)this.vimState.editor.revealRange(new n.Range(e.pos,e.pos),a);else if(void 0!==this.vimState.firstVisibleLineBeforeSearch){const e=this.vimState.editor.visibleRanges[0].start.line-this.vimState.firstVisibleLineBeforeSearch;(0,M.scrollView)(this.vimState,e)}}else e.revealRange&&(t&&this.vimState.cursorsInitialState.length===this.vimState.cursors.length||this.vimState.editor.revealRange(new n.Range(r.stop,r.stop),a))}let o=S.configuration.getCursorStyleForMode(u.Mode[this.currentMode]);if(!o){const e=j(this.vimState,this.vimState.currentModeIncludingPseudoModes);o=(0,u.getCursorStyle)(e),e===u.VSCodeVimCursorType.Native&&void 0!==S.configuration.editorCursorStyle&&(o=S.configuration.editorCursorStyle)}this.vimState.editor.options.cursorStyle=o;const s=[];if(j(this.vimState,this.currentMode)===u.VSCodeVimCursorType.TextDecoration&&this.currentMode!==u.Mode.Insert)if(this.currentMode===u.Mode.Visual)for(const{start:e,stop:t}of this.vimState.cursors)e.isBefore(t)?s.push(new n.Range(t.getLeft(),t)):s.push(new n.Range(t,t.getRight()));else for(const{stop:e}of this.vimState.cursors)s.push(new n.Range(e,e.getRight()));this.vimState.editor.setDecorations(x.decoration.default,s);const a=[];if(this.vimState.currentMode===u.Mode.Insert||this.vimState.currentMode===u.Mode.Replace){let e;if(this.vimState.recordedState.bufferedKeys.length>0?e=this.vimState.recordedState.bufferedKeys[this.vimState.recordedState.bufferedKeys.length-1]:this.vimState.recordedState.waitingForAnotherActionKey&&(e=this.vimState.recordedState.actionKeys[this.vimState.recordedState.actionKeys.length-1],"<C-r>"===e?e='"':"<C-k>"===e&&(e="?")),e=e&&/<[^>]+>/.test(e)?void 0:e,e){const t={before:{contentText:e}},r={before:{contentText:e,color:new n.ThemeColor("editor.foreground")}};for(const{stop:e}of this.vimState.cursors)e.isLineEnd()?a.push({range:new n.Range(e,e.getLineEndIncludingEOL()),renderOptions:r}):a.push({range:new n.Range(e,e.getRightThroughLineBreaks(!0)),renderOptions:t})}}this.vimState.editor.setDecorations(x.decoration.insertModeVirtualCharacter,a);const c=[],l=[];if(this.vimState.currentModeIncludingPseudoModes===u.Mode.OperatorPendingMode)for(const{stop:e}of this.vimState.cursors){let t=v.TextEditor.getCharAt(this.vimState.document,e);t=" "===t?"":t;const r={before:{contentText:t}};c.push({range:new n.Range(e,e.getRight()),renderOptions:r}),l.push({range:new n.Range(e,e.getRight()),renderOptions:r})}this.vimState.editor.setDecorations(x.decoration.operatorPendingModeCursor,c),this.vimState.editor.setDecorations(x.decoration.operatorPendingModeCursorChar,l);for(const e of x.decoration.allMarkDecorations())this.vimState.editor.setDecorations(e,[]);if(S.configuration.showMarksInGutter)for(const{position:e,name:t}of this.vimState.historyTracker.getMarks()){const r=x.decoration.getOrCreateMarkDecoration(t),i=e.getLineBegin(),o=new n.Range(i,i);this.vimState.editor.setDecorations(r,[o])}const d=S.configuration.incsearch&&this.currentMode===u.Mode.SearchInProgressMode||S.configuration.hlsearch&&A.globalState.hl;for(const e of n.window.visibleTextEditors)null===(i=this.handlerMap.get(P.EditorIdentity.fromEditor(e)))||void 0===i||i.updateSearchHighlights(d);const h=this.currentMode===u.Mode.EasyMotionInputMode&&S.configuration.easymotionDimBackground&&this.vimState.easyMotion.searchAction instanceof L.SearchByNCharCommand?[new n.Range(v.TextEditor.getDocumentBegin(),v.TextEditor.getDocumentEnd(this.vimState.document))]:[],m=this.currentMode===u.Mode.EasyMotionInputMode&&this.vimState.easyMotion.searchAction instanceof L.SearchByNCharCommand?this.vimState.easyMotion.searchAction.getMatches(this.vimState.cursorStopPosition,this.vimState).map((e=>e.toRange())):[];this.vimState.editor.setDecorations(x.decoration.easyMotionDimIncSearch,h),this.vimState.editor.setDecorations(x.decoration.easyMotionIncSearch,m);for(const e of this.vimState.postponedCodeViewChanges)n.commands.executeCommand(e.command,e.args);this.vimState.postponedCodeViewChanges=[],this.currentMode===u.Mode.EasyMotionMode&&this.vimState.easyMotion.updateDecorations(this.vimState.editor),g.StatusBar.clear(this.vimState,!1),b.VSCodeContext.set("vim.mode",u.Mode[this.vimState.currentMode]);const f=new n.Range(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);/\s+/.test(this.vimState.document.getText(f))||n.commands.executeCommand("editor.action.wordHighlight.trigger")}createUndoPointForBrackets(){const e=this.vimState.recordedState.actionKeys[this.vimState.recordedState.actionKeys.length-1];if(void 0===e)return!1;if(this.vimState.currentMode===u.Mode.Insert){let t=l.PairMatcher.nextPairedChar(this.vimState.cursorStopPosition,e,this.vimState,!1);if(void 0!==t&&this.vimState.cursorStopPosition.isEqual(t))return!0;if(t=l.PairMatcher.nextPairedChar(this.vimState.cursorStopPosition.getLeft(),e,this.vimState,!1),void 0!==t&&this.vimState.cursorStopPosition.getLeft(2).isEqual(t))return!0}return!1}dispose(){this.disposables.map((e=>e.dispose()))}}function j(e,t){switch(t){case u.Mode.Normal:return u.VSCodeVimCursorType.Block;case u.Mode.Insert:return u.VSCodeVimCursorType.Native;case u.Mode.Visual:case u.Mode.VisualBlock:case u.Mode.VisualLine:return u.VSCodeVimCursorType.TextDecoration;case u.Mode.SearchInProgressMode:case u.Mode.CommandlineInProgress:return u.VSCodeVimCursorType.UnderlineThin;case u.Mode.Replace:return u.VSCodeVimCursorType.Underline;case u.Mode.EasyMotionMode:case u.Mode.EasyMotionInputMode:return u.VSCodeVimCursorType.Block;case u.Mode.SurroundInputMode:return j(e,e.surround.previousMode);case u.Mode.OperatorPendingMode:return u.VSCodeVimCursorType.UnderlineThin;case u.Mode.Disabled:default:return u.VSCodeVimCursorType.Line}}t.ModeHandler=I,I.logger=c.Logger.get("ModeHandler")},9079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandlerMap=void 0;const n=r(5923);t.ModeHandlerMap=new class{constructor(){this.modeHandlerMap=new Map}async getOrCreate(e){let t=!1,r=this.get(e);return r||(t=!0,r=await n.ModeHandler.create(this),this.modeHandlerMap.set(e,r)),[r,t]}get(e){for(const[t,r]of this.modeHandlerMap.entries())if(t.isEqual(e))return r}getKeys(){return[...this.modeHandlerMap.keys()]}getAll(){return[...this.modeHandlerMap.values()]}delete(e){const t=this.modeHandlerMap.get(e);t&&(t.dispose(),this.modeHandlerMap.delete(e))}clear(){for(const e of this.modeHandlerMap.keys())this.delete(e)}}},2454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimWrapper=void 0;const n=r(1669),i=r(7549),o=r(5845),s=r(4880),a=r(7125),c=r(1797),u=r(7536),l=r(5622),d=r(5747),h=r(3129),m=r(3286),f=r(7549);class p{constructor(){this.processTimeoutInSeconds=3}async run(e,t){if(!this.nvim){this.nvim=await this.startNeovim(e.document);try{const e=this.nvim.uiAttach(80,20,{ext_cmdline:!1,ext_popupmenu:!1,ext_tabline:!1,ext_wildmenu:!1,rgb:!1}),t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout"))),1e3*this.processTimeoutInSeconds)}));await Promise.race([e,t])}catch(e){throw u.configuration.enableNeovim=!1,new Error(`Failed to attach to neovim process. ${e.message}`)}const t=(await this.nvim.apiInfo)[1].version;p.logger.debug(`version: ${t.major}.${t.minor}.${t.patch}`)}await this.syncVSCodeToVim(e),t=(":"+t+"\n").replace("<","<lt>"),await this.nvim.command('let v:errmsg="" | let v:statusmsg=""'),p.logger.debug(`Running ${t}.`),await this.nvim.input(t),(await this.nvim.mode).blocking&&await this.nvim.input("<esc>");const r=await this.nvim.getVvar("errmsg");let n="",i=!1;if(r&&""!==r.toString())n=r.toString(),i=!0;else{const e=await this.nvim.getVvar("statusmsg");e&&""!==e.toString()&&(n=e.toString())}return await this.syncVimToVSCode(e),{statusBarText:n,error:i}}async startNeovim(e){p.logger.debug("Spawning Neovim process...");let t=(0,l.dirname)(e.uri.fsPath);await n.promisify(d.exists)(t)||(t=__dirname);const r=[];return u.configuration.neovimUseConfigFile?""!==u.configuration.neovimConfigPath&&r.push("-u",u.configuration.neovimConfigPath):r.push("-u","NONE"),r.push("-i","NONE","-n","--embed"),this.process=(0,h.spawn)(u.configuration.neovimPath,r,{cwd:t}),this.process.on("error",(e=>{p.logger.error(`Error spawning neovim. ${e.message}.`),u.configuration.enableNeovim=!1})),(0,m.attach)({proc:this.process})}async syncVSCodeToVim(e){if(!this.nvim)return;const t=await this.nvim.buffer;u.configuration.expandtab&&await i.commands.executeCommand("editor.action.indentationToTabs"),await this.nvim.setOption("gdefault",!0===u.configuration.gdefault),await t.setLines(e.document.getText().split("\n"),{start:0,end:-1,strictIndexing:!0});const[r,n]=(0,s.sorted)(e.cursorStartPosition,e.cursorStopPosition);await this.nvim.callFunction("setpos",[".",[0,e.cursorStopPosition.line+1,e.cursorStopPosition.character,!1]]),await this.nvim.callFunction("setpos",["'<",[0,r.line+1,n.character,!1]]),await this.nvim.callFunction("setpos",["'>",[0,n.line+1,n.character,!1]]);for(const t of e.historyTracker.getLocalMarks())await this.nvim.callFunction("setpos",[`'${t.name}`,[0,t.position.line+1,t.position.character,!1]]);const o=await a.Register.get('"');if(o){const t=["c","l","b"];await this.nvim.callFunction("setreg",['"',o.text,t[e.currentRegisterMode]])}}async syncVimToVSCode(e){if(!this.nvim)return;const t=await this.nvim.buffer,r=await t.getLines({start:0,end:-1,strictIndexing:!1}),n="win32"===process.platform?r.map(((e,t)=>e.replace(/\r$/,""))):r,o=e.document.lineCount;await c.TextEditor.replace(e.editor,new i.Range(0,0,o-1,c.TextEditor.getLineLength(o-1)),n.join("\n")),p.logger.debug(`${r.length} lines in nvim. ${o} in editor.`);const[s,l]=(await this.nvim.callFunction("getpos",["."])).slice(1,3);e.editor.selection=new i.Selection(new f.Position(s-1,l),new f.Position(s-1,l)),u.configuration.expandtab&&await i.commands.executeCommand("editor.action.indentationToSpaces");const d={v:a.RegisterMode.CharacterWise,V:a.RegisterMode.LineWise,"":a.RegisterMode.BlockWise};e.currentRegisterMode=d[await this.nvim.callFunction("getregtype",['"'])],a.Register.put(e,await this.nvim.callFunction("getreg",['"']))}dispose(){this.nvim&&this.nvim.quit(),this.process&&this.process.kill()}}t.NeovimWrapper=p,p.logger=o.Logger.get("Neovim")},5509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORT_READ_COMMAND=t.SUPPORT_IME_SWITCHER=t.SUPPORT_NVIM=t.SUPPORT_VIMRC=void 0,t.SUPPORT_VIMRC=!0,t.SUPPORT_NVIM=!0,t.SUPPORT_IME_SWITCHER=!0,t.SUPPORT_READ_COMMAND=!0},5707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unlinkSync=t.chmodAsync=t.accessAsync=t.writeFileAsync=t.mkdirAsync=t.readFileAsync=t.unlink=t.existsAsync=t.doesFileExist=t.constants=void 0;const n=r(7549),i=r(1669),o=r(1669),s=r(5747);t.constants={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,UV_FS_O_FILEMAP:0,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4},t.doesFileExist=async function(e){if(!n.window.activeTextEditor)return o.promisify(s.exists)(e.fsPath);try{return await n.workspace.fs.stat(e),!0}catch{return!1}},t.existsAsync=async function(e){try{return await n.workspace.fs.stat(n.Uri.file(e)),!0}catch(e){return!1}},t.unlink=async function(e){s.unlinkSync(e)},t.readFileAsync=async function(e,t){return(0,i.promisify)(s.readFile)(e,t)},t.mkdirAsync=async function(e,t){return(0,i.promisify)(s.mkdir)(e,t)},t.writeFileAsync=async function(e,t,r){return(0,i.promisify)(s.writeFile)(e,t,r)},t.accessAsync=async function(e,t){return(0,i.promisify)(s.access)(e,t)},t.chmodAsync=async function(e,t){return(0,i.promisify)(s.chmod)(e,t)},t.unlinkSync=function(e){s.unlinkSync(e)}},6123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryBase=void 0;const n=r(5622),i=r(5707),o=r(2253);t.HistoryBase=class{constructor(e,t,r,n){this.history=[],this.historyFileName=t,this.extensionStoragePath=r,this.logger=n}get historyKey(){return n.join(this.extensionStoragePath,this.historyFileName)}async add(e,t){if(!e||0===e.length)return;const r=this.history.indexOf(e);return-1!==r&&this.history.splice(r,1),this.history.push(e),this.history.length>t&&(this.history=this.history.slice(this.history.length-t)),this.save()}get(e){return this.history.length>e&&(this.history=this.history.slice(this.history.length-e)),this.history}clear(){try{this.history=[],(0,i.unlinkSync)(this.historyKey)}catch(e){this.logger.warn(`Unable to delete ${this.historyKey}. err=${e}.`)}}async load(){let e="";try{e=await(0,i.readFileAsync)(this.historyKey,"utf-8")}catch(e){return void("ENOENT"===e.code?this.logger.debug(`History does not exist. path=${this.historyKey}`):this.logger.warn(`Failed to load history. path=${this.historyKey} err=${e}.`))}if(0!==e.length)try{const t=JSON.parse(e);if(!Array.isArray(t))throw Error("Unexpected format in history file. Expected JSON.");this.history=t}catch(e){this.logger.warn(`Deleting corrupted history file. path=${this.historyKey} err=${e}.`),this.clear()}}async save(){try{try{await(0,i.mkdirAsync)(o.Globals.extensionStoragePath,{recursive:!0})}catch(e){if("EEXIST"!==e.code)throw e}await(0,i.writeFileAsync)(this.historyKey,JSON.stringify(this.history),"utf-8")}catch(e){throw this.logger.error(`Failed to save history. filepath=${this.historyKey}. err=${e}.`),e}}}},6071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerImpl=void 0;const n=r(1037),i=r(7549),o=r(1440),s=r(8353);class a extends n{constructor(e){super(e),this.actionMessages=["Dismiss","Suppress Errors"],this.prefix=e.prefix}async log(e,t){if(this.configuration&&this.configuration.debug.silent)return;let r;switch(e.level){case"error":r=i.window.showErrorMessage;break;case"warn":r=i.window.showWarningMessage;break;case"info":case"verbose":case"debug":r=i.window.showInformationMessage;break;default:throw Error(`Unsupported log level ${e.level}`)}const n=`${this.prefix}: ${e.message}`;"Suppress Errors"===await r(n,...this.actionMessages)&&this.configuration&&(i.window.showInformationMessage("Ignorance is bliss; temporarily suppressing log messages. For more permanence, please configure `vim.debug.silent`."),this.configuration.debug.silent=!0),t&&t()}}class c{constructor(e){this.logger=o.createLogger({format:o.format.simple(),level:"debug",transports:[new s.ConsoleForElectron({level:"error",silent:!1,prefix:e}),new a({level:"error",prefix:e})]})}error(e){this.logger.error(e)}debug(e){this.logger.debug(e)}warn(e){this.logger.warn(e)}verbose(e){this.logger.verbose(e)}configChanged(e){this.logger.transports[0].level=e.debug.loggingLevelForConsole,this.logger.transports[0].silent=e.debug.silent,this.logger.transports[1].level=e.debug.loggingLevelForAlert,this.logger.transports[1].configuration=e}}t.LoggerImpl=class{static get(e){return new c(e)}}},7125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Register=t.RegisterMode=void 0;const n=r(5789),i=r(9066),o=r(3176),s=r(1149),a=r(5707),c=r(2253);var u;!function(e){e[e.CharacterWise=0]="CharacterWise",e[e.LineWise=1]="LineWise",e[e.BlockWise=2]="BlockWise"}(u=t.RegisterMode||(t.RegisterMode={}));class l{static put(e,t,r,n){const i=e.recordedState.registerName;if(!l.isValidRegister(i))throw new Error(`Invalid register ${i}`);l.isBlackHoleRegister(i)||l.isReadOnlyRegister(i)||(l.isValidUppercaseRegister(i)?l.appendToRegister(e,i.toLowerCase(),t,null!=r?r:0):l.overwriteRegister(e,i,t,null!=r?r:0),n&&'"'!==i&&l.registers.set('"',l.registers.get(i)))}static isValidRegister(e){return l.isValidLowercaseRegister(e)||l.isValidUppercaseRegister(e)||/^[0-9]$/.test(e)||this.specialRegisters.includes(e)}static isValidRegisterForMacro(e){return/^[a-zA-Z0-9:]$/.test(e)}static isBlackHoleRegister(e){return"_"===e}static isClipboardRegister(e){return"*"===e||"+"===e}static isReadOnlyRegister(e){return[".","%",":","#","/"].includes(e)}static isValidLowercaseRegister(e){return/^[a-z]$/.test(e)}static isValidUppercaseRegister(e){return/^[A-Z]$/.test(e)}static overwriteRegister(e,t,r,i){0!==i&&l.registers.has(t)||l.registers.set(t,[]),l.registers.get(t)[i]={registerMode:e.currentRegisterMode,text:r},0!==i||!this.isClipboardRegister(t)||r instanceof s.RecordedState||n.Clipboard.Copy(r),this.processNumberedRegisters(e,r)}static appendToRegister(e,t,r,i){l.registers.has(t)||l.registers.set(t,[]);const o=l.registers.get(t),a=o[i];if(void 0===a)o[i]={registerMode:e.currentRegisterMode,text:r};else{const t=e.currentRegisterMode===u.LineWise?u.LineWise:a.registerMode;let n;n=a.text instanceof s.RecordedState||r instanceof s.RecordedState?a.text:a.text+(t===u.LineWise?"\n":"")+r,o[i]={registerMode:t,text:n}}if(0===i&&this.isClipboardRegister(t)){const e=o[i].text;e instanceof s.RecordedState||n.Clipboard.Copy(e)}}static putByKey(e,t,r=u.CharacterWise){if(!l.isValidRegister(e))throw new Error(`Invalid register ${e}`);l.isClipboardRegister(e)&&n.Clipboard.Copy(t.toString()),l.isBlackHoleRegister(e)||l.isReadOnlyRegister(e)||l.registers.set(e,[{text:t,registerMode:r}])}static setReadonlyRegister(e,t){l.registers.set(e,[{text:t,registerMode:u.CharacterWise}])}static processNumberedRegisters(e,t){const r=e.recordedState.operator||e.recordedState.command;if(r instanceof o.YankOperator||r instanceof i.CommandYankFullLine)e.recordedState.actionsRun.find((e=>e instanceof i.CommandRegister))||l.registers.set("0",[{text:t,registerMode:e.currentRegisterMode}]);else if((r instanceof o.DeleteOperator||r instanceof i.ActionDeleteChar||r instanceof i.ActionDeleteLastChar||r instanceof i.ActionDeleteCharWithDeleteKey)&&void 0===e.macro&&!e.isReplayingMacro)if(t.toString().match(/\n/g)||e.currentRegisterMode===u.LineWise){for(let e=9;e>1;e--){const t=l.registers.get(String(e-1));t&&l.registers.set(String(e),{...t})}l.registers.set("1",[{text:t,registerMode:e.currentRegisterMode}])}else l.registers.set("-",[{text:t,registerMode:u.CharacterWise}])}static async get(e,t=0){var r,i;if(!l.isValidRegister(e))throw new Error(`Invalid register ${e}`);e=e.toLowerCase();const o=l.registers.get(e);if(l.isClipboardRegister(e)){const t=(await n.Clipboard.Paste()).replace(/\r\n/g,"\n");if((null===(i=null===(r=null==o?void 0:o[0])||void 0===r?void 0:r.text)||void 0===i?void 0:i.replace(/\r\n/g,"\n"))!==t){const r={text:t,registerMode:u.CharacterWise};return l.registers.set(e,[r]),r}}return void 0===(null==o?void 0:o[t])&&(t=0),null==o?void 0:o[t]}static has(e){return l.registers.has(e)}static getKeys(){return[...l.registers.keys()]}static clearAllRegisters(){l.registers.clear()}static async saveToDisk(e){if(e){const e=new Array;for(const[t,r]of l.registers)r.some((e=>e instanceof s.RecordedState))||e.push([t,r]);return Promise.resolve().then((()=>r(5622))).then((t=>(0,a.writeFileAsync)(t.join(c.Globals.extensionStoragePath,".registers"),JSON.stringify({version:"1.0",registers:e}),"utf8")))}}static loadFromDisk(e){e?(l.registers=new Map,Promise.resolve().then((()=>r(5622))).then((e=>{(0,a.readFileAsync)(e.join(c.Globals.extensionStoragePath,".registers"),"utf8").then((e=>{const t=JSON.parse(e);"1.0"===t.version&&(l.registers=new Map(t.registers))}))}))):l.registers=new Map}}t.Register=l,l.specialRegisters=['"',"*","+",".","-","/",":","%","#","_"]},6637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionState=void 0,t.CompositionState=class{constructor(){this.isInComposition=!1,this.insertedText=!1,this.composingText=""}reset(){this.isInComposition=!1,this.insertedText=!1,this.composingText=""}}},9138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalState=void 0;const n=r(7549),i=r(7637),o=r(4379),s=r(9163),a=r(8186),c=r(7536),u=r(7549);t.globalState=new class{constructor(){this._searchStatePrevious=[],this.jumpTracker=new i.JumpTracker,this.previousFullAction=void 0,this.substituteState=void 0,this.searchState=void 0,this.searchStateIndex=0,this.hl=!0}async load(e){this.searchHistory=new s.SearchHistory(e),this.searchHistory.get().forEach((e=>this.searchStatePrevious.push(new a.SearchState(a.SearchDirection.Forward,new u.Position(0,0),e,void 0,o.Mode.Normal))))}get searchStatePrevious(){return this._searchStatePrevious}set searchStatePrevious(e){this._searchStatePrevious=this._searchStatePrevious.concat(e)}async addSearchStateToHistory(e){const t=0===this.searchStatePrevious.length?void 0:this.searchStatePrevious[this.searchStatePrevious.length-1].searchString;e.searchString!==t&&(this.searchStatePrevious.push(e),void 0!==this.searchHistory&&await this.searchHistory.add(e.searchString)),this.searchStatePrevious.length>c.configuration.history&&this.searchStatePrevious.splice(0,1),this.searchStateIndex=this.searchStatePrevious.length-1}async showSearchHistory(){const e=this._searchStatePrevious.slice().reverse().map((e=>({label:e.searchString,searchState:e}))),t=await n.window.showQuickPick(e,{placeHolder:"Vim search history",ignoreFocusOut:!1});return t?t.searchState:void 0}}},1149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordedState=void 0;const n=r(7536),i=r(4379),o=r(4543),s=r(3403);class a{constructor(){this.commandList=[],this.actionKeys=[],this.waitingForAnotherActionKey=!1,this.actionsRun=[],this.actionsRunPressedKeys=[],this.bufferedKeys=[],this.bufferedKeysTimeoutObj=void 0,this.allowPotentialRemapOnFirstKey=!0,this.hasRunOperator=!1,this.isInsertion=!1,this.transformer=new o.Transformer,this.count=0,this.operatorCount=0,this.registerKey="",this.registerName=n.configuration.useSystemClipboard?"*":'"'}get commandString(){let e="";this.actionsRun.length>0&&(e=this.actionsRunPressedKeys.join("")),this.actionKeys.length>0&&(e+=this.actionKeys.join("")),this.bufferedKeys.length>0&&(e+=this.bufferedKeys.join("")),0===this.actionsRun.length&&0===this.actionKeys.length&&0===this.bufferedKeys.length&&this.commandList.length>0&&(e=this.commandList.join(""));const t=new RegExp(/[|\\{}()[\]^$+*?.]/,"g"),r=new RegExp(n.configuration.leader.replace(t,"\\$&"),"g"),i=new RegExp(s.SpecialKeys.TimeoutFinished,"g");return e=e.replace(r,"<leader>").replace(i,""),e}get pendingCommandString(){let e="";this.actionKeys.length>0&&(e+=this.actionKeys.join("")),this.bufferedKeys.length>0&&(e+=this.bufferedKeys.join(""));const t=new RegExp(/[|\\{}()[\]^$+*?.]/,"g"),r=new RegExp(n.configuration.leader.replace(t,"\\$&"),"g"),i=new RegExp(s.SpecialKeys.TimeoutFinished,"g");return e=e.replace(r,"<leader>").replace(i,""),e}get commandWithoutCountPrefix(){return this.commandList.join("").replace(/^[0-9]+/g,"")}resetCommandList(){this.commandList=[]}get operator(){const e=this.operators;return e.length>0?e[0]:void 0}get operators(){return this.actionsRun.filter((e=>e.isOperator)).reverse()}get command(){return this.actionsRun.filter((e=>e.isCommand)).reverse()[0]}clone(){const e=new a;return e.actionKeys=this.actionKeys.slice(0),e.actionsRun=this.actionsRun.slice(0),e.hasRunOperator=this.hasRunOperator,e}getOperatorState(e){if(void 0!==this.operator&&!this.hasRunOperator&&e!==i.Mode.SearchInProgressMode&&e!==i.Mode.CommandlineInProgress)return this.actionsRun.some((e=>e.isMotion))||(0,i.isVisualMode)(e)||this.operators.length>1&&this.operators.reverse()[0].constructor===this.operators.reverse()[1].constructor?"ready":"pending"}}t.RecordedState=a},8145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemapState=void 0,t.RemapState=class{constructor(){this.lastKeyPressedTimestamp=0,this.isCurrentlyPerformingNonRecursiveRemapping=!1,this.isCurrentlyPerformingRecursiveRemapping=!1,this.wasPerformingRemapThatFinishedWaitingForTimeout=!1,this.mapDepth=0,this.remapUsedACharacter=!1,this.forceStopRecursiveRemapping=!1}get isCurrentlyPerformingRemapping(){return this.isCurrentlyPerformingNonRecursiveRemapping||this.isCurrentlyPerformingRecursiveRemapping}}},8785:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceState=void 0,t.ReplaceState=class{constructor(e,t,r=1){this.newChars=[],this.replaceCursorStartPosition=t,this.timesToRepeat=r,this.originalChars=e.document.lineAt(t).text.split("")}}},8186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchState=t.SearchDirection=void 0;const n=r(7549),i=r(7536),o=r(4880);var s;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(s=t.SearchDirection||(t.SearchDirection={}));let a=!0;try{new RegExp("(?<=x)")}catch{a=!1}class c{constructor(e,t,r="",{isRegex:n=!1,ignoreSmartcase:i=!1}={},o){this.matchRanges=new Map,this.needle="",this._searchString="",this.searchDirection=e,this.cursorStartPosition=t,this.isRegex=n,this.ignoreSmartcase=i,this.searchString=r,this.previousMode=o}getMatchRanges(e){return this.recalculateSearchRanges(e)}get searchString(){return this._searchString}set searchString(e){if(this._searchString!==e){this._searchString=e;const t=this.needle;this.needle=e,this.offset=void 0;const r=this.searchDirection===s.Backward?e.split(c.notEscapedQuestionMarkRegex):e.split(c.notEscapedSlashRegex);if(r.length>1){this.needle=r[0];const e=Number(r[1]);isNaN(e)?c.searchOffsetBeginRegex.test(r[1])?this.offset={type:"beginning",num:Number(r[1].slice(1))}:c.searchOffsetEndRegex.test(r[1])&&(this.offset={type:"end",num:Number(r[1].slice(1))}):this.offset={type:"line",num:e}}this.needle!==t&&(this.matchRanges.clear(),this._needleRegex=void 0)}}get needleRegex(){if(this._needleRegex)return this._needleRegex;let e=i.configuration.ignorecase;e&&i.configuration.smartcase&&!this.ignoreSmartcase&&/[A-Z]/.test(this.needle)&&(e=!1);let t=this.needle;const r=this.needle.match(c.caseOverrideRegex);r&&(t=this.needle.replace(c.caseOverrideRegex,""),e="c"===r[0][1]),this.isRegex||(t=this.needle.replace(c.specialCharactersRegex,"\\$&"));const n=e?"gim":"gm";try{this._needleRegex=new RegExp(t,n)}catch(e){t=this.needle.replace(c.specialCharactersRegex,"\\$&"),this._needleRegex=new RegExp(t,n)}return this._needleRegex}recalculateSearchRanges(e){if(""===this.needle)return[];const t=e.document,r=this.matchRanges.get(t.fileName);if((null==r?void 0:r.version)===t.version)return r.ranges;const i=t.getText(),o=e.selection,s=t.offsetAt(o.active),a=this.needleRegex;let u;a.lastIndex=s;let l=!1;const d=[];for(;;)if(u=a.exec(i),u){if(l&&u.index>=s)break;if(d.push(new n.Range(t.positionAt(u.index),t.positionAt(u.index+u[0].length))),d.length>=c.MAX_SEARCH_RANGES)break;u.index===a.lastIndex&&a.lastIndex++}else{if(l)break;a.lastIndex=0,l=!0}return d.sort(((e,t)=>e.start.isBefore(t.start)?-1:1)),this.matchRanges.set(t.fileName,{version:t.version,ranges:d}),d}getNextSearchMatchPosition(e,t,r=s.Forward){const n=this.getNextSearchMatchRange(e,t,r);if(void 0===n)return;const{start:i,end:a,index:c}=n;let u=i;return this.offset&&("line"===this.offset.type?u=i.add(e.document,o.PositionDiff.exactCharacter({lineOffset:this.offset.num,character:0})):"beginning"===this.offset.type?u=i.getOffsetThroughLineBreaks(this.offset.num):"end"===this.offset.type&&(u=a.getOffsetThroughLineBreaks(this.offset.num-1))),{pos:u,index:c}}getNextSearchMatchRange(e,t,r=s.Forward){const n=this.recalculateSearchRanges(e);if(0!==n.length)if(r*this.searchDirection!==s.Forward){for(const[e,r]of n.slice(0).reverse().entries())if(r.end.isBeforeOrEqual(t))return{start:r.start,end:r.end,index:n.length-e-1};if(i.configuration.wrapscan){const e=n[n.length-1];return{start:e.start,end:e.end,index:n.length-1}}}else{for(const[e,r]of n.entries())if(r.start.isAfter(t))return{start:r.start,end:r.end,index:e};if(i.configuration.wrapscan){const e=n[0];return{start:e.start,end:e.end,index:0}}}}getSearchMatchRangeOf(e,t){const r=this.recalculateSearchRanges(e);if(0!==r.length)for(const[e,n]of r.entries())if(n.start.isBeforeOrEqual(t)&&n.end.isAfter(t))return{start:n.start,end:n.end,index:e}}}t.SearchState=c,c.MAX_SEARCH_RANGES=1e3,c.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,c.caseOverrideRegex=a?new RegExp("(?<=(?:^|[^\\\\])(?:\\\\\\\\)*)\\\\[Cc]","g"):/\\[Cc]/g,c.notEscapedSlashRegex=a?new RegExp("(?<=[^\\\\])\\/","g"):/\//g,c.notEscapedQuestionMarkRegex=a?new RegExp("(?<=[^\\\\])\\?","g"):/\?/g,c.searchOffsetBeginRegex=/b(\+-)?[0-9]*/,c.searchOffsetEndRegex=/e(\+-)?[0-9]*/},3752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteState=void 0,t.SubstituteState=class{constructor(e,t){this.searchPattern=e,this.replaceString=t}}},1513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimState=void 0;const n=r(7549),i=r(7536),o=r(7301),s=r(1214),a=r(5845),c=r(4379),u=r(8693),l=r(1149),d=r(7125),h=r(5509),m=r(7549);class f{constructor(e,t){this.desiredColumn=0,this.isFakeMultiCursor=!1,this.lastSemicolonRepeatableMovement=void 0,this.lastCommaRepeatableMovement=void 0,this.lastMovementFailed=!1,this.isRunningDotCommand=!1,this.isReplayingMacro=!1,this.dotCommandPreviousVisualSelection=void 0,this.firstVisibleLineBeforeSearch=void 0,this.surround=void 0,this.returnToInsertAfterCommand=!1,this.actionCount=0,this.postponedCodeViewChanges=[],this._cursors=[new u.Cursor(new m.Position(0,0),new m.Position(0,0))],this.replaceState=void 0,this.lastVisualSelection=void 0,this.lastClickWasPastEol=!1,this.selectionsChanged={ignoreIntermediateSelections:!1,ourSelections:Array()},this._currentMode=c.Mode.Normal,this.currentCommandlineText="",this.statusBarCursorCharacterPos=0,this.recordedState=new l.RecordedState,this.editor=e,this.identity=o.EditorIdentity.fromEditor(e),this.historyTracker=new s.HistoryTracker(this),this.easyMotion=t}get document(){return this.editor.document}get isMultiCursor(){return this._cursors.length>1}get cursorStartPosition(){return this.cursors[0].start}set cursorStartPosition(e){e.isValid(this.editor)||f.logger.warn(`invalid cursor start position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStart(e)}get cursorStopPosition(){return this.cursors[0].stop}set cursorStopPosition(e){e.isValid(this.editor)||f.logger.warn(`invalid cursor stop position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStop(e)}get cursors(){return this._cursors}set cursors(e){if(0===e.length)return void f.logger.warn("Tried to set VimState.cursors to an empty array");const t=new Map;for(const r of e)r.isValid(this.editor)||f.logger.warn(`invalid cursor position. ${r.toString()}.`),t.set(r.toString(),r);this._cursors=[...t.values()]}get cursorsInitialState(){return this._cursorsInitialState}set cursorsInitialState(e){this._cursorsInitialState=[...e]}get currentMode(){return this._currentMode}get currentModeIncludingPseudoModes(){return"pending"===this.recordedState.getOperatorState(this._currentMode)?c.Mode.OperatorPendingMode:this._currentMode}async setCurrentMode(e){var t;if(void 0===e)throw new Error("Tried setting currentMode to undefined");await(null===(t=this.inputMethodSwitcher)||void 0===t?void 0:t.switchInputMethod(this._currentMode,e)),this.returnToInsertAfterCommand&&e===c.Mode.Insert&&(this.returnToInsertAfterCommand=!1),this._currentMode=e,i.configuration.smartRelativeLine&&(this.editor.options.lineNumbers=e===c.Mode.Insert?n.TextEditorLineNumbersStyle.On:n.TextEditorLineNumbersStyle.Relative),e===c.Mode.SearchInProgressMode?this.firstVisibleLineBeforeSearch=this.editor.visibleRanges[0].start.line:this.firstVisibleLineBeforeSearch=void 0}set currentRegisterMode(e){this._currentRegisterMode=e}get currentRegisterMode(){if(this._currentRegisterMode)return this._currentRegisterMode;switch(this.currentMode){case c.Mode.VisualLine:return d.RegisterMode.LineWise;case c.Mode.VisualBlock:return d.RegisterMode.BlockWise;default:return d.RegisterMode.CharacterWise}}async load(){if(h.SUPPORT_NVIM){const e=await Promise.resolve().then((()=>r(2454)));this.nvim=new e.NeovimWrapper}if(h.SUPPORT_IME_SWITCHER){const e=await Promise.resolve().then((()=>r(9971)));this.inputMethodSwitcher=new e.InputMethodSwitcher}}dispose(){var e;null===(e=this.nvim)||void 0===e||e.dispose()}}t.VimState=f,f.logger=a.Logger.get("VimState")},9220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusBarCommandText=t.statusBarText=t.StatusBar=void 0;const n=r(7549),i=r(4379),o=r(9138),s=r(8186),a=r(7536),c=r(5845);function u(e){const t="<C-r>"===e.recordedState.actionKeys[e.recordedState.actionKeys.length-1]?'"':"|";switch(e.currentMode){case i.Mode.Normal:return"-- NORMAL --";case i.Mode.Insert:return"-- INSERT --";case i.Mode.Visual:return"-- VISUAL --";case i.Mode.VisualBlock:return"-- VISUAL BLOCK --";case i.Mode.VisualLine:return"-- VISUAL LINE --";case i.Mode.Replace:return"-- REPLACE --";case i.Mode.EasyMotionMode:return"-- EASYMOTION --";case i.Mode.EasyMotionInputMode:return"-- EASYMOTION INPUT --";case i.Mode.SurroundInputMode:return"-- SURROUND INPUT --";case i.Mode.Disabled:return"-- VIM: DISABLED --";case i.Mode.SearchInProgressMode:if(void 0===o.globalState.searchState)return c.Logger.get("StatusBar").warn("globalState.searchState is undefined in SearchInProgressMode."),"";const r=o.globalState.searchState.searchDirection===s.SearchDirection.Forward?"/":"?",n=o.globalState.searchState.searchString.split("");return n.splice(e.statusBarCursorCharacterPos,0,t),`${r}${n.join("")}`;case i.Mode.CommandlineInProgress:const a=e.currentCommandlineText.split("");return a.splice(e.statusBarCursorCharacterPos,0,t),`:${a.join("")}`;default:return""}}function l(e){switch(e.currentMode){case i.Mode.SurroundInputMode:return e.surround&&e.surround.replacement?e.surround.replacement:"";case i.Mode.EasyMotionMode:return`Target key: ${e.easyMotion.accumulation}`;case i.Mode.EasyMotionInputMode:if(!e.easyMotion)return"";const t=e.easyMotion.searchAction.searchCharCount;return(t>0?`Search for ${t} character(s): `:"Search for characters: ")+e.easyMotion.searchAction.searchString;case i.Mode.Visual:{let[t,r]=[e.cursorStartPosition,e.cursorStopPosition],n=!1;t.isAfter(r)?(t=t.getRightThroughLineBreaks(),[t,r]=[r,t]):r.isAfter(t)&&0===r.character&&(r=r.getLeftThroughLineBreaks(!0),n=!0);const i=r.line-t.line+1;return i>1?`${i} ${e.recordedState.pendingCommandString}`:`${Math.max(r.character-t.character,1)+(n?1:0)} ${e.recordedState.pendingCommandString}`}case i.Mode.VisualLine:return`${Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1} ${e.recordedState.pendingCommandString}`;case i.Mode.VisualBlock:return`${Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1}x${Math.abs(e.cursorStopPosition.character-e.cursorStartPosition.character)+1} ${e.recordedState.pendingCommandString}`;case i.Mode.Insert:case i.Mode.Replace:return e.recordedState.pendingCommandString;case i.Mode.Normal:case i.Mode.Disabled:return e.recordedState.commandString;default:return""}}t.StatusBar=new class{constructor(){this.previousMode=void 0,this.showingDefaultMessage=!0,this.statusBarItem=n.window.createStatusBarItem("primary",n.StatusBarAlignment.Left,Number.MIN_SAFE_INTEGER),this.statusBarItem.name="Vim Command Line",this.statusBarItem.show(),this.recordedStateStatusBarItem=n.window.createStatusBarItem("showcmd",n.StatusBarAlignment.Right,Number.MAX_SAFE_INTEGER),this.recordedStateStatusBarItem.name="Vim Pending Command Keys",this.recordedStateStatusBarItem.show()}dispose(){this.statusBarItem.dispose(),this.recordedStateStatusBarItem.dispose()}updateShowCmd(e){this.recordedStateStatusBarItem.text=a.configuration.showcmd?l(e):""}setText(e,t,r=!1){const i=e.currentMode!==this.previousMode;this.updateText(t),a.configuration.statusBarColorControl||(this.statusBarItem.color=r?new n.ThemeColor("statusBarItem.errorForeground"):void 0,this.statusBarItem.backgroundColor=r?new n.ThemeColor("statusBarItem.errorBackground"):void 0),a.configuration.statusBarColorControl&&i&&this.updateColor(e.currentMode),this.previousMode=e.currentMode,this.showingDefaultMessage=!1,this.lastMessageTime=new Date}displayError(e,r){t.StatusBar.setText(e,r.toString(),!0)}getText(){return this.statusBarItem.text.replace(/\^M/g,"\n")}clear(e,r=!0){if(!this.showingDefaultMessage&&!r)return;const n=[];if((a.configuration.showmodename||e.currentMode===i.Mode.CommandlineInProgress||e.currentMode===i.Mode.SearchInProgressMode)&&(n.push(u(e)),e.isMultiCursor&&n.push(" MULTI CURSOR ")),e.macro){const t="Recording @"+e.macro.registerName;n.push(t)}t.StatusBar.setText(e,n.join(" ")),this.showingDefaultMessage=!0}updateText(e){const t=e.replace(/\n/g,"^M");this.statusBarItem.text=t||""}updateColor(e){var t;let r,n;const o=a.configuration.statusBarColors[i.Mode[e].toLowerCase()];void 0!==o&&("string"==typeof o?n=o:[n,r]=o);const s=a.configuration.getConfiguration("workbench"),c=null!==(t=s.get("colorCustomizations"))&&void 0!==t?t:{},u={...c};void 0!==n&&(u["statusBar.background"]=n,u["statusBar.noFolderBackground"]=n,u["statusBar.debuggingBackground"]=n),void 0!==r&&(u["statusBar.foreground"]=r,u["statusBar.debuggingForeground"]=r),c!==u&&s.update("colorCustomizations",u,!0)}},t.statusBarText=u,t.statusBarCommandText=l},7943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.taskQueue=void 0;const n=r(7549),i=r(9189),o=r(5845),s=r(7536);t.taskQueue=new class{constructor(){this.logger=o.Logger.get("TaskQueue"),this.taskQueue=new i.default({autostart:!0,concurrency:1}),this.taskQueue.addListener("error",((e,t)=>{if(e instanceof Error){const t="Report bug",r=e.stack,i=e.context;n.window.showErrorMessage(e.message,t).then((o=>{if(o===t){let t=`**To Reproduce**\nSteps to reproduce the behavior:\n\n1.  Go to '...'\n2.  Click on '....'\n3.  Scroll down to '....'\n4.  See error\n\n**VSCodeVim version**: ${s.extensionVersion}`;if(r&&(t+=`\n\n<details><summary>Stack trace</summary>\n\n\`\`\`\n${r}\n\`\`\`\n\n</details>`),i){t+="\n\n<details><summary>Additional context</summary>\n\n```";for(const e in i)i.hasOwnProperty(e)&&(t+=`\n${e}: ${JSON.stringify(i[e],void 0,2)}`);t+="\n```\n\n</details>"}n.commands.executeCommand("vscode.open",n.Uri.parse(`https://github.com/VSCodeVim/Vim/issues/new?title=${e.message}&body=${t}`))}}))}else this.logger.error(`Error running task due to an unknown error: ${e}.`)}))}enqueueTask(e){this.taskQueue.push(e)}}},1797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEditor=void 0;const n=r(7549),i=r(7536),o=r(4379),s=r(7549),a=r(5845),c=r(3434);class u{static async insert(e,t,r,i){null!=i||(i=1===t.length),i?await n.commands.executeCommand("default:type",{text:t}):await e.edit((n=>{r||(r=e.selection.active),n.insert(r,t)}))}static async replace(e,t,r){return e.edit((e=>{e.replace(t,r)}))}static getLineCount(e){var t;return null!=e||(e=n.window.activeTextEditor),null!==(t=null==e?void 0:e.document.lineCount)&&void 0!==t?t:-1}static getLineLength(e){return e<0||e>=u.getLineCount()?(this.logger.warn(`getLineLength() called with out-of-bounds line ${e}`),0):n.window.activeTextEditor.document.lineAt(e).text.length}static getLine(e){return n.window.activeTextEditor.document.lineAt(e)}static getCharAt(e,t){return t=e.validatePosition(t),e.lineAt(t).text[t.character]}static getWord(e,t){const r=e.lineAt(t).text;let n=t.character;for(;this.whitespaceRegExp.test(r[n]);)if(n++,n===r.length)return;let o=n;for(;i.configuration.iskeyword.includes(r[o])||this.whitespaceRegExp.test(r[o]);)if(o++,o===r.length){o=n;break}const s=!i.configuration.iskeyword.includes(r[o]),a=e=>!this.whitespaceRegExp.test(e)&&i.configuration.iskeyword.includes(e)!==s;let c=o;for(;o>0&&a(r[o-1]);)o--;for(;c<r.length&&a(r[c+1]);)c++;return r.substring(o,c+1)}static getTabCharacter(e){if(e.options.insertSpaces){const t=e.options.tabSize;return" ".repeat(t)}return"\t"}static getIndentationLevel(e){let t=0;for(const r of e)switch(r){case"\t":t+=i.configuration.tabstop;break;case" ":t+=1;break;default:return t}return t}static setIndentationLevel(e,t){const r=i.configuration.tabstop;t<0&&(t=0);const n=i.configuration.expandtab?" ".repeat(t):"\t".repeat(t/r)+" ".repeat(t%r);return e.replace(/^\s*/,n)}static getDocumentBegin(){return new s.Position(0,0)}static getDocumentEnd(e){const t=Math.max(e.lineCount,1)-1;return e.lineAt(t).range.end}static getFirstNonWhitespaceCharOnLine(e,t){return t=(0,c.clamp)(t,0,e.lineCount-1),new s.Position(t,e.lineAt(t).firstNonWhitespaceCharacterIndex)}static*iterateLinesInBlock(e,t,r={reverse:!1}){const{reverse:n}=r;null!=t||(t=e.cursors[0]);const i=(0,o.visualBlockGetTopLeftPosition)(t.start,t.stop),a=(0,o.visualBlockGetBottomRightPosition)(t.start,t.stop),[c,u]=n?[a.line,i.line]:[i.line,a.line],l=e.desiredColumn===Number.POSITIVE_INFINITY;for(let t=c;n?t>=u:t<=u;n?t--:t++){const r=e.document.lineAt(t).text,n=l?r.length+1:Math.min(r.length,a.character+1);yield{line:r.substring(i.character,n),start:new s.Position(t,i.character),end:new s.Position(t,n)}}}static*iterateWords(e,t){const r=e.lineAt(t).text;/\s/.test(r[t.character])&&(t=t.nextWordStart(e));let n=t.nextWordEnd(e,{inclusive:!0});for(;;){const i=r.substring(t.character,n.character+1);if(yield{start:t,end:n,word:i},n.getRight().isLineEnd())return;n=(t=t.nextWordStart(e)).nextWordEnd(e,{inclusive:!0})}}}t.TextEditor=u,u.whitespaceRegExp=new RegExp("\\s+"),u.logger=a.Logger.get("TextEditor")},7092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentParagraphBeginning=t.getCurrentParagraphEnd=void 0;const n=r(7549),i=r(1797);function o(e,t=!1){const r=i.TextEditor.getLine(e).text;return""===(t?r.trim():r)}t.getCurrentParagraphEnd=function(e,t=!1){const r=i.TextEditor.getLineCount()-1;let n=e.line;for(;n<r&&o(n,t);)n++;for(;n<r&&!o(n,t);)n++;return e.with({line:n}).getLineEnd()},t.getCurrentParagraphBeginning=function(e,t=!1){let r=e.line;for(;r>0&&o(r,t);)r--;for(;r>0&&!o(r,t);)r--;return new n.Position(r,0)}},6993:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSentenceEnd=t.getSentenceBegin=void 0;const n=r(7549),i=r(1797),o=r(7092),s=r(4890),a=/[\.!\?]{1}([ \n\t]+|$)/g;function c(e,t,r){if(i.TextEditor.getLine(e.line).text)return t;for(let o=e.line;o<=t.line;o++){const t=(0,s.getAllPositions)(i.TextEditor.getLine(o).text,/\S/g).find((t=>t>e.character&&!r||t>=e.character&&r||o!==e.line));if(void 0!==t)return new n.Position(o,t)}return e}t.getSentenceBegin=function(e,t){return t.forward?function(e){const t=(0,o.getCurrentParagraphEnd)(e);for(let r=e.line;r<=t.line;r++){const t=(0,s.getAllEndPositions)(i.TextEditor.getLine(r).text,a).find((t=>t>e.character||r!==e.line));if(void 0!==t)return new n.Position(r,t).getRightThroughLineBreaks()}return c(e,t,!1)}(e):function(e){const t=(0,o.getCurrentParagraphBeginning)(e);for(let r=e.line;r>=t.line;r--){const t=(0,s.getAllEndPositions)(i.TextEditor.getLine(r).text,a).reverse().find((t=>new n.Position(r,t).getRightThroughLineBreaks().compareTo(e)&&(t<e.character||r<e.line)));if(void 0!==t)return new n.Position(r,t).getRightThroughLineBreaks()}return t.line+1===e.line||t.line===e.line?t:new n.Position(t.line+1,0)}(e)},t.getSentenceEnd=function(e){const t=(0,o.getCurrentParagraphEnd)(e);for(let r=e.line;r<=t.line;r++){const t=(0,s.getAllPositions)(i.TextEditor.getLine(r).text,a).find((t=>t>e.character||r!==e.line));if(void 0!==t)return new n.Position(r,t)}return c(e,t,!1)}},3838:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAroundArgument=t.SelectInnerArgument=t.SelectEntireIgnoringLeadingTrailing=t.SelectEntire=t.SelectInnerParagraph=t.SelectParagraph=t.SelectInnerSentence=t.SelectSentence=t.SelectInnerBigWord=t.SelectInnerWord=t.SelectAnExpandingBlock=t.SelectABigWord=t.SelectWord=t.TextObject=void 0;const i=r(8693),o=r(4379),s=r(7125),a=r(1797),c=r(785),u=r(3193),l=r(6206),d=r(3176),h=r(7536),m=r(7092),f=r(7549),p=r(8019);class g extends u.BaseMovement{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualBlock]}async execActionForOperator(e,t){const r=await this.execAction(e,t);return r.stop=new f.Position(r.stop.line,r.stop.character+1),r}}t.TextObject=g;let v=class extends g{constructor(){super(...arguments),this.keys=["a","w"]}async execAction(e,t){let r,n;const i=a.TextEditor.getCharAt(t.document,e);return/\s/.test(i)?(r=e.prevWordEnd(t.document).getRight(),n=e.nextWordEnd(t.document)):(n=e.nextWordStart(t.document),n.isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line))&&(n=n.getLineBegin()),n=n.getLeftThroughLineBreaks().getLeftIfEOL(),r=n.isEqual(e.nextWordEnd(t.document,{inclusive:!0}))&&!e.prevWordStart(t.document,{inclusive:!0}).isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line))&&0===t.recordedState.count?e.prevWordEnd(t.document).getRight():e.prevWordStart(t.document,{inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordStart(t.document,{inclusive:!0}):e.prevWordEnd(t.document).getRight())),{start:r,stop:n}}};v=n([c.RegisterAction],v),t.SelectWord=v;let y=class extends g{constructor(){super(...arguments),this.keys=["a","W"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];if(/\s/.test(i))r=e.prevWordEnd(t.document,{wordType:p.WordType.Big}).getRight(),n=e.nextWordEnd(t.document,{wordType:p.WordType.Big});else{const i=e.nextWordStart(t.document,{wordType:p.WordType.Big});(i.line>e.line||i.isAtDocumentEnd())&&0===t.recordedState.count?(r=e.prevWordEnd(t.document,{wordType:p.WordType.Big}).isLineBeginning()?e.prevWordEnd(t.document,{wordType:p.WordType.Big}):e.prevWordEnd(t.document,{wordType:p.WordType.Big}).getRight(),n=e.getLineEnd()):(i.isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i.line))||i.isLineEnd())&&0===t.recordedState.count?(r=e.prevWordEnd(t.document).getRight(),n=e.getLineEnd()):(r=e.prevWordStart(t.document,{wordType:p.WordType.Big,inclusive:!0}),n=e.nextWordStart(t.document,{wordType:p.WordType.Big}).getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordStart(t.document,{wordType:p.WordType.Big}):e.prevWordEnd(t.document,{wordType:p.WordType.Big}).getRight())),{start:r,stop:n}}};y=n([c.RegisterAction],y),t.SelectABigWord=y;let w=class extends l.ExpandingSelection{constructor(){super(...arguments),this.keys=["a","f"],this.modes=[o.Mode.Visual,o.Mode.VisualLine]}async execAction(e,t,r,n){const s=[new l.MoveAroundDoubleQuotes,new l.MoveAroundSingleQuotes,new l.MoveAroundBacktick,new l.MoveAroundCurlyBrace,new l.MoveAroundParentheses,new l.MoveAroundSquareBracket,new l.MoveAroundTag];let a,c=[];for(const i of s){const o=new f.Position(e.line,e.character),s=new f.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);c.push(await i.execAction(o,t,r,n)),t.cursorStartPosition=s}c=c.filter((e=>!e.failed));for(const e of c){const r=new i.Cursor(t.cursorStartPosition,t.cursorStopPosition);if(e.failed)continue;const n=new i.Cursor(e.start,e.stop);let s;n.start.isBefore(r.start)&&n.stop.isAfter(r.stop)&&(a?n.start.isAfter(a.start)&&n.stop.isBefore(a.stop)&&(s=n):s=n),s&&(s.equals(new i.Cursor(t.cursorStartPosition,t.cursorStopPosition))||t.currentMode===o.Mode.VisualLine&&s.start.line===t.cursorStartPosition.line&&s.stop.line===t.cursorStopPosition.line||(a=s))}return a?(t.cursorStartPosition=new f.Position(a.start.line,a.start.character),t.cursorStopPosition=new f.Position(a.stop.line,a.stop.character),t.recordedState.operatorPositionDiff=void 0,{start:a.start,stop:a.stop}):{start:t.cursorStartPosition,stop:t.cursorStopPosition}}};w=n([c.RegisterAction],w),t.SelectAnExpandingBlock=w;let b=class extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","w"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return/\s/.test(i)?(r=e.prevWordEnd(t.document).getRight(),n=e.nextWordStart(t.document).getLeftThroughLineBreaks()):(r=e.prevWordStart(t.document,{inclusive:!0}),n=e.nextWordEnd(t.document,{inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document).getRight():e.prevWordStart(t.document,{inclusive:!0}))),{start:r,stop:n}}};b=n([c.RegisterAction],b),t.SelectInnerWord=b;let C=class extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","W"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return/\s/.test(i)?(r=e.prevWordEnd(t.document,{wordType:p.WordType.Big}).getRight(),n=e.nextWordStart(t.document,{wordType:p.WordType.Big}).getLeft()):(r=e.prevWordStart(t.document,{wordType:p.WordType.Big,inclusive:!0}),n=e.nextWordEnd(t.document,{wordType:p.WordType.Big,inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document,{wordType:p.WordType.Big}).getRight():e.prevWordStart(t.document,{wordType:p.WordType.Big}))),{start:r,stop:n}}};C=n([c.RegisterAction],C),t.SelectInnerBigWord=C;let S=class extends g{constructor(){super(...arguments),this.keys=["a","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getSentenceEnd();if(s.isBefore(e))r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getSentenceEnd();else{const e=i.getSentenceBegin({forward:!0});e.isEqual(i.getSentenceEnd())?(r=i.getSentenceBegin({forward:!1}).getSentenceEnd().getRight(),n=e):(r=i,n=e.getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i.getSentenceBegin({forward:!1}).getSentenceEnd().getRight():i)),{start:r,stop:n}}};S=n([c.RegisterAction],S),t.SelectSentence=S;let x=class extends g{constructor(){super(...arguments),this.keys=["i","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getSentenceEnd();return s.isBefore(e)?(r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getLeft()):(r=i,n=s),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i:s.getRight())),{start:r,stop:n}}};x=n([c.RegisterAction],x),t.SelectInnerSentence=x;let M=class extends g{constructor(){super(...arguments),this.keys=["a","p"]}async execAction(e,t){let r;t.currentRegisterMode=s.RegisterMode.LineWise;const n=(0,m.getCurrentParagraphBeginning)(e,!0);r=t.document.lineAt(e).isEmptyOrWhitespace?(0,m.getCurrentParagraphEnd)((0,m.getCurrentParagraphBeginning)(e,!0),!0):n.isLineBeginning()&&n.isLineEnd()?n.getRightThroughLineBreaks():n;let i=(0,m.getCurrentParagraphEnd)(e,!0);for(;i.line<t.document.lineCount-1&&t.document.lineAt(i.getDown()).isEmptyOrWhitespace;)i=i.with({character:0}).getDown();return{start:r,stop:i}}};M=n([c.RegisterAction],M),t.SelectParagraph=M;let E=class extends g{constructor(){super(...arguments),this.keys=["i","p"]}async execAction(e,t){let r,n;if(t.currentRegisterMode=s.RegisterMode.LineWise,t.document.lineAt(e).isEmptyOrWhitespace){for(r=e.getLineBegin(),n=e.getLineEnd();r.line>0&&t.document.lineAt(r.getUp()).isEmptyOrWhitespace;)r=r.getUp();for(;n.line<t.document.lineCount-1&&t.document.lineAt(n.getDown()).isEmptyOrWhitespace;)n=n.with({character:0}).getDown()}else{const i=(0,m.getCurrentParagraphBeginning)(e,!0);for(n=(0,m.getCurrentParagraphEnd)(e,!0),r=t.document.lineAt(i).isEmptyOrWhitespace?i.getRightThroughLineBreaks():i;n.line>0&&t.document.lineAt(n).isEmptyOrWhitespace;)n=n.getUp().getLineEnd()}return{start:r,stop:n}}};E=n([c.RegisterAction],E),t.SelectInnerParagraph=E;let _=class extends g{constructor(){super(...arguments),this.keys=["a","e"]}async execAction(e,t){return{start:a.TextEditor.getDocumentBegin(),stop:a.TextEditor.getDocumentEnd(t.document)}}};_=n([c.RegisterAction],_),t.SelectEntire=_;let k=class extends g{constructor(){super(...arguments),this.keys=["i","e"]}async execAction(e,t){let r=a.TextEditor.getDocumentBegin(),n=a.TextEditor.getDocumentEnd(t.document);for(;r.line<n.line&&t.document.lineAt(r).isEmptyOrWhitespace;)r=r.getDown();for(;n.line>r.line&&t.document.lineAt(n).isEmptyOrWhitespace;)n=n.getUp();return n=n.getLineEnd(),{start:r,stop:n}}};k=n([c.RegisterAction],k),t.SelectEntireIgnoringLeadingTrailing=k;class A extends g{constructor(){super(...arguments),this.setsDesiredColumnToEOL=!0,this.includeLineAbove=!1,this.includeLineBelow=!1}async execAction(e,t){const r=t.recordedState.operator instanceof d.ChangeOperator,n=A.findFirstValidLine(t.document,e),i=t.document.lineAt(n).firstNonWhitespaceCharacterIndex;let s=A.findRangeStartOrEnd(t.document,n,i,-1),c=A.findRangeStartOrEnd(t.document,n,i,1);this.includeLineAbove&&(s-=1),s<0&&(s=0),this.includeLineBelow&&(c+=1),c>t.document.lineCount-1&&(c=t.document.lineCount-1);let u,l=0;return r&&(l=t.document.lineAt(s).firstNonWhitespaceCharacterIndex),c===t.document.lineCount-1||t.currentMode===o.Mode.Visual?u=a.TextEditor.getLineLength(c):(u=0,c++),{start:new f.Position(s,l),stop:new f.Position(c,u)}}async execActionForOperator(e,t){return this.execAction(e,t)}static findFirstValidLine(e,t){for(let r=t.line;r>=0;r--)if(!e.lineAt(r).isEmptyOrWhitespace)return r;return t.line}static findRangeStartOrEnd(e,t,r,n){let i=t,o=t;const s=1===n?e.lineCount:-1;for(;i!==s;i+=n){const t=e.lineAt(i);if(t.firstNonWhitespaceCharacterIndex<r&&!t.isEmptyOrWhitespace)break;o=i}return o}}let R=class extends A{constructor(){super(...arguments),this.keys=["i","i"]}};R=n([c.RegisterAction],R);let P=class extends A{constructor(){super(...arguments),this.keys=["a","i"],this.includeLineAbove=!0}};P=n([c.RegisterAction],P);let T=class extends A{constructor(){super(...arguments),this.keys=["a","I"],this.includeLineAbove=!0,this.includeLineBelow=!0}};T=n([c.RegisterAction],T);class B extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.selectAround=!1}static openingDelimiterCharacters(){return h.configuration.argumentObjectOpeningDelimiters}static closingDelimiterCharacters(){return h.configuration.argumentObjectClosingDelimiters}static separatorCharacters(){return h.configuration.argumentObjectSeparators}async execAction(e,t){const r=(0,u.failedMovement)(t);let n=e,i=e;const o=a.TextEditor.getCharAt(t.document,e);if(B.separatorCharacters().includes(o)||B.openingDelimiterCharacters().includes(o)?i=e.getRightThroughLineBreaks(!0):B.closingDelimiterCharacters().includes(o)&&(n=e.getLeftThroughLineBreaks(!0)),void 0===L.findLeftArgumentBoundary(t.document,n,!0)||void 0===L.findRightArgumentBoundary(t.document,i,!0))return r;const s=L.findLeftArgumentBoundary(t.document,n);if(void 0===s)return r;const c=L.findRightArgumentBoundary(t.document,i);if(void 0===c)return r;let l,d;if(this.selectAround){const e=B.openingDelimiterCharacters().includes(a.TextEditor.getCharAt(t.document,s)),n=B.closingDelimiterCharacters().includes(a.TextEditor.getCharAt(t.document,c));if(s.getRight().isEqual(c)&&e&&n)return r;if(e&&!n)for(d=c.getRight();/\s/.test(a.TextEditor.getCharAt(t.document,d.getRight()));)d=d.getRight();else d=c.getLeftThroughLineBreaks(!0);l=e?s.getRightThroughLineBreaks(!0):s}else{for(l=s.getRightThroughLineBreaks(!1);/\s/.test(a.TextEditor.getCharAt(t.document,l));)l=l.getRightThroughLineBreaks(!1);for(d=c.getLeftThroughLineBreaks(!1);/\s/.test(a.TextEditor.getCharAt(t.document,d));)d=d.getLeftThroughLineBreaks(!1);d.isBeforeOrEqual(l)&&(l=s.getRightThroughLineBreaks(!0),d=c.getLeftThroughLineBreaks(!0))}return e.isBefore(l)&&(t.recordedState.operatorPositionDiff=l.subtract(e)),t.cursorStartPosition=l,{start:l,stop:d}}static findLeftArgumentBoundary(e,t,r=!1){let n,i=t,o=0;for(;;){const t=a.TextEditor.getCharAt(e,i);if(0===o){let e=B.openingDelimiterCharacters().includes(t);if(r||e||(e=B.separatorCharacters().includes(t)),e){n=i;break}}if(B.closingDelimiterCharacters().includes(t)&&o++,B.openingDelimiterCharacters().includes(t)&&o--,i.isAtDocumentBegin())break;i=i.getLeftThroughLineBreaks(!0)}return n}static findRightArgumentBoundary(e,t,r=!1){let n,i=t,o=0;for(;;){const t=a.TextEditor.getCharAt(e,i);if(0===o){let e=B.closingDelimiterCharacters().includes(t);if(r||e||(e=B.separatorCharacters().includes(t)),e){n=i;break}}if(B.openingDelimiterCharacters().includes(t)&&o++,B.closingDelimiterCharacters().includes(t)&&o--,i.isAtDocumentEnd())break;i=i.getRightThroughLineBreaks(!0)}return n}}let L=class extends B{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","a"]}};L=n([c.RegisterAction],L),t.SelectInnerArgument=L;let O=class extends B{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["a","a"],this.selectAround=!0}};O=n([c.RegisterAction],O),t.SelectAroundArgument=O},4890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllEndPositions=t.getAllPositions=void 0,t.getAllPositions=function(e,t){const r=[];let n=t.exec(e);for(;n;)r.push(n.index),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r},t.getAllEndPositions=function(e,t){const r=[];let n=t.exec(e);for(;n;)n[0].length&&r.push(n.index+n[0].length-1),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}},8019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevWordEnd=t.nextWordEnd=t.nextWordStart=t.prevWordStart=t.getWordRightInText=t.getWordLeftInText=t.WordType=void 0;const n=r(6486),i=r(7549),o=r(7536),s=r(4890);var a;!function(e){e[e.Normal=0]="Normal",e[e.Big=1]="Big",e[e.CamelCase=2]="CamelCase",e[e.FileName=3]="FileName"}(a=t.WordType||(t.WordType={}));const c=function(e){let t;!function(e){e[e.Punctuation=0]="Punctuation",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript",e[e.Braille=3]="Braille",e[e.Ideograph=4]="Ideograph",e[e.Hiragana=5]="Hiragana",e[e.Katakana=6]="Katakana",e[e.Hangul=7]="Hangul"}(t||(t={}));const r=[[[161,191],t.Punctuation],[[894,894],t.Punctuation],[[903,903],t.Punctuation],[[1370,1375],t.Punctuation],[[1417,1417],t.Punctuation],[[1470,1470],t.Punctuation],[[1472,1472],t.Punctuation],[[1475,1475],t.Punctuation],[[1523,1524],t.Punctuation],[[1548,1548],t.Punctuation],[[1563,1563],t.Punctuation],[[1567,1567],t.Punctuation],[[1642,1645],t.Punctuation],[[1748,1748],t.Punctuation],[[1792,1805],t.Punctuation],[[2404,2405],t.Punctuation],[[2416,2416],t.Punctuation],[[3572,3572],t.Punctuation],[[3663,3663],t.Punctuation],[[3674,3675],t.Punctuation],[[3844,3858],t.Punctuation],[[3898,3901],t.Punctuation],[[3973,3973],t.Punctuation],[[4170,4175],t.Punctuation],[[4347,4347],t.Punctuation],[[4961,4968],t.Punctuation],[[5741,5742],t.Punctuation],[[5787,5788],t.Punctuation],[[5867,5869],t.Punctuation],[[5941,5942],t.Punctuation],[[6100,6108],t.Punctuation],[[6144,6154],t.Punctuation],[[8204,8231],t.Punctuation],[[8234,8238],t.Punctuation],[[8240,8286],t.Punctuation],[[8288,10239],t.Punctuation],[[8304,8319],t.Superscript],[[8320,8340],t.Subscript],[[8352,10239],t.Punctuation],[[10240,10495],t.Braille],[[10496,10648],t.Punctuation],[[10712,10715],t.Punctuation],[[10748,10749],t.Punctuation],[[11776,11903],t.Punctuation],[[12289,12320],t.Punctuation],[[12336,12336],t.Punctuation],[[12349,12349],t.Punctuation],[[12352,12447],t.Hiragana],[[12448,12543],t.Katakana],[[13056,40959],t.Ideograph],[[44032,55203],t.Hangul],[[63744,64255],t.Ideograph],[[64830,64831],t.Punctuation],[[65072,65131],t.Punctuation],[[65280,65295],t.Punctuation],[[65306,65312],t.Punctuation],[[65339,65344],t.Punctuation],[[65371,65381],t.Punctuation],[[131072,173791],t.Ideograph],[[173824,177983],t.Ideograph],[[177984,178207],t.Ideograph],[[194560,195103],t.Ideograph]],i=[];for(const e in t)isNaN(Number(e))||(i[e]=[]);for(const[[e,t],n]of r)e===t?i[n].push(`\\u{${e.toString(16)}}`):i[n].push(`\\u{${e.toString(16)}}-\\u{${t.toString(16)}}`);const o=n.escapeRegExp(e).replace(/-/g,"\\-");i[Number(t.Punctuation)].push(o);const s=i.map((e=>e.join(""))),a=s.map((e=>`([${e}]+)`)),c=`([^\\s${s.join("")}]+)`,u=a.concat(c,"$^");return new RegExp(u.join("|"),"ug")}(o.configuration.iskeyword),u=f(""),l=function(e){const t=e&&n.escapeRegExp(e).replace(/-/g,"\\-"),r=[];let i=!0;try{new RegExp("(?<=x)")}catch{i=!1}const o=`([^\\s${t}](?:(?:`+(i?"(?<=[A-Z_])":"")+`[A-Z](?=[\\sA-Z0-9${t}_]))+|(?:`+(i?"(?<=[0-9_])":"")+`[0-9](?=[\\sA-Z0-9${t}_]))+|(?:`+(i?"(?<=[_])":"")+`[_](?=[\\s${t}_]))+|`+`[^\\sA-Z0-9${t}_]*))`;return r.push(o),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}(o.configuration.iskeyword),d=f("\"'`;<>{}[]()");function h(e){switch(e){case a.Normal:return c;case a.Big:return u;case a.CamelCase:return l;case a.FileName:return d}}function m(e,t,r,n=!1,i=!1){return(0,s.getAllPositions)(e,h(r)).reverse().find((e=>e<t&&!i||e<=t&&i||n))}function f(e){const t=e&&n.escapeRegExp(e).replace(/-/g,"\\-");return new RegExp([`([^\\s${t}]+)`,`[${t}]+`,"$^"].join("|"),"g")}t.getWordLeftInText=function(e,t,r){return m(e,t,r)},t.getWordRightInText=function(e,t,r){return(0,s.getAllPositions)(e,h(r)).find((e=>e>t))},t.prevWordStart=function(e,t,r,n=!1){for(let o=t.line;o>=0;o--){const s=m(e.lineAt(o).text,t.character,r,o!==t.line,n);if(void 0!==s)return new i.Position(o,s)}return new i.Position(0,0)},t.nextWordStart=function(e,t,r,n=!1){for(let o=t.line;o<e.lineCount;o++){const a=(0,s.getAllPositions)(e.lineAt(o).text,h(r)).find((e=>e>t.character&&!n||e>=t.character&&n||o!==t.line));if(void 0!==a)return new i.Position(o,a)}return new i.Position(e.lineCount-1,0).getLineEnd()},t.nextWordEnd=function(e,t,r,n=!1){for(let o=t.line;o<e.lineCount;o++){const a=(0,s.getAllEndPositions)(e.lineAt(o).text,h(r)).find((e=>e>t.character&&!n||e>=t.character&&n||o!==t.line));if(void 0!==a)return new i.Position(o,a)}return new i.Position(e.lineCount-1,0).getLineEnd()},t.prevWordEnd=function(e,t,r){for(let n=t.line;n>-1;n--){let o=(0,s.getAllEndPositions)(e.lineAt(n).text,h(r));0===o.length&&o.push(0),o=o.reverse();const a=o.findIndex((e=>e<t.character||n!==t.line));let c=0;if(-1===a){if(n>-1)continue;c=o[o.length-1]}else c=o[a];if(void 0!==c)return new i.Position(n,c)}return new i.Position(0,0)}},3677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeTransformations=void 0;const n=r(7549),i=r(5845),o=r(6167),s=r(7541),a=r(3259),c=r(4379),u=r(7125),l=r(9138),d=r(1149),h=r(1797),m=r(8965),f=r(8693),p=r(7549),g=r(4543),v=r(2253),y=i.Logger.get("Parser");t.executeTransformations=async function e(t,r){var i,w;if(0===r.length)return;const b=t.vimState,C=r.filter((e=>(0,o.isTextTransformation)(e))),S=r.filter((e=>(0,o.isMultiCursorTextTransformation)(e))),x=r.filter((e=>!(0,o.isTextTransformation)(e)&&!(0,o.isMultiCursorTextTransformation)(e))),M={},E=(e,t)=>{switch(e.type){case"insertText":t.insert(e.position,e.text);break;case"replaceText":t.replace(e.range,e.text);break;case"deleteRange":t.delete(e.range);break;case"moveCursor":break;default:y.warn(`Unhandled text transformation type: ${e.type}.`)}if(e.diff){if(void 0===e.cursorIndex)throw new Error("No cursor index - this should never ever happen!");M[e.cursorIndex]||(M[e.cursorIndex]=[]),M[e.cursorIndex].push(e.diff)}};if(C.length>0){const e=(0,o.overlappingTransformations)(C);if(void 0!==e){const t=`Transformations overlapping: ${JSON.stringify(e)}`;if(y.warn(t),v.Globals.isTesting)throw new Error(t);for(const e of C)await b.editor.edit((t=>E(e,t)))}else try{await b.editor.edit((e=>{for(const t of C)E(t,e)}))}catch(e){if("DISPOSED"!==e.name)throw e.context={currentMode:c.Mode[b.currentMode],cursors:b.cursors.map((e=>e.toString())),actionsRunPressedKeys:b.recordedState.actionsRunPressedKeys,actionsRun:b.recordedState.actionsRun.map((e=>e.constructor.name)),textTransformations:C},e}}if(S.length>0)if((0,o.areAllSameTransformation)(S)){const{text:e}=S[0];await h.TextEditor.insert(b.editor,e)}else y.warn("Unhandled multicursor transformations. Not all transformations are the same!");for(const r of x)switch(r.type){case"insertTextVSCode":await h.TextEditor.insert(b.editor,r.text),b.cursors[0]=f.Cursor.FromVSCodeSelection(b.editor.selection);break;case"deleteLeft":await n.commands.executeCommand("deleteLeft");break;case"deleteRight":await n.commands.executeCommand("deleteRight");break;case"showCommandHistory":const o=await s.commandLine.showHistory(b.currentCommandlineText);o&&0!==o.length&&(await s.commandLine.Run(o,b),t.updateView());break;case"showSearchHistory":const c=await l.globalState.showSearchHistory();if(c){l.globalState.searchState=c;const e=c.getNextSearchMatchPosition(b.editor,b.cursorStartPosition,r.direction);if(!e)throw a.VimError.fromCode(r.direction>0?a.ErrorCode.SearchHitBottom:a.ErrorCode.SearchHitTop,c.searchString);b.cursorStopPosition=e.pos,t.updateView(),(0,m.reportSearch)(e.index,c.getMatchRanges(b.editor).length,b)}break;case"replayRecordedState":await t.rerunRecordedState(r.recordedState.clone());break;case"macro":const p=null===(i=await u.Register.get(r.register))||void 0===i?void 0:i.text;if(!(p instanceof d.RecordedState))return;if(b.isReplayingMacro=!0,b.recordedState=new d.RecordedState,":"===r.register)await s.commandLine.Run(p.commandString,b);else if("contentChange"===r.replay)await t.runMacro(p);else{let e=[];for(const t of p.actionsRun)e=e.concat(t.keysPressed);await t.handleMultipleKeyEvents(e)}if(await e(t,b.recordedState.transformer.transformations),b.isReplayingMacro=!1,b.lastInvokedMacro=p,b.lastMovementFailed)return void(b.lastMovementFailed=!1);break;case"contentChange":for(const e of r.changes)await h.TextEditor.insert(b.editor,e.text),b.cursorStopPosition=b.editor.selection.start;const g=b.cursorStopPosition.add(b.document,r.diff);b.editor.selection=new n.Selection(g,g);break;case"tab":if(await n.commands.executeCommand("tab"),r.diff){if(void 0===r.cursorIndex)throw new Error("No cursor index - this should never ever happen!");M[r.cursorIndex]||(M[r.cursorIndex]=[]),M[r.cursorIndex].push(r.diff)}break;case"reindent":if(await n.commands.executeCommand("editor.action.reindentselectedlines"),r.diff){if(void 0===r.cursorIndex)throw new Error("No cursor index - this should never ever happen!");M[r.cursorIndex]||(M[r.cursorIndex]=[]),M[r.cursorIndex].push(r.diff)}break;default:y.warn(`Unhandled text transformation type: ${r.type}.`)}const _=b.editor.selections.map((e=>{let t=f.Cursor.FromVSCodeSelection(e);return t.start.isBefore(t.stop)&&(t=t.withNewStop(t.stop.getLeftThroughLineBreaks(!0))),new n.Selection(t.start,t.stop)})),k=r[0],A=("deleteRange"===k.type||"replaceText"===k.type||"insertText"===k.type)&&k.manuallySetCursorPositions;if(b.currentMode===c.Mode.VisualBlock||A){if((null===(w=M[0])||void 0===w?void 0:w.length)>0){const e=M[0][0];b.cursorStopPosition=b.cursorStopPosition.add(b.document,e),b.cursorStartPosition=b.cursorStartPosition.add(b.document,e)}}else b.cursors=_.map(((e,t)=>{var r;const n=null!==(r=M[t])&&void 0!==r?r:[];return b.recordedState.operatorPositionDiff&&n.push(b.recordedState.operatorPositionDiff),n.reduce(((e,t)=>new f.Cursor(e.start.add(b.document,t),e.stop.add(b.document,t))),f.Cursor.FromVSCodeSelection(e))})),b.recordedState.operatorPositionDiff=void 0;"deleteRange"===k.type&&k.collapseRange&&(b.cursorStopPosition=new p.Position(b.cursorStopPosition.line,b.cursorStartPosition.character)),b.recordedState.transformer=new g.Transformer}},6167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.areAllSameTransformation=t.overlappingTransformations=t.isMultiCursorTextTransformation=t.isTextTransformation=void 0;const n=r(7549);t.isTextTransformation=e=>"insertText"===e.type||"replaceText"===e.type||"deleteRange"===e.type||"moveCursor"===e.type,t.isMultiCursorTextTransformation=e=>{var t;return null!==(t="insertTextVSCode"===e.type&&e.isMultiCursor)&&void 0!==t&&t};const i=e=>{switch(e.type){case"insertText":return new n.Range(e.position,e.position.advancePositionByText(e.text));case"replaceText":case"deleteRange":return e.range;case"moveCursor":return}throw new Error("Unhandled text transformation: "+e)};t.overlappingTransformations=function(e){for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){const n=e[t],o=e[r],s=i(n),a=i(o);if(!s||!a)continue;const c=s.intersection(a);if(c&&!c.start.isEqual(c.end))return[n,o]}},t.areAllSameTransformation=e=>{const t=e[0];return e.every((e=>Object.entries(e).every((([e,r])=>t[e]===r))))},t.stringify=function(e){return"replayRecordedState"===e.type?`Replay: ${e.recordedState.actionsRun.map((e=>e.keysPressed.join(""))).join("")}`:JSON.stringify(e)}},4543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const n=r(5845),i=r(6167);t.Transformer=class{constructor(){this.transformations=[],this.logger=n.Logger.get("Transformer")}addTransformation(e){this.logger.debug(`Adding Transformation ${(0,i.stringify)(e)}`),this.transformations.push(e)}insert(e,t,r){this.addTransformation({type:"insertText",position:e,text:t,diff:r})}delete(e,t){this.addTransformation({type:"deleteRange",range:e,diff:t})}replace(e,t,r){this.addTransformation({type:"replaceText",range:e,text:t,diff:r})}}},5789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Clipboard=void 0;const n=r(7549),i=r(5845);class o{static async Copy(e){try{await n.env.clipboard.writeText(e)}catch(e){this.logger.error(`Error copying to clipboard. err=${e}`)}}static async Paste(){return n.env.clipboard.readText()}}t.Clipboard=o,o.logger=i.Logger.get("Clipboard")},2659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalCommand=void 0;const n=r(5707),i=r(4376),o=r(5458),s=r(3259),a=r(1669),c=r(1765);t.externalCommand=new class{getRandomFileName(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,10)}expandCommand(e){const t=[];for(let r=0;r<e.length;r++)if("!"===e[r])if(r>0&&"\\"===e[r-1])t.pop(),t.push("!");else{if(!this.previousExternalCommand)throw s.VimError.fromCode(s.ErrorCode.NoPreviousCommand);t.push(this.previousExternalCommand)}else t.push(e[r]);return t.join("")}redirectCommand(e,t,r){let n;if("win32"===c.platform){const i=e.indexOf("|");n=-1!==i?`${e.slice(0,i)} < ${t} ${e.slice(i)} > ${r}`:`${e} < ${t} > ${r}`}else n="fish"===c.env.SHELL?`begin; ${e}; end < ${t} > ${r}`:`(${e}) < ${t} > ${r}`;return n+=" 2>&1",n}async run(e,t=""){const s=(0,o.join)((0,i.tmpdir)(),this.getRandomFileName()),c=(0,o.join)((0,i.tmpdir)(),this.getRandomFileName());let u="";try{await(0,n.writeFileAsync)(s,t,"utf8"),e=this.expandCommand(e),this.previousExternalCommand=e,e=this.redirectCommand(e,s,c);try{await Promise.resolve().then((()=>r(3129))).then((t=>(0,a.promisify)(t.exec)(e)))}catch(e){}u=await(0,n.readFileAsync)(c,"utf8"),u.endsWith("\n")&&(u=u.slice(0,-1))}finally{await(0,n.unlink)(s),await(0,n.unlink)(c)}return u}}},5845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(6071);class i{static get(e){let t=i.cache.get(e);return void 0===t&&(t=n.LoggerImpl.get(e),i.configuration&&t.configChanged(i.configuration),i.cache.set(e,t)),t}static configChanged(e){i.configuration=e;for(const t of this.cache.values())t.configChanged(e)}}t.Logger=i,i.cache=new Map,i.configuration=void 0},4376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tmpdir=void 0;const n=r(2087);t.tmpdir=function(){return n.tmpdir()}},5458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.join=t.readDirectory=t.resolveUri=t.getPathDetails=t.separatePath=void 0;const n=r(7549),i=r(5622),o=r(8967);function s(e,t){if(t===i.win32.sep&&e[0]===t&&e[1]===t&&-1===e.indexOf(t,2))return[e,""];const r=e.lastIndexOf(t)+1,n=e.slice(r);return[e.slice(0,r),n]}function a(e,t,r,o){const s=t===i.win32.sep;if(s&&!/^(\\\\.+\\)|([a-zA-Z]:\\)/.test(e))return null;if(!s&&e[0]!==t)return null;const a=!o&&"untitled"===r.scheme;return s?n.Uri.file(e):r.with({scheme:a?"file":r.scheme,path:e})}t.separatePath=s,t.getPathDetails=function(e,t,r){let n;n="untitled"===t.scheme?i===i.win32&&!r:"file"===t.scheme&&"/"!==t.fsPath[0];const a=n?i.win32:i.posix;n&&(e=e.replace(/\//g,"\\"));const c=e;("file"===t.scheme||"untitled"===t.scheme&&!r)&&(e=o(e));const[u,l]=s(e,a.sep);let d;return d=a.isAbsolute(u)?u:a.join(s(n?t.fsPath:t.path,a.sep)[0],u),{fullPath:a.join(d,l),fullDirPath:d,dirName:u,baseName:l,partialPath:c,path:a}},t.resolveUri=a,t.readDirectory=async function(e,t,r,i,o){try{const s=a(e,t,r,i);return null===s?[]:(await n.workspace.fs.readDirectory(s)).map((e=>e[0]+(e[1]===n.FileType.Directory?t:""))).concat(o?[`.${t}`,`..${t}`]:[])}catch{return[]}},t.join=function(...e){return i.join(...e)}},3403:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpecialKeys=void 0,(r=t.SpecialKeys||(t.SpecialKeys={})).ExtensionEnable="<ExtensionEnable>",r.ExtensionDisable="<ExtensionDisable>",r.TimeoutFinished="<TimeoutFinished>"},8965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportSearch=t.reportFileInfo=t.reportLinesYanked=t.reportLinesChanged=void 0;const n=r(4379),i=r(9220),o=r(7536);t.reportLinesChanged=function(e,t){e>o.configuration.report?i.StatusBar.setText(t,`${e} more lines`):-e>o.configuration.report?i.StatusBar.setText(t,`${Math.abs(e)} fewer lines`):i.StatusBar.clear(t)},t.reportLinesYanked=function(e,t){e>o.configuration.report?t.currentMode===n.Mode.VisualBlock?i.StatusBar.setText(t,`block of ${e} lines yanked`):i.StatusBar.setText(t,`${e} lines yanked`):i.StatusBar.clear(t)},t.reportFileInfo=function(e,t){const r=t.document,n=r.isUntitled?"[No Name]":r.fileName,o=r.isDirty?" [Modified]":"";if(1===r.lineCount&&0===r.lineAt(0).text.length)i.StatusBar.setText(t,`"${n}"${o} --No lines in buffer--`);else{const s=Math.floor((e.line+1)/r.lineCount*100);i.StatusBar.setText(t,`"${n}"${o} ${r.lineCount} line${r.lineCount>1?"s":""} --${s}%--`)}},t.reportSearch=function(e,t,r){i.StatusBar.setText(r,`match ${e+1} of ${t}`)}},3434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollView=t.clamp=t.getCursorsAfterSync=void 0;const n=r(7549),i=r(8693);t.getCursorsAfterSync=function(){return n.window.activeTextEditor.selections.map((e=>i.Cursor.FromVSCodeSelection(e)))},t.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)},t.scrollView=function(e,t){0!==t&&e.postponedCodeViewChanges.push({command:"editorScroll",args:{to:t>0?"up":"down",by:"line",value:Math.abs(t),revealCursor:!1,select:!1}})}},3856:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeContext=void 0;const n=r(7549),i=r(5845);class o{static async set(e,t){this.get(e)!==t&&(i.Logger.get("vscode-context").debug(`Setting key='${e}' to value='${t}'`),this.cache.set(e,t),await n.commands.executeCommand("setContext",e,t))}static get(e){return this.cache.get(e)}}t.VSCodeContext=o,o.cache=new Map},8967:(e,t,r)=>{"use strict";const n=r(2087).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return n?e.replace(/^~(?=$|\/|\\)/,n):e}},1159:(e,t,r)=>{e.exports=r(1669).deprecate},8353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5396),i=r(336);t.ConsoleForElectron=class extends i{constructor(e){super(e),this.prefix=e.prefix,this.stderrLevels=this._getStderrLevels(e.stderrLevels)}log(e,t){let r=e[n.MESSAGE];this.prefix&&(r=this.prefix+": "+r),this.stderrLevels.has(e[n.LEVEL])?console.error(r):console.log(r),t&&t()}_getStderrLevels(e){if(void 0===e)return new Set(["error"]);if(!Array.isArray(e))throw new Error("Cannot set stderrLevels to type other than Array");return this._stringArrayToSet(e)}_stringArrayToSet(e){if(!e)return new Set;if(!Array.isArray(e))throw new Error("Cannot make set from type other than Array of string elements");return e.reduce(((e,t)=>{if("string"!=typeof t)throw new Error("Cannot make set from type other than Array of string elements");return e[t]=!0,e}),new Set)}}},336:(e,t,r)=>{"use strict";const n=r(1669),{Writable:i}=r(2413),{LEVEL:o}=r(5396),s=e.exports=function(e={}){i.call(this,{objectMode:!0}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",(e=>{this.levels=e.levels,this.level=this.level||e.level,this.parent=e})),this.once("unpipe",(e=>{e===this.parent&&(this.parent=null,this.close&&this.close())}))};n.inherits(s,i),s.prototype._write=function(e,t,r){return this.silent||!0===e.exception&&!this.handleExceptions?r(null):(!this.level||this.levels[this.level]>=this.levels[e[o]])&&(e=this.format?this.format.transform(Object.assign({},e),this.format.options):e)?this.log(e,r):r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let t=0;t<e.length;t++)if(this._accept(e[t])){const r=this.format?this.format.transform(Object.assign({},e[t].chunk),this.format.options):e[t].chunk;r&&this.log(r,e[t].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;return!this.silent&&!(!0!==t.exception&&this.level&&!(this.levels[this.level]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},1037:(e,t,r)=>{"use strict";const n=r(1669),i=r(9909),{LEVEL:o}=r(5396),s=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",(e=>{this.levels=e.levels,this.parent=e})),this.once("unpipe",(e=>{e===this.parent&&(this.parent=null,this.close&&this.close())}))};n.inherits(s,i),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);const n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,r);let t,n;try{n=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!n){if(r(),t)throw t;return}return this.log(n,r)}return r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,i;try{i=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(e){n=e}if(n||!i){if(e[r].callback(),n)throw t(null),n}else this.log(i,e[r].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){},e.exports.LegacyTransportStream=r(4201)},4201:(e,t,r)=>{"use strict";const n=r(1669),{LEVEL:i}=r(5396),o=r(1037),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};n.inherits(s,o),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),r(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},1440:(e,t,r)=>{"use strict";const n=r(562),{warn:i}=r(2850),o=t;o.version=r(2561).i8,o.transports=r(9840),o.config=r(448),o.addColors=n.levels,o.format=n.format,o.createLogger=r(5658),o.ExceptionHandler=r(5120),o.RejectionHandler=r(5724),o.Container=r(6099),o.Transport=r(1037),o.loggers=new o.Container;const s=o.createLogger();Object.keys(o.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((e=>o[e]=(...t)=>s[e](...t))),Object.defineProperty(o,"level",{get:()=>s.level,set(e){s.level=e}}),Object.defineProperty(o,"exceptions",{get:()=>s.exceptions}),["exitOnError"].forEach((e=>{Object.defineProperty(o,e,{get:()=>s[e],set(t){s[e]=t}})})),Object.defineProperty(o,"default",{get:()=>({exceptionHandlers:s.exceptionHandlers,rejectionHandlers:s.rejectionHandlers,transports:s.transports})}),i.deprecated(o,"setLevels"),i.forFunctions(o,"useFormat",["cli"]),i.forProperties(o,"useFormat",["padLevels","stripColors"]),i.forFunctions(o,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(o,"deprecated",["emitErrs","levelLength"]),i.moved(o,"createLogger","Logger")},2850:(e,t,r)=>{"use strict";const{format:n}=r(1669);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach((n=>{e[n]=t.warn[r](n)}))},moved(e,t,r){function i(){return()=>{throw new Error([n("winston.%s was moved in winston@3.0.0.",r),n("Use a winston.%s instead.",t)].join("\n"))}}Object.defineProperty(e,r,{get:i,set:i})},forProperties(e,r,n){n.forEach((n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})}))}}},448:(e,t,r)=>{"use strict";const n=r(562),{configs:i}=r(5396);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},6099:(e,t,r)=>{"use strict";const n=r(5658);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?r.slice():[];const i=n(t);i.on("close",(()=>this._delete(e))),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach(((e,t)=>this._removeLogger(t)))}_removeLogger(e){this.loggers.has(e)&&(this.loggers.get(e).close(),this._delete(e))}_delete(e){this.loggers.delete(e)}}},5658:(e,t,r)=>{"use strict";const{LEVEL:n}=r(5396),i=r(448),o=r(9848),s=r(3420)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends o{constructor(e){super(e)}}const r=new t(e);return Object.keys(e.levels).forEach((function(e){s('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||r;if(1===t.length){const[o]=t,s=o&&o.message&&o||{message:o};return s.level=s[n]=e,i._addDefaultMeta(s),i.write(s),this||r}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},5120:(e,t,r)=>{"use strict";const n=r(2087),i=r(8058),o=r(3420)("winston:exception"),s=r(3138),a=r(7911),c=r(5193);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach((e=>{if(Array.isArray(e))return e.forEach((e=>this._addHandler(e)));this._addHandler(e)})),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((e=>this.logger.unpipe(e))))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map((e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()})))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,((e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(()=>a&&c())),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter((e=>(e.transport||e).handleExceptions))}}},5193:(e,t,r)=>{"use strict";const{Writable:n}=r(514);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},9848:(e,t,r)=>{"use strict";const{Stream:n,Transform:i}=r(514),o=r(8058),{LEVEL:s,SPLAT:a}=r(5396),c=r(4970),u=r(5120),l=r(5724),d=r(4201),h=r(46),{warn:m}=r(2850),f=r(448),p=/%[scdjifoO%]/g;class g extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(r){const n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:m,rewriters:p,stripColors:g,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(3922)(),this.defaultMeta=n||null,this.levels=i||this.levels||f.npm.levels,this.level=o,this.exceptions=new u(this),this.rejections=new l(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a]).forEach((e=>this.add(e))),c||d||h||m||p||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const r=v(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex((e=>{let n=v(this.levels,e.level);return null===n&&(n=r),n>=t})):r>=t)}log(e,t,...r){if(1===arguments.length)return e[s]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[s]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(this.write({[s]:e,level:e,message:t}),this);const[n]=r;if("object"==typeof n&&null!==n&&!(t&&t.match&&t.match(p))){const i=Object.assign({},this.defaultMeta,n,{[s]:e,[a]:r,level:e,message:t});return n.message&&(i.message=`${i.message} ${n.message}`),n.stack&&(i.stack=n.stack),this.write(i),this}return this.write(Object.assign({},this.defaultMeta,{[s]:e,[a]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[s]||(e[s]=e.level),this.levels[e[s]]||0===this.levels[e[s]]||console.error("[winston] Unknown logger level: %s",e[s]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options))}catch(e){throw e}finally{r()}}_final(e){const t=this.transports.slice();o(t,((e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()}),e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter((t=>t.transport===e))[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){m.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const r={},n=Object.assign({},e.query||{});o(this.transports.filter((e=>!!e.query)),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,((n,i)=>{if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)}))}(t,((e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null}))}),(()=>t(null,r)))}stream(e={}){const t=new n,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter((e=>!!e.stream)).forEach((n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)})),i.on("error",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)})))})),t}startTimer(){return new h(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){"error"!==e||this.transports.includes(t)||this.add(t),this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(g.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=g},46:e=>{"use strict";e.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},5724:(e,t,r)=>{"use strict";const n=r(2087),i=r(8058),o=r(3420)("winston:rejection"),s=r(3138),a=r(7911),c=r(5193);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach((e=>{if(Array.isArray(e))return e.forEach((e=>this._addHandler(e)));this._addHandler(e)})),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((e=>this.logger.unpipe(e))))}getAllInfo(e){let{message:t}=e;return t||"string"!=typeof e||(t=e),{error:e,level:"error",message:[`unhandledRejection: ${t||"(no error message)"}`,e.stack||"  No stack trace"].join("\n"),stack:e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map((e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()})))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),r=this._getRejectionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,((e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(()=>a&&c())),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter((e=>(e.transport||e).handleRejections))}}},4778:(e,t,r)=>{"use strict";const n=r(5747),{StringDecoder:i}=r(4304),{Stream:o}=r(514);function s(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new o;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",((i,o)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(o,r,0,r.length,l,((n,o)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!o)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let s=a.write(r.slice(0,o));t||c.emit("data",s),s=(u+s).split(/\n+/);const h=s.length-1;let m=0;for(;m<h;m++)(null==e.start||d>e.start)&&(t?t(null,s[m]):c.emit("line",s[m])),d++;return u=s[h],l+=o,i()}));n.close(o,s)}()})),t?c.destroy:c}},2158:(e,t,r)=>{"use strict";const n=r(2087),{LEVEL:i,MESSAGE:o}=r(5396),s=r(1037);e.exports=class extends s{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||n.EOL,this.setMaxListeners(30)}log(e,t){return setImmediate((()=>this.emit("logged",e))),this.stderrLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.error(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr?console._stderr.write(`${e[o]}${this.eol}`):console.warn(e[o]),void(t&&t())):(console._stdout?console._stdout.write(`${e[o]}${this.eol}`):console.log(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce(((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e}),{})}}},9140:(e,t,r)=>{"use strict";const n=r(5747),i=r(5622),o=r(8415),s=r(8761),{MESSAGE:a}=r(5396),{Stream:c,PassThrough:u}=r(514),l=r(1037),d=r(3420)("winston:file"),h=r(2087),m=r(4778);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach((r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)}))}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||h.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",(()=>{this._stream.once("finish",(()=>this.emit("finish"))),setImmediate((()=>this._stream.end()))})):(this._stream.once("finish",(()=>this.emit("finish"))),setImmediate((()=>this._stream.end()))))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",(()=>{this._drain=!1,this.log(e,t)}));if(this._rotate)return void this._stream.once("rotate",(()=>{this._rotate=!1,this.log(e,t)}));const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream((()=>this._rotateFile())))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",(()=>{this._drain=!1,t()}))),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){return(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until)),e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from)),e.order=e.order||"desc",e}(e);const r=i.join(this.dirname,this.filename);let o="",s=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);return!(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)||void 0})(r)&&function(t){e.rows&&s.length>=e.rows&&"desc"!==e.order?c.readable&&c.destroy():(e.fields&&(t=e.fields.reduce(((e,r)=>(e[r]=t[r],e)),{})),"desc"===e.order&&s.length>=e.rows&&s.shift(),s.push(t))}(r)}catch(e){r||c.emit("error",e)}}c.on("error",(e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)})),c.on("data",(t=>{const r=(t=(o+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;o=t[r]})),c.on("close",(()=>{o&&u(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)}))}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=m(n,((e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}})),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat(((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",(()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1}))}))))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,((n,i)=>n&&"ENOENT"===n.code?(d("ENOENTok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile((()=>this.stat(e))):(this.filename=t,void e(null,i.size))))}close(e){this._stream&&this._stream.end((()=>{e&&e(),this.emit("flush"),this.emit("closed")}))}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile((()=>this.open()))}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end((()=>{this._cleanupStream(this._dest),e()}))):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",(e=>d(e))).on("close",(()=>d("close",r.path,r.bytesWritten))).on("open",(()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())}));if(d("create stream ok",t),this.zippedArchive){const e=s.createGzip();return e.pipe(r),e}return r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t);this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created,n=!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`;return this.zippedArchive&&!this.tailable?`${n}.gz`:n}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)s.push(function(r,o){let s=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,s);n.exists(c,(u=>{if(!u)return o(null);s=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,s),o)}))}.bind(this,r));o(s,(()=>{n.rename(i.join(this.dirname,`${t}${e}`),i.join(this.dirname,`${t}1${e}${a}`),r)}))}_createLogDirIfNotExist(e){n.existsSync(e)||n.mkdirSync(e,{recursive:!0})}}},1734:(e,t,r)=>{"use strict";const n=r(8605),i=r(7211),{Stream:o}=r(514),s=r(1037);e.exports=class extends s{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,((t,r)=>{r&&200!==r.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)})),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={}),(e={method:"query",params:this.normalizeQuery(e)}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,((e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)}))}stream(e={}){const t=new o;(e={method:"stream",params:e}).params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let r="";const n=this._request(e);return t.destroy=()=>n.destroy(),n.on("data",(e=>{const n=(e=(r+e).split(/\n+/)).length-1;let i=0;for(;i<n;i++)try{t.emit("log",JSON.parse(e[i]))}catch(e){t.emit("error",e)}r=e[n]})),n.on("error",(e=>t.emit("error",e))),t}_request(e,t){const r=(e=e||{}).auth||this.auth,o=e.path||this.path||"";delete e.auth,delete e.path;const s=Object.assign({},this.headers);r&&r.bearer&&(s.Authorization=`Bearer ${r.bearer}`);const a=(this.ssl?i:n).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${o.replace(/^\//,"")}`,headers:s,auth:r&&r.username&&r.password?`${r.username}:${r.password}`:"",agent:this.agent});a.on("error",t),a.on("response",(e=>e.on("end",(()=>t(null,e))).resume())),a.end(Buffer.from(JSON.stringify(e),"utf8"))}}},9840:(e,t,r)=>{"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(2158)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(9140)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(1734)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(4635)})},4635:(e,t,r)=>{"use strict";const n=r(4970),{MESSAGE:i}=r(5396),o=r(2087),s=r(1037);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||o.EOL}log(e,t){if(setImmediate((()=>this.emit("logged",e))),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},7897:e=>{"use strict";const t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super(function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let i;var o;let s;var a,c;return"string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",s=function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument")?`The ${e} ${i} ${n(t,"type")}`:`The "${e}" ${a=e,"number"!=typeof c&&(c=0),c+".".length>a.length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${n(t,"type")}`,s+=". Received type "+typeof r,s}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6068:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(3680),o=r(3450);r(4378)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},9812:(e,t,r)=>{"use strict";e.exports=i;var n=r(4791);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4378)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},3680:(e,t,r)=>{"use strict";var n;e.exports=M,M.ReadableState=x,r(8614).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=r(1160),a=r(4293).Buffer,c=global.Uint8Array||function(){},u=r(1669);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,m=r(9428),f=r(502),p=r(7727).getHighWaterMark,g=r(7897).q,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(4378)(M,s);var C=f.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(6068),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",i),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(2553).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function M(e){if(n=n||r(6068),!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function E(e,t,r,n,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}(e,u);else if(o||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),s)C(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)u.endEmitted?C(e,new b):_(e,u,t,!0);else if(u.ended)C(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?_(e,u,t,!1):T(e,u)):_(e,u,t,!1)}else n||(u.reading=!1,T(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),T(e,t)}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=f.destroy,M.prototype._undestroy=f.undestroy,M.prototype._destroy=function(e,t){t(e)},M.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},M.prototype.unshift=function(e){return E(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(e){l||(l=r(2553).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(P,e))}function P(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function T(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){i("readable nexttick read 0"),e.read(0)}function $(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function I(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(j,t,e))}function j(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}M.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):R(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},M.prototype._read=function(e){C(this,new w("_read()"))},M.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?f:a;function a(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",f),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,F(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==N(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),f(),e.removeListener("error",d),0===o(e,"error")&&C(e,t)}function h(){e.removeListener("finish",m),f()}function m(){i("onfinish"),e.removeListener("close",h),f()}function f(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",m),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},M.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(O,this))),r},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),r},M.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},M.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick($,e,t))}(this,e)),e.paused=!1,this},M.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},M.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(M.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(5604)),d(this)}),Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(M.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(M.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),M._fromList=D,Object.defineProperty(M.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(M.from=function(e,t){return void 0===h&&(h=r(7285)),h(M,e,t)})},4791:(e,t,r)=>{"use strict";e.exports=l;var n=r(7897).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6068);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(4378)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},3450:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=M,M.WritableState=x;var o,s={deprecate:r(1159)},a=r(1160),c=r(4293).Buffer,u=global.Uint8Array||function(){},l=r(502),d=r(7727).getHighWaterMark,h=r(7897).q,m=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,p=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,C=l.errorOrDestroy;function S(){}function x(e,t,o){i=i||r(6068),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(P,e,t),e._writableState.errorEmitted=!0,C(e,n)):(i(n),e._writableState.errorEmitted=!0,C(e,n),P(e,t))}(e,r,n,t,i);else{var o=A(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(_,e,r,o,i):_(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function M(e){var t=this instanceof(i=i||r(6068));if(!t&&!o.call(M,this))return new M(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function E(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,E(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(E(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&C(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=A(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(4378)(M,a),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===M&&e&&e._writableState instanceof x}})):o=function(e){return e instanceof this},M.prototype.pipe=function(){C(this,new g)},M.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(e,t){var r=new w;C(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new m("chunk",["string","Buffer"],r)),!i||(C(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,a,n,i,o);return u}(this,i,s,e,t,r)),o},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new f("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=l.destroy,M.prototype._undestroy=l.undestroy,M.prototype._destroy=function(e,t){t(e)}},5604:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(6706),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function m(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(m(r,!1)))}}function p(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(m(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(m(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(m(i,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(m(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[s]=null,r[a]=null,e(m(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(m(void 0,!0))),r[u]=!0})),e.on("readable",p.bind(null,r)),r}},9428:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(4293).Buffer,a=r(1669).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),e}()},502:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},6706:(e,t,r)=>{"use strict";var n=r(7897).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},m=function(e){o.call(t,e)},f=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},p=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",f),t.req?p():t.on("request",p)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",m),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",p),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",m),t.removeListener("close",f)}}},7285:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(7897).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return d.apply(this,arguments)}function d(){return(d=i((function*(){try{var e=yield n.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},3967:(e,t,r)=>{"use strict";var n,i=r(7897).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(6706)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}},7727:(e,t,r)=>{"use strict";var n=r(7897).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},1160:(e,t,r)=>{e.exports=r(2413)},514:(e,t,r)=>{var n=r(2413);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(3680)).Stream=n||t,t.Readable=t,t.Writable=r(3450),t.Duplex=r(6068),t.Transform=r(4791),t.PassThrough=r(9812),t.finished=r(6706),t.pipeline=r(3967))},4293:e=>{"use strict";e.exports=require("buffer")},3129:e=>{"use strict";e.exports=require("child_process")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},1765:e=>{"use strict";e.exports=require("process")},2413:e=>{"use strict";e.exports=require("stream")},4304:e=>{"use strict";e.exports=require("string_decoder")},3867:e=>{"use strict";e.exports=require("tty")},1669:e=>{"use strict";e.exports=require("util")},7549:e=>{"use strict";e.exports=require("vscode")},8761:e=>{"use strict";e.exports=require("zlib")},1103:e=>{"use strict";e.exports={i8:"3.1.0"}},2561:e=>{"use strict";e.exports={i8:"3.3.3"}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"vim","displayName":"Vim","description":"Vim emulation for Visual Studio Code","icon":"images/icon.png","version":"1.21.7","publisher":"vscodevim","galleryBanner":{"color":"#e3f4ff","theme":"light"},"license":"MIT","keywords":["vim","vi","vscodevim"],"repository":{"type":"git","url":"https://github.com/VSCodeVim/Vim.git"},"homepage":"https://github.com/VSCodeVim/Vim","bugs":{"url":"https://github.com/VSCodeVim/Vim/issues"},"engines":{"vscode":"^1.57.0"},"categories":["Other","Keymaps"],"extensionKind":["ui","web","workspace"],"sideEffects":false,"activationEvents":["*","onCommand:type"],"qna":"https://vscodevim.herokuapp.com/","main":"./out/extension","browser":"./out/extensionWeb","capabilities":{"untrustedWorkspaces":{"supported":true},"virtualWorkspaces":true},"contributes":{"commands":[{"command":"toggleVim","title":"Vim: Toggle Vim Mode"},{"command":"vim.showQuickpickCmdLine","title":"Vim: Show Command Line"},{"command":"vim.editVimrc","title":"Vim: Edit .vimrc"}],"keybindings":[{"key":"Escape","command":"extension.vim_escape","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Escape","command":"notebook.cell.quitEdit","when":"inputFocus && notebookEditorFocused && !editorHasSelection && !editorHoverVisible && vim.active && vim.mode == \'Normal\'"},{"key":"Home","command":"extension.vim_home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"ctrl+home","command":"extension.vim_ctrl+home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"End","command":"extension.vim_end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"ctrl+end","command":"extension.vim_ctrl+end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"Insert","command":"extension.vim_insert","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Backspace","command":"extension.vim_backspace","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Delete","command":"extension.vim_delete","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"tab","command":"extension.vim_tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+tab","command":"extension.vim_shift+tab","when":"editorFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"left","command":"extension.vim_left","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"right","command":"extension.vim_right","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"up","command":"extension.vim_up","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"down","command":"extension.vim_down","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"g g","command":"list.focusFirst","when":"listFocus && !inputFocus"},{"key":"h","command":"list.collapse","when":"listFocus && !inputFocus"},{"key":"j","command":"list.focusDown","when":"listFocus && !inputFocus"},{"key":"k","command":"list.focusUp","when":"listFocus && !inputFocus"},{"key":"l","command":"list.select","when":"listFocus && !inputFocus"},{"key":"o","command":"list.toggleExpand","when":"listFocus && !inputFocus"},{"key":"/","command":"list.toggleKeyboardNavigation","when":"listFocus && !inputFocus && listSupportsKeyboardNavigation"},{"key":"ctrl+a","command":"extension.vim_ctrl+a","when":"editorTextFocus && vim.active && vim.use<C-a> && !inDebugRepl"},{"key":"ctrl+b","command":"extension.vim_ctrl+b","when":"editorTextFocus && vim.active && vim.use<C-b> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+c","command":"extension.vim_ctrl+c","when":"editorTextFocus && vim.active && vim.use<C-c> && !inDebugRepl && vim.overrideCtrlC"},{"key":"ctrl+d","command":"extension.vim_ctrl+d","when":"editorTextFocus && vim.active && vim.use<C-d> && !inDebugRepl"},{"key":"ctrl+d","command":"list.focusPageDown","when":"listFocus && !inputFocus"},{"key":"ctrl+e","command":"extension.vim_ctrl+e","when":"editorTextFocus && vim.active && vim.use<C-e> && !inDebugRepl"},{"key":"ctrl+f","command":"extension.vim_ctrl+f","when":"editorTextFocus && vim.active && vim.use<C-f> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+g","command":"extension.vim_ctrl+g","when":"editorTextFocus && vim.active && vim.use<C-g> && !inDebugRepl"},{"key":"ctrl+h","command":"extension.vim_ctrl+h","when":"editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"},{"key":"ctrl+i","command":"extension.vim_ctrl+i","when":"editorTextFocus && vim.active && vim.use<C-i> && !inDebugRepl"},{"key":"ctrl+j","command":"extension.vim_ctrl+j","when":"editorTextFocus && vim.active && vim.use<C-j> && !inDebugRepl"},{"key":"ctrl+k","command":"extension.vim_ctrl+k","when":"editorTextFocus && vim.active && vim.use<C-k> && !inDebugRepl"},{"key":"ctrl+l","command":"extension.vim_navigateCtrlL","when":"editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"},{"key":"ctrl+m","command":"extension.vim_ctrl+m","when":"editorTextFocus && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-m> && !inDebugRepl"},{"key":"ctrl+n","command":"extension.vim_ctrl+n","when":"editorTextFocus && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-n> && !inDebugRepl"},{"key":"ctrl+o","command":"extension.vim_ctrl+o","when":"editorTextFocus && vim.active && vim.use<C-o> && !inDebugRepl"},{"key":"ctrl+p","command":"extension.vim_ctrl+p","when":"suggestWidgetVisible && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-p> && !inDebugRepl"},{"key":"ctrl+q","command":"extension.vim_winCtrlQ","when":"editorTextFocus && vim.active && vim.use<C-q> && !inDebugRepl"},{"key":"ctrl+r","command":"extension.vim_ctrl+r","when":"editorTextFocus && vim.active && vim.use<C-r> && !inDebugRepl"},{"key":"ctrl+t","command":"extension.vim_ctrl+t","when":"editorTextFocus && vim.active && vim.use<C-t> && !inDebugRepl"},{"key":"ctrl+u","command":"extension.vim_ctrl+u","when":"editorTextFocus && vim.active && vim.use<C-u> && !inDebugRepl"},{"key":"ctrl+u","command":"list.focusPageUp","when":"listFocus && !inputFocus"},{"key":"ctrl+v","command":"extension.vim_ctrl+v","when":"editorTextFocus && vim.active && vim.use<C-v> && !inDebugRepl"},{"key":"ctrl+w","command":"extension.vim_ctrl+w","when":"editorTextFocus && vim.active && vim.use<C-w> && !inDebugRepl"},{"key":"ctrl+x","command":"extension.vim_ctrl+x","when":"editorTextFocus && vim.active && vim.use<C-x> && !inDebugRepl"},{"key":"ctrl+y","command":"extension.vim_ctrl+y","when":"editorTextFocus && vim.active && vim.use<C-y> && !inDebugRepl"},{"key":"ctrl+6","command":"extension.vim_ctrl+6","when":"editorTextFocus && vim.active && vim.use<C-6> && !inDebugRepl"},{"key":"ctrl+^","command":"extension.vim_ctrl+^","when":"editorTextFocus && vim.active && vim.use<C-^> && !inDebugRepl"},{"key":"ctrl+[","command":"extension.vim_ctrl+[","when":"editorTextFocus && vim.active && vim.use<C-[> && !inDebugRepl"},{"key":"ctrl+]","command":"extension.vim_ctrl+]","when":"editorTextFocus && vim.active && vim.use<C-]> && !inDebugRepl"},{"key":"ctrl+shift+2","command":"extension.vim_ctrl+shift+2","when":"editorTextFocus && vim.active && vim.use<C-shift+2>"},{"key":"ctrl+up","command":"extension.vim_ctrl+up","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+down","command":"extension.vim_ctrl+down","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+left","command":"extension.vim_ctrl+left","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+right","command":"extension.vim_ctrl+right","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+pagedown","command":"extension.vim_ctrl+pagedown","when":"editorTextFocus && vim.active && vim.use<C-pagedown> && !inDebugRepl"},{"key":"ctrl+pageup","command":"extension.vim_ctrl+pageup","when":"editorTextFocus && vim.active && vim.use<C-pageup> && !inDebugRepl"},{"key":"ctrl+space","command":"extension.vim_ctrl+space","when":"editorTextFocus && vim.active && vim.use<C-space> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"shift+G","command":"list.focusLast","when":"listFocus && !inputFocus"},{"key":"ctrl+backspace","command":"extension.vim_ctrl+backspace","when":"editorTextFocus && vim.active && vim.use<C-BS> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+backspace","command":"extension.vim_shift+backspace","when":"editorTextFocus && vim.active && vim.use<S-BS> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"cmd+left","command":"extension.vim_cmd+left","when":"editorTextFocus && vim.active && vim.use<D-left> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+right","command":"extension.vim_cmd+right","when":"editorTextFocus && vim.active && vim.use<D-right> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+a","command":"extension.vim_cmd+a","when":"editorTextFocus && vim.active && vim.use<D-a> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+c","command":"extension.vim_cmd+c","when":"editorTextFocus && vim.active && vim.use<D-c> && vim.overrideCopy && !inDebugRepl"},{"key":"cmd+d","command":"extension.vim_cmd+d","when":"editorTextFocus && vim.active && vim.use<D-d> && !inDebugRepl"},{"key":"cmd+v","command":"extension.vim_cmd+v","when":"editorTextFocus && vim.active && vim.use<D-v> && vim.mode == \'CommandlineInProgress\' !inDebugRepl || editorTextFocus && vim.active && vim.use<D-v> && vim.mode == \'SearchInProgressMode\' && !inDebugRepl"},{"key":"ctrl+alt+down","linux":"shift+alt+down","mac":"cmd+alt+down","command":"extension.vim_cmd+alt+down","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+alt+up","linux":"shift+alt+up","mac":"cmd+alt+up","command":"extension.vim_cmd+alt+up","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"j","command":"notebook.focusNextEditor","when":"vim.mode == \'Normal\' && editorTextFocus && inputFocus && notebookEditorFocused && notebookEditorCursorAtBoundary != \'none\' && notebookEditorCursorAtBoundary != \'top\'"},{"key":"k","command":"notebook.focusPreviousEditor","when":"vim.mode == \'Normal\' && editorTextFocus && inputFocus && notebookEditorFocused && notebookEditorCursorAtBoundary != \'bottom\' && notebookEditorCursorAtBoundary != \'none\'"}],"configuration":{"title":"Vim","type":"object","properties":{"vim.debug.silent":{"type":"boolean","description":"If true, all logs are suppressed.","default":false},"vim.debug.loggingLevelForAlert":{"type":"string","description":"Maximum level of messages to present as VS Code information window.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.debug.loggingLevelForConsole":{"type":"string","description":"Maximum level of messages to log to console. Logs are visible in developer tools.","default":"error","enum":["error","warn","info","verbose","debug"]},"vim.normalModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.normalModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.operatorPendingModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in OperatorPending mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.operatorPendingModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in OperatorPending mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.useCtrlKeys":{"type":"boolean","markdownDescription":"Enable some Vim Ctrl key commands that override otherwise common operations, like `Ctrl+C`.","default":true},"vim.leader":{"type":"string","markdownDescription":"What key should `<leader>` map to in remappings?","default":"\\\\"},"vim.searchHighlightColor":{"type":"string","description":"Color of the search highlight."},"vim.searchHighlightTextColor":{"type":"string","description":"Color of the search highlight text."},"vim.highlightedyank.enable":{"type":"boolean","description":"Enable highlighting when yanking.","default":false},"vim.highlightedyank.color":{"type":"string","description":"Color of the yank highlight.","default":"rgba(250, 240, 170, 0.5)"},"vim.highlightedyank.textColor":{"type":"string","description":"Color of the yank highlight text."},"vim.highlightedyank.duration":{"type":"number","description":"Duration in milliseconds of the yank highlight.","default":200,"minimum":1},"vim.useSystemClipboard":{"type":"boolean","description":"Use system clipboard for unnamed register.","default":false},"vim.overrideCopy":{"type":"boolean","description":"Override VS Code\'s copy command with our own copy command, which works better with VSCodeVim. Turn this off if copying is not working.","default":true},"vim.insertModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.insertModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.visualModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.visualModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.commandLineModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.commandLineModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.textwidth":{"type":"number","markdownDescription":"Width to word-wrap to when using `gq`.","default":80,"minimum":1},"vim.timeout":{"type":"number","description":"Timeout in milliseconds for remapped commands.","default":1000,"minimum":0},"vim.maxmapdepth":{"type":"number","description":"Maximum number of times a mapping is done without resulting in a character to be used.","default":1000,"minimum":0},"vim.scroll":{"type":"number","markdownDescription":"Number of lines to scroll with `Ctrl-U` and `Ctrl-D` commands. Set to 0 to use a half page scroll.","default":0,"minimum":0},"vim.showcmd":{"type":"boolean","description":"Show the text of any command you are in the middle of writing.","default":true},"vim.showmodename":{"type":"boolean","description":"Show the name of the current mode in the statusbar.","default":true},"vim.iskeyword":{"type":"string","markdownDescription":"Keywords contain alphanumeric characters and \'_\'. If not configured, `#editor.wordSeparators#` is used."},"vim.ignorecase":{"type":"boolean","description":"Ignore case in search patterns.","default":true},"vim.smartcase":{"type":"boolean","markdownDescription":"Override the `ignorecase` option if the search pattern contains upper case characters.","default":true},"vim.camelCaseMotion.enable":{"type":"boolean","markdownDescription":"Enable the [CamelCaseMotion](https://github.com/bkad/CamelCaseMotion) plugin for Vim.","default":false},"vim.easymotion":{"type":"boolean","markdownDescription":"Enable the [EasyMotion](https://github.com/easymotion/vim-easymotion) plugin for Vim.","default":false},"vim.easymotionMarkerBackgroundColor":{"type":"string","default":"#0000","description":"Set a custom background color for EasyMotion markers."},"vim.easymotionMarkerForegroundColorOneChar":{"type":"string","default":"#ff0000","description":"Set a custom color for the text on one character long markers."},"vim.easymotionMarkerForegroundColorTwoChar":{"type":"string","description":"Set a custom color for the text on two character long markers.","markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting, use `#vim.easymotionMarkerForegroundColorTwoCharFirst#` and `#vim.easymotionMarkerForegroundColorTwoCharSecond#` instead.","deprecationMessage":"Deprecated: Please don\'t use this setting, use `#vim.easymotionMarkerForegroundColorTwoCharFirst#` and `#vim.easymotionMarkerForegroundColorTwoCharSecond#` instead."},"vim.easymotionMarkerForegroundColorTwoCharFirst":{"type":"string","default":"#ffb400","description":"Set a custom color for the first character on two character long markers."},"vim.easymotionMarkerForegroundColorTwoCharSecond":{"type":"string","default":"#b98300","description":"Set a custom color for the second character on two character long markers."},"vim.easymotionIncSearchForegroundColor":{"type":"string","default":"#7fbf00","description":"Set a custom color for the easymotion search n-character (default `<leader><leader>/`)."},"vim.easymotionDimColor":{"type":"string","default":"#777777","description":"Set a custom color for the easymotion dimmed characters when `#vim.easymotionDimBackground#` is set to true."},"vim.easymotionMarkerWidthPerChar":{"type":"number","description":"Set the width (in pixels) allocated to each character in the match.","default":8,"minimum":1,"markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting; the extension now lets vscode calculate the correct width.","deprecationMessage":"Deprecated: Please don\'t use this setting; the extension now lets vscode calculate the correct width."},"vim.easymotionDimBackground":{"type":"boolean","description":"Whether to dim other text while markers are visible.","default":true},"vim.easymotionMarkerFontFamily":{"type":"string","description":"Set the font family of the marker text.","default":"","markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting; the extension now uses `#editor.fontFamily#` instead.","deprecationMessage":"Deprecated: Please don\'t use this setting; the extension now uses editor.fontFamily instead."},"vim.easymotionMarkerFontSize":{"type":"string","description":"Set the font size of the marker text.","default":"","markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting; the extension now uses `#editor.fontSize#` instead.","deprecationMessage":"Deprecated: Please don\'t use this setting; the extension now uses editor.fontSize instead."},"vim.easymotionMarkerFontWeight":{"type":"string","description":"Set the font weight of the marker text.","default":"bold"},"vim.easymotionMarkerMargin":{"type":"number","description":"Set the margin around each marker, in pixels.","default":0,"markdownDeprecationMessage":"**Deprecated**: Please don\'t use this setting, it is no longer required.","deprecationMessage":"Deprecated: Please don\'t use this setting, it is no longer required."},"vim.easymotionKeys":{"type":"string","description":"Set the characters used for jump marker name.","default":"hklyuiopnm,qwertzxcvbasdgjf;"},"vim.easymotionJumpToAnywhereRegex":{"type":"string","description":"Regex matches for JumpToAnywhere motion.","default":"\\\\b[A-Za-z0-9]|[A-Za-z0-9]\\\\b|_.|#.|[a-z][A-Z]"},"vim.replaceWithRegister":{"type":"boolean","markdownDescription":"Enable the [ReplaceWithRegister](https://github.com/vim-scripts/ReplaceWithRegister) plugin for Vim.","default":false},"vim.smartRelativeLine":{"type":"boolean","markdownDescription":"`#editor.lineNumbers#` is determined by the active Vim mode, absolute when in insert mode, relative otherwise.","default":false},"vim.sneak":{"type":"boolean","markdownDescription":"Enable the [Sneak](https://github.com/justinmk/vim-sneak) plugin for Vim.","default":false},"vim.sneakUseIgnorecaseAndSmartcase":{"type":"boolean","markdownDescription":"Case sensitivity is determined by `#vim.ignorecase#` and `#vim.smartcase#`.","default":false},"vim.sneakReplacesF":{"type":"boolean","markdownDescription":"Use single-character [Sneak](https://github.com/justinmk/vim-sneak) instead of Vim\'s native `f`.","default":false},"vim.surround":{"type":"boolean","markdownDescription":"Enable the [Surround](https://github.com/tpope/vim-surround) plugin for Vim.","default":true},"vim.argumentObjectSeparators":{"type":"array","items":{"type":"string"},"markdownDescription":"Set separators for the argument text object.","default":[","]},"vim.argumentObjectOpeningDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set opening delimiters for the argument text object.","default":["(","["]},"vim.argumentObjectClosingDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set closing delimiters for the argument text object.","default":[")","]"]},"vim.hlsearch":{"type":"boolean","description":"Show all matches of the most recent search pattern.","default":false},"vim.incsearch":{"type":"boolean","markdownDescription":"Show where a `/` or `?` search matches as you type it.","default":true},"vim.history":{"type":"number","description":"How much search or command history should be remembered.","default":50,"minimum":1},"vim.autoindent":{"type":"boolean","description":"Indent code automatically.","default":true},"vim.joinspaces":{"type":"boolean","description":"Add two spaces after \'.\', \'?\', and \'!\' when joining or reformatting.","default":true},"vim.startInInsertMode":{"type":"boolean","description":"Start in Insert mode."},"vim.handleKeys":{"type":"object","description":"Delegate certain key combinations back to VSCode to be handled natively.","default":{"<C-d>":true}},"vim.statusBarColorControl":{"type":"boolean","markdownDescription":"Allow VSCodeVim to change status bar color based on mode. **NOTE:** Using this feature will have a negative impact on performance.","default":false},"vim.statusBarColors.normal":{"type":["string","array"],"description":"Status bar color when in Normal mode.","default":"#005f5f"},"vim.statusBarColors.insert":{"type":["string","array"],"description":"Status bar color when in Insert mode.","default":"#5f0000"},"vim.statusBarColors.visual":{"type":["string","array"],"description":"Status bar color when in Visual mode.","default":"#5f00af"},"vim.statusBarColors.visualline":{"type":["string","array"],"description":"Status bar color when in VisualLine mode.","default":"#005f5f"},"vim.statusBarColors.visualblock":{"type":["string","array"],"description":"Status bar color when in VisualBlock mode.","default":"#86592d"},"vim.statusBarColors.replace":{"type":["string","array"],"description":"Status bar color when in Replace mode.","default":"#00000"},"vim.statusBarColors.commandlineinprogress":{"type":["string","array"],"description":"Status bar color when in CommandLineInProgress mode.","default":"#007acc"},"vim.statusBarColors.searchinprogressmode":{"type":["string","array"],"description":"Status bar color when in SearchInProgress mode.","default":"#007acc"},"vim.statusBarColors.easymotionmode":{"type":["string","array"],"description":"Status bar color when in EasyMotion mode.","default":"#007acc"},"vim.statusBarColors.easymotioninputmode":{"type":["string","array"],"description":"Status bar color when in EasyMotionInput mode.","default":"#007acc"},"vim.statusBarColors.surroundinputmode":{"type":["string","array"],"description":"Status bar color when in SurroundInput mode.","default":"#007acc"},"vim.visualstar":{"type":"boolean","markdownDescription":"In Visual mode, start a search with `*` or `#` using the current selection.","default":false},"vim.changeWordIncludesWhitespace":{"type":"boolean","description":"Includes trailing whitespace when changing word.","default":false},"vim.foldfix":{"type":"boolean","description":"Uses a hack to move around folds properly.","default":false},"vim.mouseSelectionGoesIntoVisualMode":{"type":"boolean","description":"If enabled, dragging with the mouse activates Visual mode.","default":true},"vim.disableExtension":{"type":"boolean","description":"Disables the VSCodeVim extension. The extension will continue to be loaded and activated, but Vim functionality will be disabled.","default":false},"vim.enableNeovim":{"type":"boolean","markdownDescription":"Use Neovim to execute Ex commands. You should restart VS Code after enabling/disabling this for the changes to take effect. **NOTE:** Neovim version 0.2.0 or greater must be installed, and if the executable is not on your PATH, `#vim.neovimPath#` must be set.","default":false},"vim.neovimPath":{"type":"string","markdownDescription":"Path to Neovim executable. For example, `/usr/bin/nvim`, or  `C:\\\\Program Files\\\\Neovim\\\\bin\\\\nvim.exe`.","default":"","scope":"machine"},"vim.neovimUseConfigFile":{"type":"boolean","markdownDescription":"Use a config file for Neovim, specified by `vim.neovimConfigPath`.","default":false},"vim.neovimConfigPath":{"type":"string","markdownDescription":"Path to Neovim configuration file. `vim.neovimUseConfigFile` must be enabled. If path is left blank, Neovim will use its default config path, i.e. `~/.config/nvim/init.vim` or \'C:\\\\Users\\\\USERNAME\\\\AppData\\\\Local\\\\nvim\\\\init.vim\'.","default":"","scope":"machine"},"vim.vimrc.enable":{"type":"boolean","markdownDescription":"Use key mappings from a `.vimrc` file.","default":false},"vim.vimrc.path":{"type":"string","markdownDescription":"Path to a Vim configuration file. If unset, it will check for `$HOME/.vimrc`, `$HOME/_vimrc`, and `$HOME/.config/nvim/init.vim`, in that order."},"vim.substituteGlobalFlag":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false,"markdownDeprecationMessage":"**Deprecated**: Please use `#vim.gdefault#` instead.","deprecationMessage":"Deprecated: Please use vim.gdefault instead."},"vim.gdefault":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false},"vim.cursorStylePerMode.normal":{"type":"string","description":"Cursor style for Normal mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.insert":{"type":"string","description":"Cursor style for Insert mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.replace":{"type":"string","description":"Cursor style for Replace mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visual":{"type":"string","description":"Cursor style for Visual mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualline":{"type":"string","description":"Cursor style for VisualLine mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualblock":{"type":"string","description":"Cursor style for VisualBlock mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.autoSwitchInputMethod.enable":{"type":"boolean","description":"If enabled, the input method switches automatically when the mode changes.","default":false},"vim.autoSwitchInputMethod.defaultIM":{"type":"string","markdownDescription":"The input method for your normal mode, find more information [here](https://github.com/VSCodeVim/Vim#input-method).","default":""},"vim.autoSwitchInputMethod.switchIMCmd":{"type":"string","description":"The shell command to switch input method.","default":"/path/to/im-select {im}"},"vim.autoSwitchInputMethod.obtainIMCmd":{"type":"string","description":"The shell command to get current input method.","default":"/path/to/im-select"},"vim.whichwrap":{"type":"string","description":"Comma-separated list of motion keys that should wrap to next/previous line.","default":"b,s"},"vim.report":{"type":"number","description":"Threshold for reporting number of lines changed.","default":2,"minimum":1},"vim.digraphs":{"type":"object","description":"Custom digraph shortcuts for inserting special characters, expressed as UTF16 code points.","default":{}},"vim.wrapscan":{"type":"boolean","description":"Searches wrap around the end of the file.","default":true},"vim.startofline":{"type":"boolean","markdownDescription":"When `true` the commands listed below move the cursor to the first non-blank of the line.  When `false` the cursor is kept in the same column (if possible).  This applies to the commands: `<C-d>`, `<C-u>`, `<C-b>`, `<C-f>`, `G`, `H`, `M`, `L`, `gg`, and to the commands `d`, `<<` and `>>` with a linewise operator.","default":true},"vim.showMarksInGutter":{"type":"boolean","description":"Show the currently set mark(s) in the gutter.","default":false}}},"languages":[{"id":"vimrc","extensions":[".vimrc"],"configuration":"./language-configuration.json"}],"grammars":[{"language":"vimrc","scopeName":"source.vimrc","path":"./syntaxes/vimrc.tmLanguage.json"}]},"scripts":{"vscode:prepublish":"gulp build","build":"gulp build","test":"node ./out/test/runTest.js","forceprettier":"gulp forceprettier"},"dependencies":{"diff-match-patch":"1.0.5","lodash":"^4.17.21","neovim":"4.10.0","path-browserify":"1.0.1","queue":"^6.0.2","source-map-support":"0.5.19","untildify":"4.0.0","winston":"3.3.3","winston-console-for-electron":"0.0.6","winston-transport":"4.4.0"},"devDependencies":{"@types/diff":"5.0.1","@types/diff-match-patch":"1.0.32","@types/glob":"7.1.4","@types/lodash":"4.14.172","@types/mocha":"9.0.0","@types/node":"12.20.21","@types/sinon":"10.0.2","@types/source-map-support":"0.5.4","@types/vscode":"1.57.0","clean-webpack-plugin":"3.0.0","event-stream":"4.0.1","fork-ts-checker-webpack-plugin":"6.3.2","gulp":"4.0.2","gulp-bump":"3.2.0","gulp-git":"2.10.1","gulp-sourcemaps":"3.0.0","gulp-tag-version":"1.3.1","gulp-tslint":"8.1.4","gulp-typescript":"5.0.1","minimist":"1.2.5","mocha":"9.1.1","plugin-error":"1.0.1","prettier":"2.3.2","sinon":"11.1.2","ts-loader":"9.2.5","tslint":"6.1.3","typescript":"4.4.2","vsce":"1.96.2","vscode-test":"1.6.1","webpack":"5.51.1","webpack-cli":"4.8.0","webpack-merge":"5.8.0","webpack-stream":"6.1.2"}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=e.getAndUpdateModeHandler=void 0,r(2460),r(7170),r(5794),r(9519),r(6815),r(2594);const t=r(6252),i=r(3937),o=r(2253),s=r(7125);var a=r(3937);Object.defineProperty(e,"getAndUpdateModeHandler",{enumerable:!0,get:function(){return a.getAndUpdateModeHandler}}),e.activate=async function(e){o.Globals.extensionStoragePath=e.globalStoragePath,(0,t.install)(),(0,i.activate)(e)},e.deactivate=async function(){await s.Register.saveToDisk(!0)}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map